(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,t,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"warnOnce",{enumerable:!0,get:function(){return r}});let r=e=>{}},87486,e=>{"use strict";var t=e.i(43476),a=e.i(25913),r=e.i(86011),i=e.i(75157);let o=(0,a.cva)("inline-flex items-center justify-center rounded-full border border-transparent px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border-border text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground",ghost:"[a&]:hover:bg-accent [a&]:hover:text-accent-foreground",link:"text-primary underline-offset-4 [a&]:hover:underline"}},defaultVariants:{variant:"default"}});function s({className:e,variant:a="default",asChild:s=!1,...n}){let l=s?r.Slot.Root:"span";return(0,t.jsx)(l,{"data-slot":"badge","data-variant":a,className:(0,i.cn)(o({variant:a}),e),...n})}e.s(["Badge",()=>s])},93479,9165,e=>{"use strict";var t=e.i(43476),a=e.i(75157);function r({className:e,type:r,...i}){return(0,t.jsx)("input",{type:r,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...i})}e.s(["Input",()=>r],93479);var i=e.i(7471);async function o(e,t,a="Completa"){try{let{error:r}=await i.supabase.from("hodometro").update({ultima_revisao_km:t,ultima_revisao_tipo:a,updated_at:new Date().toISOString()}).eq("placa",e);if(r)return console.error("Error registering revision:",r),{success:!1,error:r.message};return{success:!0}}catch(e){return console.error("Error registering revision:",e),{success:!1,error:"Erro ao registrar revisão"}}}async function s(e,t){try{let{error:a}=await i.supabase.from("hodometro").update({hodometro_km:t,updated_at:new Date().toISOString()}).eq("placa",e);if(a)return console.error("Error updating odometer:",a),{success:!1,error:a.message};return{success:!0}}catch(e){return console.error("Error updating odometer:",e),{success:!1,error:"Erro ao atualizar hodômetro"}}}async function n(e){try{let{error:t}=await i.supabase.from("revision_config").insert({brand:e.brand,revision_name:e.revision_name,interval_km:e.interval_km,description:e.description});if(t)return console.error("Error adding revision config:",t),{success:!1,error:t.message};return{success:!0}}catch(e){return console.error("Error adding revision config:",e),{success:!1,error:"Erro ao adicionar configuração"}}}async function l(e,t){try{let{error:a}=await i.supabase.from("revision_config").update({...t,updated_at:new Date().toISOString()}).eq("id",e);if(a)return console.error("Error updating revision config:",a),{success:!1,error:a.message};return{success:!0}}catch(e){return console.error("Error updating revision config:",e),{success:!1,error:"Erro ao atualizar configuração"}}}async function d(e){try{let{error:t}=await i.supabase.from("revision_config").delete().eq("id",e);if(t)return console.error("Error deleting revision config:",t),{success:!1,error:t.message};return{success:!0}}catch(e){return console.error("Error deleting revision config:",e),{success:!1,error:"Erro ao excluir configuração"}}}e.s(["addRevisionConfig",()=>n,"deleteRevisionConfig",()=>d,"registerRevision",()=>o,"updateOdometer",()=>s,"updateRevisionConfig",()=>l],9165)},10204,e=>{"use strict";var t=e.i(43476),a=e.i(71645),r=e.i(48425),i=a.forwardRef((e,a)=>(0,t.jsx)(r.Primitive.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label",e.s(["Label",()=>i,"Root",()=>i],73741);var o=e.i(73741),o=o,s=e.i(75157);function n({className:e,...a}){return(0,t.jsx)(o.Root,{"data-slot":"label",className:(0,s.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...a})}e.s(["Label",()=>n],10204)},76639,26999,e=>{"use strict";var t=e.i(43476),a=e.i(41947),a=a,r=e.i(71645),i=e.i(81140),o=e.i(20783),s=e.i(30030),n=e.i(10772),l=e.i(69340),d=e.i(26330),c=e.i(65491),u=e.i(74606),g=e.i(96626),p=e.i(48425),m=e.i(3536),f=e.i(85369),x=e.i(86312),v=e.i(91918),h="Dialog",[j,b]=(0,s.createContextScope)(h),[y,C]=j(h),D=e=>{let{__scopeDialog:a,children:i,open:o,defaultOpen:s,onOpenChange:d,modal:c=!0}=e,u=r.useRef(null),g=r.useRef(null),[p,m]=(0,l.useControllableState)({prop:o,defaultProp:s??!1,onChange:d,caller:h});return(0,t.jsx)(y,{scope:a,triggerRef:u,contentRef:g,contentId:(0,n.useId)(),titleId:(0,n.useId)(),descriptionId:(0,n.useId)(),open:p,onOpenChange:m,onOpenToggle:r.useCallback(()=>m(e=>!e),[m]),modal:c,children:i})};D.displayName=h;var N="DialogTrigger",w=r.forwardRef((e,a)=>{let{__scopeDialog:r,...s}=e,n=C(N,r),l=(0,o.useComposedRefs)(a,n.triggerRef);return(0,t.jsx)(p.Primitive.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":W(n.open),...s,ref:l,onClick:(0,i.composeEventHandlers)(e.onClick,n.onOpenToggle)})});w.displayName=N;var R="DialogPortal",[E,k]=j(R,{forceMount:void 0}),A=e=>{let{__scopeDialog:a,forceMount:i,children:o,container:s}=e,n=C(R,a);return(0,t.jsx)(E,{scope:a,forceMount:i,children:r.Children.map(o,e=>(0,t.jsx)(g.Presence,{present:i||n.open,children:(0,t.jsx)(u.Portal,{asChild:!0,container:s,children:e})}))})};A.displayName=R;var _="DialogOverlay",I=r.forwardRef((e,a)=>{let r=k(_,e.__scopeDialog),{forceMount:i=r.forceMount,...o}=e,s=C(_,e.__scopeDialog);return s.modal?(0,t.jsx)(g.Presence,{present:i||s.open,children:(0,t.jsx)(S,{...o,ref:a})}):null});I.displayName=_;var O=(0,v.createSlot)("DialogOverlay.RemoveScroll"),S=r.forwardRef((e,a)=>{let{__scopeDialog:r,...i}=e,o=C(_,r);return(0,t.jsx)(f.RemoveScroll,{as:O,allowPinchZoom:!0,shards:[o.contentRef],children:(0,t.jsx)(p.Primitive.div,{"data-state":W(o.open),...i,ref:a,style:{pointerEvents:"auto",...i.style}})})}),P="DialogContent",T=r.forwardRef((e,a)=>{let r=k(P,e.__scopeDialog),{forceMount:i=r.forceMount,...o}=e,s=C(P,e.__scopeDialog);return(0,t.jsx)(g.Presence,{present:i||s.open,children:s.modal?(0,t.jsx)(F,{...o,ref:a}):(0,t.jsx)(z,{...o,ref:a})})});T.displayName=P;var F=r.forwardRef((e,a)=>{let s=C(P,e.__scopeDialog),n=r.useRef(null),l=(0,o.useComposedRefs)(a,s.contentRef,n);return r.useEffect(()=>{let e=n.current;if(e)return(0,x.hideOthers)(e)},[]),(0,t.jsx)(M,{...e,ref:l,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,i.composeEventHandlers)(e.onCloseAutoFocus,e=>{e.preventDefault(),s.triggerRef.current?.focus()}),onPointerDownOutside:(0,i.composeEventHandlers)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey;(2===t.button||a)&&e.preventDefault()}),onFocusOutside:(0,i.composeEventHandlers)(e.onFocusOutside,e=>e.preventDefault())})}),z=r.forwardRef((e,a)=>{let i=C(P,e.__scopeDialog),o=r.useRef(!1),s=r.useRef(!1);return(0,t.jsx)(M,{...e,ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(o.current||i.triggerRef.current?.focus(),t.preventDefault()),o.current=!1,s.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(o.current=!0,"pointerdown"===t.detail.originalEvent.type&&(s.current=!0));let a=t.target;i.triggerRef.current?.contains(a)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&s.current&&t.preventDefault()}})}),M=r.forwardRef((e,a)=>{let{__scopeDialog:i,trapFocus:s,onOpenAutoFocus:n,onCloseAutoFocus:l,...u}=e,g=C(P,i),p=r.useRef(null),f=(0,o.useComposedRefs)(a,p);return(0,m.useFocusGuards)(),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(c.FocusScope,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:n,onUnmountAutoFocus:l,children:(0,t.jsx)(d.DismissableLayer,{role:"dialog",id:g.contentId,"aria-describedby":g.descriptionId,"aria-labelledby":g.titleId,"data-state":W(g.open),...u,ref:f,onDismiss:()=>g.onOpenChange(!1)})}),(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(G,{titleId:g.titleId}),(0,t.jsx)(Y,{contentRef:p,descriptionId:g.descriptionId})]})]})}),B="DialogTitle",L=r.forwardRef((e,a)=>{let{__scopeDialog:r,...i}=e,o=C(B,r);return(0,t.jsx)(p.Primitive.h2,{id:o.titleId,...i,ref:a})});L.displayName=B;var H="DialogDescription",$=r.forwardRef((e,a)=>{let{__scopeDialog:r,...i}=e,o=C(H,r);return(0,t.jsx)(p.Primitive.p,{id:o.descriptionId,...i,ref:a})});$.displayName=H;var V="DialogClose",q=r.forwardRef((e,a)=>{let{__scopeDialog:r,...o}=e,s=C(V,r);return(0,t.jsx)(p.Primitive.button,{type:"button",...o,ref:a,onClick:(0,i.composeEventHandlers)(e.onClick,()=>s.onOpenChange(!1))})});function W(e){return e?"open":"closed"}q.displayName=V;var U="DialogTitleWarning",[K,Z]=(0,s.createContext)(U,{contentName:P,titleName:B,docsSlug:"dialog"}),G=({titleId:e})=>{let t=Z(U),a=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return r.useEffect(()=>{e&&(document.getElementById(e)||console.error(a))},[a,e]),null},Y=({contentRef:e,descriptionId:t})=>{let a=Z("DialogDescriptionWarning"),i=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${a.contentName}}.`;return r.useEffect(()=>{let a=e.current?.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(i))},[i,e,t]),null};e.s(["Close",()=>q,"Content",()=>T,"Description",()=>$,"Dialog",()=>D,"DialogClose",()=>q,"DialogContent",()=>T,"DialogDescription",()=>$,"DialogOverlay",()=>I,"DialogPortal",()=>A,"DialogTitle",()=>L,"DialogTrigger",()=>w,"Overlay",()=>I,"Portal",()=>A,"Root",()=>D,"Title",()=>L,"Trigger",()=>w,"WarningProvider",()=>K,"createDialogScope",()=>b],26999);var J=e.i(26999),J=J,Q=e.i(75157),X=e.i(19455);function ee({...e}){return(0,t.jsx)(J.Root,{"data-slot":"dialog",...e})}function et({...e}){return(0,t.jsx)(J.Trigger,{"data-slot":"dialog-trigger",...e})}function ea({...e}){return(0,t.jsx)(J.Portal,{"data-slot":"dialog-portal",...e})}function er({className:e,...a}){return(0,t.jsx)(J.Overlay,{"data-slot":"dialog-overlay",className:(0,Q.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...a})}function ei({className:e,children:r,showCloseButton:i=!0,...o}){return(0,t.jsxs)(ea,{"data-slot":"dialog-portal",children:[(0,t.jsx)(er,{}),(0,t.jsxs)(J.Content,{"data-slot":"dialog-content",className:(0,Q.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 outline-none sm:max-w-lg",e),...o,children:[r,i&&(0,t.jsxs)(J.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(a.default,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function eo({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,Q.cn)("flex flex-col gap-2 text-center sm:text-left",e),...a})}function es({className:e,showCloseButton:a=!1,children:r,...i}){return(0,t.jsxs)("div",{"data-slot":"dialog-footer",className:(0,Q.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...i,children:[r,a&&(0,t.jsx)(J.Close,{asChild:!0,children:(0,t.jsx)(X.Button,{variant:"outline",children:"Close"})})]})}function en({className:e,...a}){return(0,t.jsx)(J.Title,{"data-slot":"dialog-title",className:(0,Q.cn)("text-lg leading-none font-semibold",e),...a})}function el({className:e,...a}){return(0,t.jsx)(J.Description,{"data-slot":"dialog-description",className:(0,Q.cn)("text-muted-foreground text-sm",e),...a})}e.s(["Dialog",()=>ee,"DialogContent",()=>ei,"DialogDescription",()=>el,"DialogFooter",()=>es,"DialogHeader",()=>eo,"DialogTitle",()=>en,"DialogTrigger",()=>et],76639)},88699,e=>{"use strict";let t=(0,e.i(75254).default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);e.s(["Pencil",()=>t],88699)},6152,e=>{"use strict";var t=e.i(43476),a=e.i(29041),r=e.i(29014),i=e.i(93963),o=e.i(71645),s=e.i(15288),n=e.i(19455),l=e.i(93479),d=e.i(10204),c=e.i(76639),u=e.i(30030),g=e.i(20783),p=e.i(26999),m=e.i(81140),f=e.i(91918),x="AlertDialog",[v,h]=(0,u.createContextScope)(x,[p.createDialogScope]),j=(0,p.createDialogScope)(),b=e=>{let{__scopeAlertDialog:a,...r}=e,i=j(a);return(0,t.jsx)(p.Root,{...i,...r,modal:!0})};b.displayName=x;var y=o.forwardRef((e,a)=>{let{__scopeAlertDialog:r,...i}=e,o=j(r);return(0,t.jsx)(p.Trigger,{...o,...i,ref:a})});y.displayName="AlertDialogTrigger";var C=e=>{let{__scopeAlertDialog:a,...r}=e,i=j(a);return(0,t.jsx)(p.Portal,{...i,...r})};C.displayName="AlertDialogPortal";var D=o.forwardRef((e,a)=>{let{__scopeAlertDialog:r,...i}=e,o=j(r);return(0,t.jsx)(p.Overlay,{...o,...i,ref:a})});D.displayName="AlertDialogOverlay";var N="AlertDialogContent",[w,R]=v(N),E=(0,f.createSlottable)("AlertDialogContent"),k=o.forwardRef((e,a)=>{let{__scopeAlertDialog:r,children:i,...s}=e,n=j(r),l=o.useRef(null),d=(0,g.useComposedRefs)(a,l),c=o.useRef(null);return(0,t.jsx)(p.WarningProvider,{contentName:N,titleName:A,docsSlug:"alert-dialog",children:(0,t.jsx)(w,{scope:r,cancelRef:c,children:(0,t.jsxs)(p.Content,{role:"alertdialog",...n,...s,ref:d,onOpenAutoFocus:(0,m.composeEventHandlers)(s.onOpenAutoFocus,e=>{e.preventDefault(),c.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,t.jsx)(E,{children:i}),(0,t.jsx)(F,{contentRef:l})]})})})});k.displayName=N;var A="AlertDialogTitle",_=o.forwardRef((e,a)=>{let{__scopeAlertDialog:r,...i}=e,o=j(r);return(0,t.jsx)(p.Title,{...o,...i,ref:a})});_.displayName=A;var I="AlertDialogDescription",O=o.forwardRef((e,a)=>{let{__scopeAlertDialog:r,...i}=e,o=j(r);return(0,t.jsx)(p.Description,{...o,...i,ref:a})});O.displayName=I;var S=o.forwardRef((e,a)=>{let{__scopeAlertDialog:r,...i}=e,o=j(r);return(0,t.jsx)(p.Close,{...o,...i,ref:a})});S.displayName="AlertDialogAction";var P="AlertDialogCancel",T=o.forwardRef((e,a)=>{let{__scopeAlertDialog:r,...i}=e,{cancelRef:o}=R(P,r),s=j(r),n=(0,g.useComposedRefs)(a,o);return(0,t.jsx)(p.Close,{...s,...i,ref:n})});T.displayName=P;var F=({contentRef:e})=>{let t=`\`${N}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${N}\` by passing a \`${I}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${N}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return o.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null};e.s(["Action",()=>S,"AlertDialog",()=>b,"AlertDialogAction",()=>S,"AlertDialogCancel",()=>T,"AlertDialogContent",()=>k,"AlertDialogDescription",()=>O,"AlertDialogOverlay",()=>D,"AlertDialogPortal",()=>C,"AlertDialogTitle",()=>_,"AlertDialogTrigger",()=>y,"Cancel",()=>T,"Content",()=>k,"Description",()=>O,"Overlay",()=>D,"Portal",()=>C,"Root",()=>b,"Title",()=>_,"Trigger",()=>y,"createAlertDialogScope",()=>h],91162);var z=e.i(91162),z=z,M=e.i(75157);function B({...e}){return(0,t.jsx)(z.Root,{"data-slot":"alert-dialog",...e})}function L({...e}){return(0,t.jsx)(z.Trigger,{"data-slot":"alert-dialog-trigger",...e})}function H({...e}){return(0,t.jsx)(z.Portal,{"data-slot":"alert-dialog-portal",...e})}function $({className:e,...a}){return(0,t.jsx)(z.Overlay,{"data-slot":"alert-dialog-overlay",className:(0,M.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...a})}function V({className:e,size:a="default",...r}){return(0,t.jsxs)(H,{children:[(0,t.jsx)($,{}),(0,t.jsx)(z.Content,{"data-slot":"alert-dialog-content","data-size":a,className:(0,M.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 group/alert-dialog-content fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 data-[size=sm]:max-w-xs data-[size=default]:sm:max-w-lg",e),...r})]})}function q({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"alert-dialog-header",className:(0,M.cn)("grid grid-rows-[auto_1fr] place-items-center gap-1.5 text-center has-data-[slot=alert-dialog-media]:grid-rows-[auto_auto_1fr] has-data-[slot=alert-dialog-media]:gap-x-6 sm:group-data-[size=default]/alert-dialog-content:place-items-start sm:group-data-[size=default]/alert-dialog-content:text-left sm:group-data-[size=default]/alert-dialog-content:has-data-[slot=alert-dialog-media]:grid-rows-[auto_1fr]",e),...a})}function W({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"alert-dialog-footer",className:(0,M.cn)("flex flex-col-reverse gap-2 group-data-[size=sm]/alert-dialog-content:grid group-data-[size=sm]/alert-dialog-content:grid-cols-2 sm:flex-row sm:justify-end",e),...a})}function U({className:e,...a}){return(0,t.jsx)(z.Title,{"data-slot":"alert-dialog-title",className:(0,M.cn)("text-lg font-semibold sm:group-data-[size=default]/alert-dialog-content:group-has-data-[slot=alert-dialog-media]/alert-dialog-content:col-start-2",e),...a})}function K({className:e,...a}){return(0,t.jsx)(z.Description,{"data-slot":"alert-dialog-description",className:(0,M.cn)("text-muted-foreground text-sm",e),...a})}function Z({className:e,variant:a="default",size:r="default",...i}){return(0,t.jsx)(n.Button,{variant:a,size:r,asChild:!0,children:(0,t.jsx)(z.Action,{"data-slot":"alert-dialog-action",className:(0,M.cn)(e),...i})})}function G({className:e,variant:a="outline",size:r="default",...i}){return(0,t.jsx)(n.Button,{variant:a,size:r,asChild:!0,children:(0,t.jsx)(z.Cancel,{"data-slot":"alert-dialog-cancel",className:(0,M.cn)(e),...i})})}var Y=e.i(87486),J=e.i(75254);let Q=(0,J.default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);var X=e.i(88699);let ee=(0,J.default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);var et=e.i(95116);let ea=(0,J.default)("settings-2",[["path",{d:"M14 17H5",key:"gfn3mx"}],["path",{d:"M19 7h-9",key:"6i9tg"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);var er=e.i(9165);function ei({configs:e}){let a,[r,i]=(0,o.useState)(!1),[u,g]=(0,o.useState)(null),[p,m]=(0,o.useTransition)(),[f,x]=(0,o.useState)(""),[v,h]=(0,o.useState)(""),[j,b]=(0,o.useState)(""),[y,C]=(0,o.useState)(""),D=(a=new Map,e.forEach(e=>{let t=a.get(e.brand)||[];t.push(e),a.set(e.brand,t)}),a.forEach((e,t)=>{a.set(t,e.sort((e,t)=>e.interval_km-t.interval_km))}),a),N=Array.from(D.keys()).sort(),w=()=>{x(""),h(""),b(""),C("")},R=()=>{w(),i(!0)};return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-base font-semibold text-gray-900 sm:text-lg",children:"Ciclos de Revisão por Marca"}),(0,t.jsx)("p",{className:"text-xs text-gray-500 sm:text-sm",children:"Configure os intervalos de cada tipo de revisão para cada marca de veículo"})]}),(0,t.jsxs)(c.Dialog,{open:r,onOpenChange:i,children:[(0,t.jsx)(c.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(n.Button,{onClick:R,className:"bg-blue-600 hover:bg-blue-700 w-full sm:w-auto",children:[(0,t.jsx)(Q,{className:"mr-2 h-4 w-4"}),"Novo Ciclo"]})}),(0,t.jsxs)(c.DialogContent,{children:[(0,t.jsxs)(c.DialogHeader,{children:[(0,t.jsx)(c.DialogTitle,{children:"Adicionar Ciclo de Revisão"}),(0,t.jsx)(c.DialogDescription,{children:"Configure um novo tipo de revisão para uma marca específica"})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.Label,{htmlFor:"brand",children:"Marca"}),(0,t.jsx)(l.Input,{id:"brand",placeholder:"Ex: MERCEDES-BENZ, VOLVO, SCANIA",value:f,onChange:e=>x(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.Label,{htmlFor:"name",children:"Nome da Revisão"}),(0,t.jsx)(l.Input,{id:"name",placeholder:"Ex: Troca de Filtro, Revisão Completa",value:v,onChange:e=>h(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.Label,{htmlFor:"interval",children:"Intervalo (km)"}),(0,t.jsx)(l.Input,{id:"interval",type:"number",placeholder:"Ex: 5000, 20000",value:j,onChange:e=>b(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.Label,{htmlFor:"description",children:"Descrição (opcional)"}),(0,t.jsx)(l.Input,{id:"description",placeholder:"Ex: Inclui filtro de óleo e ar",value:y,onChange:e=>C(e.target.value)})]})]}),(0,t.jsxs)(c.DialogFooter,{children:[(0,t.jsx)(n.Button,{variant:"outline",onClick:()=>i(!1),children:"Cancelar"}),(0,t.jsx)(n.Button,{onClick:()=>{f.trim()&&v.trim()&&j&&m(async()=>{await (0,er.addRevisionConfig)({brand:f.toUpperCase().trim(),revision_name:v.trim(),interval_km:parseInt(j),description:y.trim()||void 0}),i(!1),w(),window.location.reload()})},disabled:p,children:p?"Salvando...":"Adicionar"})]})]})]})]}),0===N.length?(0,t.jsx)(s.Card,{children:(0,t.jsxs)(s.CardContent,{className:"flex flex-col items-center justify-center py-12",children:[(0,t.jsx)(ea,{className:"h-12 w-12 text-gray-300 mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nenhum ciclo configurado"}),(0,t.jsx)("p",{className:"text-sm text-gray-500 text-center mb-4",children:"Adicione ciclos de revisão para cada marca de veículo"}),(0,t.jsxs)(n.Button,{onClick:R,variant:"outline",children:[(0,t.jsx)(Q,{className:"mr-2 h-4 w-4"}),"Adicionar primeiro ciclo"]})]})}):(0,t.jsx)("div",{className:"grid gap-4 sm:gap-6 grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:N.map(e=>{let a=D.get(e)||[];return(0,t.jsxs)(s.Card,{className:"overflow-hidden",children:[(0,t.jsx)(s.CardHeader,{className:"bg-gray-50 pb-3",children:(0,t.jsxs)(s.CardTitle,{className:"flex items-center gap-2 text-sm sm:text-base",children:[(0,t.jsx)(et.Wrench,{className:"h-4 w-4 sm:h-5 sm:w-5 shrink-0 text-blue-600"}),(0,t.jsx)("span",{className:"truncate",children:e})]})}),(0,t.jsx)(s.CardContent,{className:"p-3 sm:pt-4",children:(0,t.jsx)("div",{className:"space-y-3",children:a.map(e=>(0,t.jsxs)("div",{className:"flex items-start justify-between gap-3 rounded-lg border p-3",children:[(0,t.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsx)("span",{className:"font-medium text-gray-900",children:e.revision_name})}),(0,t.jsxs)(Y.Badge,{variant:"secondary",className:"mt-1",children:["A cada ",e.interval_km.toLocaleString("pt-BR")+" km"]}),e.description&&(0,t.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:e.description})]}),(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(n.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{x(e.brand),h(e.revision_name),b(e.interval_km.toString()),C(e.description||""),g(e)},children:(0,t.jsx)(X.Pencil,{className:"h-4 w-4 text-gray-500"})}),(0,t.jsxs)(B,{children:[(0,t.jsx)(L,{asChild:!0,children:(0,t.jsx)(n.Button,{variant:"ghost",size:"icon",className:"h-8 w-8",children:(0,t.jsx)(ee,{className:"h-4 w-4 text-red-500"})})}),(0,t.jsxs)(V,{children:[(0,t.jsxs)(q,{children:[(0,t.jsx)(U,{children:"Excluir ciclo?"}),(0,t.jsxs)(K,{children:['Tem certeza que deseja excluir o ciclo "',e.revision_name,'" de ',e.brand,"? Esta ação não pode ser desfeita."]})]}),(0,t.jsxs)(W,{children:[(0,t.jsx)(G,{children:"Cancelar"}),(0,t.jsx)(Z,{className:"bg-red-600 hover:bg-red-700",onClick:()=>{var t;return t=e.id,void m(async()=>{await (0,er.deleteRevisionConfig)(t),window.location.reload()})},children:"Excluir"})]})]})]})]})]},e.id))})})]},e)})}),(0,t.jsx)(c.Dialog,{open:!!u,onOpenChange:e=>!e&&g(null),children:(0,t.jsxs)(c.DialogContent,{children:[(0,t.jsxs)(c.DialogHeader,{children:[(0,t.jsx)(c.DialogTitle,{children:"Editar Ciclo de Revisão"}),(0,t.jsx)(c.DialogDescription,{children:"Altere as informações do ciclo de revisão"})]}),(0,t.jsxs)("div",{className:"space-y-4 py-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.Label,{htmlFor:"edit-brand",children:"Marca"}),(0,t.jsx)(l.Input,{id:"edit-brand",placeholder:"Ex: MERCEDES-BENZ, VOLVO, SCANIA",value:f,onChange:e=>x(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.Label,{htmlFor:"edit-name",children:"Nome da Revisão"}),(0,t.jsx)(l.Input,{id:"edit-name",placeholder:"Ex: Troca de Filtro, Revisão Completa",value:v,onChange:e=>h(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.Label,{htmlFor:"edit-interval",children:"Intervalo (km)"}),(0,t.jsx)(l.Input,{id:"edit-interval",type:"number",placeholder:"Ex: 5000, 20000",value:j,onChange:e=>b(e.target.value)})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(d.Label,{htmlFor:"edit-description",children:"Descrição (opcional)"}),(0,t.jsx)(l.Input,{id:"edit-description",placeholder:"Ex: Inclui filtro de óleo e ar",value:y,onChange:e=>C(e.target.value)})]})]}),(0,t.jsxs)(c.DialogFooter,{children:[(0,t.jsx)(n.Button,{variant:"outline",onClick:()=>g(null),children:"Cancelar"}),(0,t.jsx)(n.Button,{onClick:()=>{u&&f.trim()&&v.trim()&&j&&m(async()=>{await (0,er.updateRevisionConfig)(u.id,{brand:f.toUpperCase().trim(),revision_name:v.trim(),interval_km:parseInt(j),description:y.trim()||void 0}),g(null),w(),window.location.reload()})},disabled:p,children:p?"Salvando...":"Salvar"})]})]})})]})}var eo=e.i(31278);function es(){let{configs:e,loading:o}=(0,a.useRevisionConfigs)();return o?(0,t.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[(0,t.jsx)(r.Sidebar,{vehicleCount:0}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col lg:ml-64",children:[(0,t.jsx)(i.Header,{}),(0,t.jsx)("main",{className:"flex flex-1 items-center justify-center p-4",children:(0,t.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,t.jsx)(eo.Loader2,{className:"h-8 w-8 animate-spin text-blue-600"}),(0,t.jsx)("p",{className:"text-gray-500",children:"Carregando configurações..."})]})})]})]}):(0,t.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[(0,t.jsx)(r.Sidebar,{vehicleCount:0}),(0,t.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col lg:ml-64",children:[(0,t.jsx)(i.Header,{}),(0,t.jsx)("main",{className:"flex-1 overflow-x-hidden p-4 sm:p-6",children:(0,t.jsx)(ei,{configs:e})})]})]})}e.s(["default",()=>es],6152)}]);