(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,33525,(e,s,a)=>{"use strict";Object.defineProperty(a,"__esModule",{value:!0}),Object.defineProperty(a,"warnOnce",{enumerable:!0,get:function(){return t}});let t=e=>{}},88699,e=>{"use strict";let s=(0,e.i(75254).default)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);e.s(["Pencil",()=>s],88699)},55436,e=>{"use strict";let s=(0,e.i(75254).default)("search",[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]]);e.s(["Search",()=>s],55436)},73264,70956,e=>{"use strict";var s=e.i(75254);let a=(0,s.default)("layout-grid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);e.s(["LayoutGrid",()=>a],73264);let t=(0,s.default)("list",[["path",{d:"M3 5h.01",key:"18ugdj"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 19h.01",key:"noohij"}],["path",{d:"M8 5h13",key:"1pao27"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 19h13",key:"m83p4d"}]]);e.s(["List",()=>t],70956)},97446,e=>{"use strict";var s=e.i(43476),a=e.i(29041),t=e.i(24338),l=e.i(29014),r=e.i(93963),i=e.i(34272),c=e.i(71645),n=e.i(93479),d=e.i(19455),m=e.i(15288),x=e.i(67489),o=e.i(55436),h=e.i(94827),u=e.i(73264),g=e.i(70956),j=e.i(75254);let p=(0,j.default)("arrow-up-down",[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]]);var f=e.i(78745),f=f,N=e.i(31278),b=e.i(88699),v=e.i(37727),y=e.i(9165),w=e.i(75157);function C({vehicle:e}){let[a,l]=(0,c.useState)(!1),[r,i]=(0,c.useState)(e.HODOMETRO.toString()),[x,o]=(0,c.useState)(!1),[u,g]=(0,c.useState)(!1),j=async()=>{let s=parseInt(r,10);if(isNaN(s)||s<0)return;o(!0);let a=await (0,y.updateOdometer)(e.PLACA,s);o(!1),a.success&&(g(!0),l(!1),setTimeout(()=>g(!1),2e3))},p=()=>{i(e.HODOMETRO.toString()),l(!1)};return(0,s.jsx)(m.Card,{className:(0,w.cn)("transition-all",u&&"ring-2 ring-green-500 bg-green-50"),children:(0,s.jsxs)(m.CardContent,{className:"flex flex-wrap items-center gap-3 p-3 sm:flex-nowrap sm:gap-4 sm:p-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 min-w-0 flex-1 sm:min-w-[200px] sm:flex-initial",children:[(0,s.jsx)("div",{className:"flex h-9 w-9 shrink-0 items-center justify-center rounded-lg bg-blue-100 sm:h-10 sm:w-10",children:(0,s.jsx)(h.Gauge,{className:"h-4 w-4 text-blue-600 sm:h-5 sm:w-5"})}),(0,s.jsxs)("div",{className:"min-w-0",children:[(0,s.jsx)("p",{className:"font-bold text-gray-900",children:e.PLACA}),(0,s.jsx)("p",{className:"truncate text-xs text-gray-500",children:e.MARCA})]})]}),(0,s.jsx)("div",{className:"hidden flex-1 sm:block",children:(0,s.jsx)("p",{className:"text-sm text-gray-600 truncate",title:e.MODELO,children:e.MODELO})}),(0,s.jsx)("div",{className:"flex w-full items-center gap-2 sm:w-auto",children:a?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"relative flex-1 sm:flex-initial",children:[(0,s.jsx)(n.Input,{type:"number",value:r,onChange:e=>i(e.target.value),onKeyDown:e=>{"Enter"===e.key?j():"Escape"===e.key&&p()},className:"w-full pr-10 sm:w-32",autoFocus:!0,min:0}),(0,s.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-gray-400",children:"km"})]}),(0,s.jsx)(d.Button,{size:"icon",variant:"ghost",onClick:j,disabled:x,className:"h-9 w-9 shrink-0 text-green-600 hover:bg-green-50 hover:text-green-700",children:x?(0,s.jsx)(N.Loader2,{className:"h-4 w-4 animate-spin"}):(0,s.jsx)(f.default,{className:"h-4 w-4"})}),(0,s.jsx)(d.Button,{size:"icon",variant:"ghost",onClick:p,disabled:x,className:"h-9 w-9 shrink-0 text-gray-500 hover:bg-gray-100",children:(0,s.jsx)(v.X,{className:"h-4 w-4"})})]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"flex-1 text-right sm:min-w-[120px] sm:flex-initial",children:(0,s.jsx)("p",{className:"font-semibold text-gray-900",children:(0,t.formatKm)(e.HODOMETRO)})}),(0,s.jsx)(d.Button,{size:"icon",variant:"ghost",onClick:()=>l(!0),className:"h-9 w-9 text-blue-600 hover:bg-blue-50 hover:text-blue-700",children:(0,s.jsx)(b.Pencil,{className:"h-4 w-4"})})]})}),u&&(0,s.jsxs)("span",{className:"text-sm font-medium text-green-600 flex items-center gap-1",children:[(0,s.jsx)(f.default,{className:"h-4 w-4"}),"Salvo!"]})]})})}var f=f,A=e.i(15788);function k({vehicle:e}){let[a,l]=(0,c.useState)(!1),[r,i]=(0,c.useState)(e.HODOMETRO.toString()),[x,o]=(0,c.useState)(!1),[u,g]=(0,c.useState)(!1),j=async()=>{let s=parseInt(r,10);if(isNaN(s)||s<0)return;o(!0);let a=await (0,y.updateOdometer)(e.PLACA,s);o(!1),a.success&&(g(!0),l(!1),setTimeout(()=>g(!1),2e3))},p=()=>{i(e.HODOMETRO.toString()),l(!1)};return(0,s.jsx)(m.Card,{className:(0,w.cn)("overflow-hidden transition-all hover:shadow-md",u&&"ring-2 ring-green-500 bg-green-50"),children:(0,s.jsxs)(m.CardContent,{className:"p-4",children:[(0,s.jsxs)("div",{className:"mb-3 flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)("div",{className:"flex h-10 w-10 items-center justify-center rounded-lg bg-blue-100",children:(0,s.jsx)(A.Truck,{className:"h-5 w-5 text-blue-600"})}),(0,s.jsxs)("div",{children:[(0,s.jsx)("h3",{className:"font-bold text-gray-900",children:e.PLACA}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:e.MARCA})]})]}),u&&(0,s.jsxs)("span",{className:"flex items-center gap-1 text-xs font-medium text-green-600",children:[(0,s.jsx)(f.default,{className:"h-3 w-3"}),"Salvo!"]})]}),(0,s.jsx)("p",{className:"mb-3 truncate text-sm text-gray-600",title:e.MODELO,children:e.MODELO}),(0,s.jsxs)("div",{className:"rounded-lg bg-gray-50 p-3",children:[(0,s.jsxs)("div",{className:"mb-2 flex items-center gap-2",children:[(0,s.jsx)(h.Gauge,{className:"h-4 w-4 text-gray-400"}),(0,s.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Hodômetro"})]}),a?(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsxs)("div",{className:"relative flex-1",children:[(0,s.jsx)(n.Input,{type:"number",value:r,onChange:e=>i(e.target.value),onKeyDown:e=>{"Enter"===e.key?j():"Escape"===e.key&&p()},className:"pr-10",autoFocus:!0,min:0}),(0,s.jsx)("span",{className:"absolute right-3 top-1/2 -translate-y-1/2 text-xs text-gray-400",children:"km"})]}),(0,s.jsx)(d.Button,{size:"icon",variant:"ghost",onClick:j,disabled:x,className:"h-9 w-9 text-green-600 hover:bg-green-50 hover:text-green-700",children:x?(0,s.jsx)(N.Loader2,{className:"h-4 w-4 animate-spin"}):(0,s.jsx)(f.default,{className:"h-4 w-4"})}),(0,s.jsx)(d.Button,{size:"icon",variant:"ghost",onClick:p,disabled:x,className:"h-9 w-9 text-gray-500 hover:bg-gray-100",children:(0,s.jsx)(v.X,{className:"h-4 w-4"})})]}):(0,s.jsxs)("div",{className:"flex items-center justify-between",children:[(0,s.jsx)("p",{className:"text-xl font-bold text-gray-900",children:(0,t.formatKm)(e.HODOMETRO)}),(0,s.jsxs)(d.Button,{size:"sm",variant:"outline",onClick:()=>l(!0),className:"h-8 gap-1 text-blue-600 border-blue-200 hover:bg-blue-50 hover:text-blue-700",children:[(0,s.jsx)(b.Pencil,{className:"h-3.5 w-3.5"}),"Editar"]})]})]})]})})}function O({vehicles:e}){let[a,t]=(0,c.useState)(""),[l,r]=(0,c.useState)("card"),[i,j]=(0,c.useState)("placa-asc"),f=(0,c.useMemo)(()=>{let s=a.toLowerCase().trim(),t=e;return s&&(t=e.filter(e=>e.PLACA.toLowerCase().includes(s)||e.MARCA.toLowerCase().includes(s)||e.MODELO.toLowerCase().includes(s))),[...t].sort((e,s)=>{switch(i){case"placa-asc":return e.PLACA.localeCompare(s.PLACA);case"placa-desc":return s.PLACA.localeCompare(e.PLACA);case"km-asc":return e.HODOMETRO-s.HODOMETRO;case"km-desc":return s.HODOMETRO-e.HODOMETRO;case"marca-asc":return e.MARCA.localeCompare(s.MARCA);case"recent":let a=e.UPDATED_AT?new Date(e.UPDATED_AT).getTime():0;return(s.UPDATED_AT?new Date(s.UPDATED_AT).getTime():0)-a;default:return 0}})},[e,a,i]);return(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between",children:[(0,s.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,s.jsx)(o.Search,{className:"absolute left-3 top-1/2 h-4 w-4 -translate-y-1/2 text-gray-400"}),(0,s.jsx)(n.Input,{placeholder:"Pesquisar por placa, marca, modelo...",value:a,onChange:e=>t(e.target.value),className:"pl-9"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[(0,s.jsx)(p,{className:"h-4 w-4 text-gray-400"}),(0,s.jsxs)(x.Select,{value:i,onValueChange:e=>j(e),children:[(0,s.jsx)(x.SelectTrigger,{className:"w-[180px]",children:(0,s.jsx)(x.SelectValue,{placeholder:"Ordenar por"})}),(0,s.jsxs)(x.SelectContent,{children:[(0,s.jsx)(x.SelectItem,{value:"recent",children:"Editado recentemente"}),(0,s.jsx)(x.SelectItem,{value:"placa-asc",children:"Placa (A-Z)"}),(0,s.jsx)(x.SelectItem,{value:"placa-desc",children:"Placa (Z-A)"}),(0,s.jsx)(x.SelectItem,{value:"km-desc",children:"Maior Km"}),(0,s.jsx)(x.SelectItem,{value:"km-asc",children:"Menor Km"}),(0,s.jsx)(x.SelectItem,{value:"marca-asc",children:"Marca (A-Z)"})]})]})]}),(0,s.jsxs)("div",{className:"flex rounded-lg border bg-white p-1",children:[(0,s.jsxs)(d.Button,{variant:"card"===l?"default":"ghost",size:"sm",onClick:()=>r("card"),className:(0,w.cn)("h-8 px-3","card"===l&&"bg-blue-600 text-white hover:bg-blue-700"),children:[(0,s.jsx)(u.LayoutGrid,{className:"mr-1 h-4 w-4"}),"Cards"]}),(0,s.jsxs)(d.Button,{variant:"list"===l?"default":"ghost",size:"sm",onClick:()=>r("list"),className:(0,w.cn)("h-8 px-3","list"===l&&"bg-blue-600 text-white hover:bg-blue-700"),children:[(0,s.jsx)(g.List,{className:"mr-1 h-4 w-4"}),"Lista"]})]})]})]}),(0,s.jsxs)("p",{className:"text-sm text-gray-500",children:[f.length," veículo",1!==f.length?"s":"",a&&` encontrado${1!==f.length?"s":""} para "${a}"`]}),0===f.length?(0,s.jsx)(m.Card,{className:"bg-white",children:(0,s.jsxs)(m.CardContent,{className:"flex flex-col items-center justify-center py-12",children:[(0,s.jsx)(h.Gauge,{className:"mb-3 h-12 w-12 text-gray-300"}),(0,s.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Nenhum veículo encontrado"}),(0,s.jsx)("p",{className:"text-sm text-gray-500",children:"Tente ajustar os termos da pesquisa"})]})}):"card"===l?(0,s.jsx)("div",{className:"grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:f.map((e,a)=>(0,s.jsx)(k,{vehicle:e},`${e.PLACA}-${a}`))}):(0,s.jsx)("div",{className:"space-y-2",children:f.map((e,a)=>(0,s.jsx)(C,{vehicle:e},`${e.PLACA}-${a}`))})]})}let S=(0,j.default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);function M(){let{vehicles:e,loading:c}=(0,a.useVehicles)(),n=(0,t.calculateStats)(e),d=[...e].sort((e,s)=>e.PLACA.localeCompare(s.PLACA));return c?(0,s.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[(0,s.jsx)(l.Sidebar,{vehicleCount:0}),(0,s.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col lg:ml-64",children:[(0,s.jsx)(r.Header,{}),(0,s.jsx)("main",{className:"flex flex-1 items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-3",children:[(0,s.jsx)(N.Loader2,{className:"h-8 w-8 animate-spin text-blue-600"}),(0,s.jsx)("p",{className:"text-gray-500",children:"Carregando dados..."})]})})]})]}):(0,s.jsxs)("div",{className:"flex min-h-screen bg-gray-50",children:[(0,s.jsx)(l.Sidebar,{vehicleCount:n.totalVehicles}),(0,s.jsxs)("div",{className:"flex min-w-0 flex-1 flex-col lg:ml-64",children:[(0,s.jsx)(r.Header,{}),(0,s.jsxs)("main",{className:"flex-1 overflow-x-hidden p-4 sm:p-6",children:[(0,s.jsxs)("div",{className:"mb-6",children:[(0,s.jsx)("h1",{className:"text-xl font-bold text-gray-900 sm:text-2xl",children:"Atualizar Hodômetros"}),(0,s.jsx)("p",{className:"text-sm text-gray-500 sm:text-base",children:"Atualize a quilometragem de cada veículo da frota"})]}),(0,s.jsxs)("div",{className:"mb-6 grid gap-3 sm:gap-4 grid-cols-1 sm:grid-cols-3",children:[(0,s.jsx)(i.StatsCard,{title:"Total de Veículos",value:(0,t.formatNumber)(n.totalVehicles),subtitle:"Veículos na frota",icon:A.Truck,iconColor:"text-blue-600",iconBgColor:"bg-blue-50"}),(0,s.jsx)(i.StatsCard,{title:"Km Total da Frota",value:(0,t.formatKm)(n.totalKm),subtitle:"Soma de todos os hodômetros",icon:h.Gauge,iconColor:"text-green-600",iconBgColor:"bg-green-50"}),(0,s.jsx)(i.StatsCard,{title:"Média por Veículo",value:(0,t.formatKm)(n.avgKm),subtitle:"Quilometragem média",icon:S,iconColor:"text-amber-600",iconBgColor:"bg-amber-50"})]}),(0,s.jsx)("div",{className:"mb-4 rounded-lg border border-blue-100 bg-blue-50 p-4",children:(0,s.jsxs)("p",{className:"text-sm text-blue-700",children:[(0,s.jsx)("strong",{children:"Dica:"})," Clique no ícone de lápis ✏️ para editar o hodômetro de um veículo. Pressione ",(0,s.jsx)("kbd",{className:"rounded bg-blue-100 px-1 py-0.5 text-xs",children:"Enter"})," para salvar ou ",(0,s.jsx)("kbd",{className:"rounded bg-blue-100 px-1 py-0.5 text-xs",children:"Esc"})," para cancelar."]})}),(0,s.jsx)(O,{vehicles:d})]})]})]})}e.s(["default",()=>M],97446)}]);