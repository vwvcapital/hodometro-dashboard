(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,67034,(e,t,r)=>{var n={675:function(e,t){"use strict";t.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return(r+n)*3/4-n},t.toByteArray=function(e){var t,r,i=l(e),o=i[0],a=i[1],u=new s((o+a)*3/4-a),c=0,h=a>0?o-4:o;for(r=0;r<h;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[c++]=t>>16&255,u[c++]=t>>8&255,u[c++]=255&t;return 2===a&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[c++]=255&t),1===a&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[c++]=t>>8&255,u[c++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,s=n%3,i=[],o=0,a=n-s;o<a;o+=16383)i.push(function(e,t,n){for(var s,i=[],o=t;o<n;o+=3)s=(e[o]<<16&0xff0000)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(r[s>>18&63]+r[s>>12&63]+r[s>>6&63]+r[63&s]);return i.join("")}(e,o,o+16383>a?a:o+16383));return 1===s?i.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===s&&i.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),i.join("")};for(var r=[],n=[],s="u">typeof Uint8Array?Uint8Array:Array,i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",o=0,a=i.length;o<a;++o)r[o]=i[o],n[i.charCodeAt(o)]=o;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}n[45]=62,n[95]=63},72:function(e,t,r){"use strict";var n=r(675),s=r(783),i="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function o(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return c(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e){var n=e,s=t;if(("string"!=typeof s||""===s)&&(s="utf8"),!a.isEncoding(s))throw TypeError("Unknown encoding: "+s);var i=0|f(n,s),l=o(i),u=l.write(n,s);return u!==i&&(l=l.slice(0,u)),l}if(ArrayBuffer.isView(e))return h(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(O(e,ArrayBuffer)||e&&O(e.buffer,ArrayBuffer)||"u">typeof SharedArrayBuffer&&(O(e,SharedArrayBuffer)||e&&O(e.buffer,SharedArrayBuffer)))return function(e,t,r){var n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),a.prototype),n}(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var c=e.valueOf&&e.valueOf();if(null!=c&&c!==e)return a.from(c,t,r);var p=function(e){if(a.isBuffer(e)){var t=0|d(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?o(0):h(e):"Buffer"===e.type&&Array.isArray(e.data)?h(e.data):void 0}(e);if(p)return p;if("u">typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function c(e){return u(e),o(e<0?0:0|d(e))}function h(e){for(var t=e.length<0?0:0|d(e.length),r=o(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}t.Buffer=a,t.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=0x7fffffff,a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),!a.TYPED_ARRAY_SUPPORT&&"u">typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),a.poolSize=8192,a.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,r){return(u(e),e<=0)?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)},a.allocUnsafe=function(e){return c(e)},a.allocUnsafeSlow=function(e){return c(e)};function d(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function f(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||O(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var s=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return E(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return R(e).length;default:if(s)return n?-1:E(e).length;t=(""+t).toLowerCase(),s=!0}}function p(e,t,r){var s,i,o,a=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var s="",i=t;i<r;++i)s+=j[e[i]];return s}(this,t,r);case"utf8":case"utf-8":return v(this,t,r);case"ascii":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var s=t;s<r;++s)n+=String.fromCharCode(127&e[s]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var s=t;s<r;++s)n+=String.fromCharCode(e[s]);return n}(this,t,r);case"base64":return s=this,i=t,o=r,0===i&&o===s.length?n.fromByteArray(s):n.fromByteArray(s.slice(i,o));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){for(var n=e.slice(t,r),s="",i=0;i<n.length;i+=2)s+=String.fromCharCode(n[i]+256*n[i+1]);return s}(this,t,r);default:if(a)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),a=!0}}function g(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,s){var i;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(i=r*=1)!=i&&(r=s?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(s)return -1;else r=e.length-1;else if(r<0)if(!s)return -1;else r=0;if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,s);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(s)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return y(e,[t],r,n,s)}throw TypeError("val must be string, number or Buffer")}function y(e,t,r,n,s){var i,o=1,a=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;o=2,a/=2,l/=2,r/=2}function u(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(s){var c=-1;for(i=r;i<a;i++)if(u(e,i)===u(t,-1===c?0:i-c)){if(-1===c&&(c=i),i-c+1===l)return c*o}else -1!==c&&(i-=i-c),c=-1}else for(r+l>a&&(r=a-l),i=r;i>=0;i--){for(var h=!0,d=0;d<l;d++)if(u(e,i+d)!==u(t,d)){h=!1;break}if(h)return i}return -1}a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if(O(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),O(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,s=0,i=Math.min(r,n);s<i;++s)if(e[s]!==t[s]){r=e[s],n=t[s];break}return r<n?-1:+(n<r)},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,n=a.allocUnsafe(t),s=0;for(r=0;r<e.length;++r){var i=e[r];if(O(i,Uint8Array)&&(i=a.from(i)),!a.isBuffer(i))throw TypeError('"list" argument must be an Array of Buffers');i.copy(n,s),s+=i.length}return n},a.byteLength=f,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)g(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},a.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?v(this,0,e):p.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(e){if(!a.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},i&&(a.prototype[i]=a.prototype.inspect),a.prototype.compare=function(e,t,r,n,s){if(O(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===s&&(s=this.length),t<0||r>e.length||n<0||s>this.length)throw RangeError("out of range index");if(n>=s&&t>=r)return 0;if(n>=s)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,s>>>=0,this===e)return 0;for(var i=s-n,o=r-t,l=Math.min(i,o),u=this.slice(n,s),c=e.slice(t,r),h=0;h<l;++h)if(u[h]!==c[h]){i=u[h],o=c[h];break}return i<o?-1:+(o<i)},a.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)};function v(e,t,r){r=Math.min(e.length,r);for(var n=[],s=t;s<r;){var i,o,a,l,u=e[s],c=null,h=u>239?4:u>223?3:u>191?2:1;if(s+h<=r)switch(h){case 1:u<128&&(c=u);break;case 2:(192&(i=e[s+1]))==128&&(l=(31&u)<<6|63&i)>127&&(c=l);break;case 3:i=e[s+1],o=e[s+2],(192&i)==128&&(192&o)==128&&(l=(15&u)<<12|(63&i)<<6|63&o)>2047&&(l<55296||l>57343)&&(c=l);break;case 4:i=e[s+1],o=e[s+2],a=e[s+3],(192&i)==128&&(192&o)==128&&(192&a)==128&&(l=(15&u)<<18|(63&i)<<12|(63&o)<<6|63&a)>65535&&l<1114112&&(c=l)}null===c?(c=65533,h=1):c>65535&&(c-=65536,n.push(c>>>10&1023|55296),c=56320|1023&c),n.push(c),s+=h}var d=n,f=d.length;if(f<=4096)return String.fromCharCode.apply(String,d);for(var p="",g=0;g<f;)p+=String.fromCharCode.apply(String,d.slice(g,g+=4096));return p}function w(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function b(e,t,r,n,s,i){if(!a.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>s||t<i)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function _(e,t,r,n,s,i){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function k(e,t,r,n,i){return t*=1,r>>>=0,i||_(e,t,r,4,34028234663852886e22,-34028234663852886e22),s.write(e,t,r,n,23,4),r+4}function x(e,t,r,n,i){return t*=1,r>>>=0,i||_(e,t,r,8,17976931348623157e292,-17976931348623157e292),s.write(e,t,r,n,52,8),r+8}a.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var s,i,o,a,l,u,c,h,d=this.length-t;if((void 0===r||r>d)&&(r=d),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var f=!1;;)switch(n){case"hex":return function(e,t,r,n){r=Number(r)||0;var s=e.length-r;n?(n=Number(n))>s&&(n=s):n=s;var i=t.length;n>i/2&&(n=i/2);for(var o=0;o<n;++o){var a,l=parseInt(t.substr(2*o,2),16);if((a=l)!=a)break;e[r+o]=l}return o}(this,e,t,r);case"utf8":case"utf-8":return s=t,i=r,A(E(e,this.length-s),this,s,i);case"ascii":return o=t,a=r,A(T(e),this,o,a);case"latin1":case"binary":return function(e,t,r,n){return A(T(t),e,r,n)}(this,e,t,r);case"base64":return l=t,u=r,A(R(e),this,l,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return c=t,h=r,A(function(e,t){for(var r,n,s=[],i=0;i<e.length&&!((t-=2)<0);++i)n=(r=e.charCodeAt(i))>>8,s.push(r%256),s.push(n);return s}(e,this.length-c),this,c,h);default:if(f)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),f=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var n=this[e],s=1,i=0;++i<t&&(s*=256);)n+=this[e+i]*s;return n},a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var n=this[e+--t],s=1;t>0&&(s*=256);)n+=this[e+--t]*s;return n},a.prototype.readUInt8=function(e,t){return e>>>=0,t||w(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||w(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var n=this[e],s=1,i=0;++i<t&&(s*=256);)n+=this[e+i]*s;return n>=(s*=128)&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||w(e,t,this.length);for(var n=t,s=1,i=this[e+--n];n>0&&(s*=256);)i+=this[e+--n]*s;return i>=(s*=128)&&(i-=Math.pow(2,8*t)),i},a.prototype.readInt8=function(e,t){return(e>>>=0,t||w(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||w(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||w(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||w(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||w(e,4,this.length),s.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||w(e,4,this.length),s.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||w(e,8,this.length),s.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||w(e,8,this.length),s.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){var s=Math.pow(2,8*r)-1;b(this,e,t,r,s,0)}var i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},a.prototype.writeUIntBE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){var s=Math.pow(2,8*r)-1;b(this,e,t,r,s,0)}var i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},a.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,r,n){if(e*=1,t>>>=0,!n){var s=Math.pow(2,8*r-1);b(this,e,t,r,s-1,-s)}var i=0,o=1,a=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o|0)-a&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e*=1,t>>>=0,!n){var s=Math.pow(2,8*r-1);b(this,e,t,r,s-1,-s)}var i=r-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o|0)-a&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,r){return k(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return k(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return x(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return x(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(!a.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var s=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var i=s-1;i>=0;--i)e[i+t]=this[i+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return s},a.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){var s,i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(s=t;s<r;++s)this[s]=e;else{var o=a.isBuffer(e)?e:a.from(e,n),l=o.length;if(0===l)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<r-t;++s)this[s+t]=o[s%l]}return this};var S=/[^+/0-9A-Za-z-_]/g;function E(e,t){t=t||1/0;for(var r,n=e.length,s=null,i=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!s){if(r>56319||o+1===n){(t-=3)>-1&&i.push(239,191,189);continue}s=r;continue}if(r<56320){(t-=3)>-1&&i.push(239,191,189),s=r;continue}r=(s-55296<<10|r-56320)+65536}else s&&(t-=3)>-1&&i.push(239,191,189);if(s=null,r<128){if((t-=1)<0)break;i.push(r)}else if(r<2048){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return i}function T(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function R(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(S,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function A(e,t,r,n){for(var s=0;s<n&&!(s+r>=t.length)&&!(s>=e.length);++s)t[s+r]=e[s];return s}function O(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var j=function(){for(var e="0123456789abcdef",t=Array(256),r=0;r<16;++r)for(var n=16*r,s=0;s<16;++s)t[n+s]=e[r]+e[s];return t}()},783:function(e,t){t.read=function(e,t,r,n,s){var i,o,a=8*s-n-1,l=(1<<a)-1,u=l>>1,c=-7,h=r?s-1:0,d=r?-1:1,f=e[t+h];for(h+=d,i=f&(1<<-c)-1,f>>=-c,c+=a;c>0;i=256*i+e[t+h],h+=d,c-=8);for(o=i&(1<<-c)-1,i>>=-c,c+=n;c>0;o=256*o+e[t+h],h+=d,c-=8);if(0===i)i=1-u;else{if(i===l)return o?NaN:1/0*(f?-1:1);o+=Math.pow(2,n),i-=u}return(f?-1:1)*o*Math.pow(2,i-n)},t.write=function(e,t,r,n,s,i){var o,a,l,u=8*i-s-1,c=(1<<u)-1,h=c>>1,d=5960464477539062e-23*(23===s),f=n?0:i-1,p=n?1:-1,g=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(a=+!!isNaN(t),o=c):(o=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-o))<1&&(o--,l*=2),o+h>=1?t+=d/l:t+=d*Math.pow(2,1-h),t*l>=2&&(o++,l/=2),o+h>=c?(a=0,o=c):o+h>=1?(a=(t*l-1)*Math.pow(2,s),o+=h):(a=t*Math.pow(2,h-1)*Math.pow(2,s),o=0));s>=8;e[r+f]=255&a,f+=p,a/=256,s-=8);for(o=o<<s|a,u+=s;u>0;e[r+f]=255&o,f+=p,o/=256,u-=8);e[r+f-p]|=128*g}}},s={};function i(e){var t=s[e];if(void 0!==t)return t.exports;var r=s[e]={exports:{}},o=!0;try{n[e](r,r.exports,i),o=!1}finally{o&&delete s[e]}return r.exports}i.ab="/ROOT/node_modules/next/dist/compiled/buffer/",t.exports=i(72)},98183,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={assign:function(){return l},searchParamsToUrlQuery:function(){return i},urlQueryToSearchParams:function(){return a}};for(var s in n)Object.defineProperty(r,s,{enumerable:!0,get:n[s]});function i(e){let t={};for(let[r,n]of e.entries()){let e=t[r];void 0===e?t[r]=n:Array.isArray(e)?e.push(n):t[r]=[e,n]}return t}function o(e){return"string"==typeof e?e:("number"!=typeof e||isNaN(e))&&"boolean"!=typeof e?"":String(e)}function a(e){let t=new URLSearchParams;for(let[r,n]of Object.entries(e))if(Array.isArray(n))for(let e of n)t.append(r,o(e));else t.set(r,o(n));return t}function l(e,...t){for(let r of t){for(let t of r.keys())e.delete(t);for(let[t,n]of r.entries())e.append(t,n)}return e}},95057,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={formatUrl:function(){return a},formatWithValidation:function(){return u},urlObjectKeys:function(){return l}};for(var s in n)Object.defineProperty(r,s,{enumerable:!0,get:n[s]});let i=e.r(90809)._(e.r(98183)),o=/https?|ftp|gopher|file/;function a(e){let{auth:t,hostname:r}=e,n=e.protocol||"",s=e.pathname||"",a=e.hash||"",l=e.query||"",u=!1;t=t?encodeURIComponent(t).replace(/%3A/i,":")+"@":"",e.host?u=t+e.host:r&&(u=t+(~r.indexOf(":")?`[${r}]`:r),e.port&&(u+=":"+e.port)),l&&"object"==typeof l&&(l=String(i.urlQueryToSearchParams(l)));let c=e.search||l&&`?${l}`||"";return n&&!n.endsWith(":")&&(n+=":"),e.slashes||(!n||o.test(n))&&!1!==u?(u="//"+(u||""),s&&"/"!==s[0]&&(s="/"+s)):u||(u=""),a&&"#"!==a[0]&&(a="#"+a),c&&"?"!==c[0]&&(c="?"+c),s=s.replace(/[?#]/g,encodeURIComponent),c=c.replace("#","%23"),`${n}${u}${s}${c}${a}`}let l=["auth","hash","host","hostname","href","path","pathname","port","protocol","query","search","slashes"];function u(e){return a(e)}},18581,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"useMergedRef",{enumerable:!0,get:function(){return s}});let n=e.r(71645);function s(e,t){let r=(0,n.useRef)(null),s=(0,n.useRef)(null);return(0,n.useCallback)(n=>{if(null===n){let e=r.current;e&&(r.current=null,e());let t=s.current;t&&(s.current=null,t())}else e&&(r.current=i(e,n)),t&&(s.current=i(t,n))},[e,t])}function i(e,t){if("function"!=typeof e)return e.current=t,()=>{e.current=null};{let r=e(t);return"function"==typeof r?r:()=>e(null)}}("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},18967,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={DecodeError:function(){return y},MiddlewareNotFoundError:function(){return _},MissingStaticPage:function(){return b},NormalizeError:function(){return v},PageNotFoundError:function(){return w},SP:function(){return g},ST:function(){return m},WEB_VITALS:function(){return i},execOnce:function(){return o},getDisplayName:function(){return h},getLocationOrigin:function(){return u},getURL:function(){return c},isAbsoluteUrl:function(){return l},isResSent:function(){return d},loadGetInitialProps:function(){return p},normalizeRepeatedSlashes:function(){return f},stringifyError:function(){return k}};for(var s in n)Object.defineProperty(r,s,{enumerable:!0,get:n[s]});let i=["CLS","FCP","FID","INP","LCP","TTFB"];function o(e){let t,r=!1;return(...n)=>(r||(r=!0,t=e(...n)),t)}let a=/^[a-zA-Z][a-zA-Z\d+\-.]*?:/,l=e=>a.test(e);function u(){let{protocol:e,hostname:t,port:r}=window.location;return`${e}//${t}${r?":"+r:""}`}function c(){let{href:e}=window.location,t=u();return e.substring(t.length)}function h(e){return"string"==typeof e?e:e.displayName||e.name||"Unknown"}function d(e){return e.finished||e.headersSent}function f(e){let t=e.split("?");return t[0].replace(/\\/g,"/").replace(/\/\/+/g,"/")+(t[1]?`?${t.slice(1).join("?")}`:"")}async function p(e,t){let r=t.res||t.ctx&&t.ctx.res;if(!e.getInitialProps)return t.ctx&&t.Component?{pageProps:await p(t.Component,t.ctx)}:{};let n=await e.getInitialProps(t);if(r&&d(r))return n;if(!n)throw Object.defineProperty(Error(`"${h(e)}.getInitialProps()" should resolve to an object. But found "${n}" instead.`),"__NEXT_ERROR_CODE",{value:"E394",enumerable:!1,configurable:!0});return n}let g="u">typeof performance,m=g&&["mark","measure","getEntriesByName"].every(e=>"function"==typeof performance[e]);class y extends Error{}class v extends Error{}class w extends Error{constructor(e){super(),this.code="ENOENT",this.name="PageNotFoundError",this.message=`Cannot find module for page: ${e}`}}class b extends Error{constructor(e,t){super(),this.message=`Failed to load static file for page: ${e} ${t}`}}class _ extends Error{constructor(){super(),this.code="ENOENT",this.message="Cannot find the middleware module"}}function k(e){return JSON.stringify({message:e.message,stack:e.stack})}},73668,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isLocalURL",{enumerable:!0,get:function(){return i}});let n=e.r(18967),s=e.r(52817);function i(e){if(!(0,n.isAbsoluteUrl)(e))return!0;try{let t=(0,n.getLocationOrigin)(),r=new URL(e,t);return r.origin===t&&(0,s.hasBasePath)(r.pathname)}catch(e){return!1}}},84508,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"errorOnce",{enumerable:!0,get:function(){return n}});let n=e=>{}},22016,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={default:function(){return y},useLinkStatus:function(){return w}};for(var s in n)Object.defineProperty(r,s,{enumerable:!0,get:n[s]});let i=e.r(90809),o=e.r(43476),a=i._(e.r(71645)),l=e.r(95057),u=e.r(8372),c=e.r(18581),h=e.r(18967),d=e.r(5550);e.r(33525);let f=e.r(91949),p=e.r(73668),g=e.r(9396);function m(e){return"string"==typeof e?e:(0,l.formatUrl)(e)}function y(t){var r;let n,s,i,[l,y]=(0,a.useOptimistic)(f.IDLE_LINK_STATUS),w=(0,a.useRef)(null),{href:b,as:_,children:k,prefetch:x=null,passHref:S,replace:E,shallow:T,scroll:R,onClick:A,onMouseEnter:O,onTouchStart:j,legacyBehavior:C=!1,onNavigate:P,ref:I,unstable_dynamicOnHover:N,...$}=t;n=k,C&&("string"==typeof n||"number"==typeof n)&&(n=(0,o.jsx)("a",{children:n}));let L=a.default.useContext(u.AppRouterContext),D=!1!==x,U=!1!==x?null===(r=x)||"auto"===r?g.FetchStrategy.PPR:g.FetchStrategy.Full:g.FetchStrategy.PPR,{href:M,as:B}=a.default.useMemo(()=>{let e=m(b);return{href:e,as:_?m(_):e}},[b,_]);if(C){if(n?.$$typeof===Symbol.for("react.lazy"))throw Object.defineProperty(Error("`<Link legacyBehavior>` received a direct child that is either a Server Component, or JSX that was loaded with React.lazy(). This is not supported. Either remove legacyBehavior, or make the direct child a Client Component that renders the Link's `<a>` tag."),"__NEXT_ERROR_CODE",{value:"E863",enumerable:!1,configurable:!0});s=a.default.Children.only(n)}let z=C?s&&"object"==typeof s&&s.ref:I,F=a.default.useCallback(e=>(null!==L&&(w.current=(0,f.mountLinkInstance)(e,M,L,U,D,y)),()=>{w.current&&((0,f.unmountLinkForCurrentNavigation)(w.current),w.current=null),(0,f.unmountPrefetchableInstance)(e)}),[D,M,L,U,y]),W={ref:(0,c.useMergedRef)(F,z),onClick(t){C||"function"!=typeof A||A(t),C&&s.props&&"function"==typeof s.props.onClick&&s.props.onClick(t),!L||t.defaultPrevented||function(t,r,n,s,i,o,l){if("u">typeof window){let u,{nodeName:c}=t.currentTarget;if("A"===c.toUpperCase()&&((u=t.currentTarget.getAttribute("target"))&&"_self"!==u||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||t.nativeEvent&&2===t.nativeEvent.which)||t.currentTarget.hasAttribute("download"))return;if(!(0,p.isLocalURL)(r)){i&&(t.preventDefault(),location.replace(r));return}if(t.preventDefault(),l){let e=!1;if(l({preventDefault:()=>{e=!0}}),e)return}let{dispatchNavigateAction:h}=e.r(99781);a.default.startTransition(()=>{h(n||r,i?"replace":"push",o??!0,s.current)})}}(t,M,B,w,E,R,P)},onMouseEnter(e){C||"function"!=typeof O||O(e),C&&s.props&&"function"==typeof s.props.onMouseEnter&&s.props.onMouseEnter(e),L&&D&&(0,f.onNavigationIntent)(e.currentTarget,!0===N)},onTouchStart:function(e){C||"function"!=typeof j||j(e),C&&s.props&&"function"==typeof s.props.onTouchStart&&s.props.onTouchStart(e),L&&D&&(0,f.onNavigationIntent)(e.currentTarget,!0===N)}};return(0,h.isAbsoluteUrl)(B)?W.href=B:C&&!S&&("a"!==s.type||"href"in s.props)||(W.href=(0,d.addBasePath)(B)),i=C?a.default.cloneElement(s,W):(0,o.jsx)("a",{...$,...W,children:n}),(0,o.jsx)(v.Provider,{value:l,children:i})}e.r(84508);let v=(0,a.createContext)(f.IDLE_LINK_STATUS),w=()=>(0,a.useContext)(v);("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},18566,(e,t,r)=>{t.exports=e.r(76562)},55838,(e,t,r)=>{"use strict";var n=e.r(71645),s="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=n.useState,o=n.useEffect,a=n.useLayoutEffect,l=n.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!s(e,r)}catch(e){return!0}}var c="u"<typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=i({inst:{value:r,getSnapshot:t}}),s=n[0].inst,c=n[1];return a(function(){s.value=r,s.getSnapshot=t,u(s)&&c({inst:s})},[e,r,t]),o(function(){return u(s)&&c({inst:s}),e(function(){u(s)&&c({inst:s})})},[e]),l(r),r};r.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:c},2239,(e,t,r)=>{"use strict";t.exports=e.r(55838)},29041,7471,7670,75157,75254,15788,94827,95116,41947,37727,20783,91918,48425,34620,96626,30030,30207,86318,70152,81140,25913,86011,19455,29014,78745,78784,69340,75830,26330,3536,65491,10772,53660,74606,86312,85369,31171,93963,15288,31278,e=>{"use strict";let t,r;var n,s,i,o,a,l,u,c,h,d,f,p,g,m,y,v,w,b,_,k,x,S,E,T,R,A,O,j,C,P=e.i(71645);e.i(47167);class I extends Error{constructor(e,t="FunctionsError",r){super(e),this.name=t,this.context=r}}class N extends I{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class $ extends I{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class L extends I{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}(n=w||(w={})).Any="any",n.ApNortheast1="ap-northeast-1",n.ApNortheast2="ap-northeast-2",n.ApSouth1="ap-south-1",n.ApSoutheast1="ap-southeast-1",n.ApSoutheast2="ap-southeast-2",n.CaCentral1="ca-central-1",n.EuCentral1="eu-central-1",n.EuWest1="eu-west-1",n.EuWest2="eu-west-2",n.EuWest3="eu-west-3",n.SaEast1="sa-east-1",n.UsEast1="us-east-1",n.UsWest1="us-west-1",n.UsWest2="us-west-2";var D=function(){return(D=Object.assign||function(e){for(var t,r=1,n=arguments.length;r<n;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e}).apply(this,arguments)};function U(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&0>t.indexOf(n)&&(r[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)0>t.indexOf(n[s])&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r}"function"==typeof SuppressedError&&SuppressedError;class M{constructor(e,{headers:t={},customFetch:r,region:n=w.Any}={}){this.url=e,this.headers=t,this.region=n,this.fetch=(e=>e?(...t)=>e(...t):(...e)=>fetch(...e))(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){var t,r,n,s;return t=this,r=arguments,n=void 0,s=function*(e,t={}){var r;let n,s;try{let i,{headers:o,method:a,body:l,signal:u,timeout:c}=t,h={},{region:d}=t;d||(d=this.region);let f=new URL(`${this.url}/${e}`);d&&"any"!==d&&(h["x-region"]=d,f.searchParams.set("forceFunctionRegion",d)),l&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?"u">typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer?(h["Content-Type"]="application/octet-stream",i=l):"string"==typeof l?(h["Content-Type"]="text/plain",i=l):"u">typeof FormData&&l instanceof FormData?i=l:(h["Content-Type"]="application/json",i=JSON.stringify(l)):i=!l||"string"==typeof l||"u">typeof Blob&&l instanceof Blob||l instanceof ArrayBuffer||"u">typeof FormData&&l instanceof FormData?l:JSON.stringify(l);let p=u;c&&(s=new AbortController,n=setTimeout(()=>s.abort(),c),u?(p=s.signal,u.addEventListener("abort",()=>s.abort())):p=s.signal);let g=yield this.fetch(f.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},h),this.headers),o),body:i,signal:p}).catch(e=>{throw new N(e)}),m=g.headers.get("x-relay-error");if(m&&"true"===m)throw new $(g);if(!g.ok)throw new L(g);let y=(null!=(r=g.headers.get("Content-Type"))?r:"text/plain").split(";")[0].trim();return{data:"application/json"===y?yield g.json():"application/octet-stream"===y||"application/pdf"===y?yield g.blob():"text/event-stream"===y?g:"multipart/form-data"===y?yield g.formData():yield g.text(),error:null,response:g}}catch(e){return{data:null,error:e,response:e instanceof L||e instanceof $?e.context:void 0}}finally{n&&clearTimeout(n)}},new(n||(n=Promise))(function(e,i){function o(e){try{l(s.next(e))}catch(e){i(e)}}function a(e){try{l(s.throw(e))}catch(e){i(e)}}function l(t){var r;t.done?e(t.value):((r=t.value)instanceof n?r:new n(function(e){e(r)})).then(o,a)}l((s=s.apply(t,r||[])).next())})}}var B=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}},z=class{constructor(e){var t,r,n;this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=new Headers(e.headers),this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=null!=(t=e.shouldThrowOnError)&&t,this.signal=e.signal,this.isMaybeSingle=null!=(r=e.isMaybeSingle)&&r,this.urlLengthLimit=null!=(n=e.urlLengthLimit)?n:8e3,e.fetch?this.fetch=e.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=new Headers(this.headers),this.headers.set(e,t),this}then(e,t){var r=this;void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),"GET"!==this.method&&"HEAD"!==this.method&&this.headers.set("Content-Type","application/json");let n=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async e=>{var t,n,s,i;let o=null,a=null,l=null,u=e.status,c=e.statusText;if(e.ok){if("HEAD"!==r.method){let t=await e.text();""===t||(a="text/csv"===r.headers.get("Accept")||r.headers.get("Accept")&&(null==(s=r.headers.get("Accept"))?void 0:s.includes("application/vnd.pgrst.plan+text"))?t:JSON.parse(t))}let i=null==(t=r.headers.get("Prefer"))?void 0:t.match(/count=(exact|planned|estimated)/),h=null==(n=e.headers.get("content-range"))?void 0:n.split("/");i&&h&&h.length>1&&(l=parseInt(h[1])),r.isMaybeSingle&&"GET"===r.method&&Array.isArray(a)&&(a.length>1?(o={code:"PGRST116",details:`Results contain ${a.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},a=null,l=null,u=406,c="Not Acceptable"):a=1===a.length?a[0]:null)}else{let t=await e.text();try{o=JSON.parse(t),Array.isArray(o)&&404===e.status&&(a=[],o=null,u=200,c="OK")}catch(r){404===e.status&&""===t?(u=204,c="No Content"):o={message:t}}if(o&&r.isMaybeSingle&&(null==o||null==(i=o.details)?void 0:i.includes("0 rows"))&&(o=null,u=200,c="OK"),o&&r.shouldThrowOnError)throw new B(o)}return{error:o,data:a,count:l,status:u,statusText:c}});return this.shouldThrowOnError||(n=n.catch(e=>{var t,r,n,s,i,o;let a="",l="",u="",c=null==e?void 0:e.cause;if(c){let t=null!=(r=null==c?void 0:c.message)?r:"",o=null!=(n=null==c?void 0:c.code)?n:"";a=`${null!=(s=null==e?void 0:e.name)?s:"FetchError"}: ${null==e?void 0:e.message}

Caused by: ${null!=(i=null==c?void 0:c.name)?i:"Error"}: ${t}`,o&&(a+=` (${o})`),(null==c?void 0:c.stack)&&(a+=`
${c.stack}`)}else a=null!=(o=null==e?void 0:e.stack)?o:"";let h=this.url.toString().length;return(null==e?void 0:e.name)==="AbortError"||(null==e?void 0:e.code)==="ABORT_ERR"?(u="",l="Request was aborted (timeout or manual cancellation)",h>this.urlLengthLimit&&(l+=`. Note: Your request URL is ${h} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((null==c?void 0:c.name)==="HeadersOverflowError"||(null==c?void 0:c.code)==="UND_ERR_HEADERS_OVERFLOW")&&(u="",l="HTTP headers exceeded server limits (typically 16KB)",h>this.urlLengthLimit&&(l+=`. Your request URL is ${h} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${null!=(t=null==e?void 0:e.name)?t:"FetchError"}: ${null==e?void 0:e.message}`,details:a,hint:l,code:u},data:null,count:null,status:0,statusText:""}})),n.then(e,t)}returns(){return this}overrideTypes(){return this}},F=class extends z{select(e){let t=!1,r=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(e,{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:s=n}={}){let i=s?`${s}.order`:"order",o=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${void 0===r?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:r=t}={}){let n=void 0===r?"limit":`${r}.limit`;return this.url.searchParams.set(n,`${e}`),this}range(e,t,{foreignTable:r,referencedTable:n=r}={}){let s=void 0===n?"offset":`${n}.offset`,i=void 0===n?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this.url.searchParams.set(i,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return"GET"===this.method?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var o;let a=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=null!=(o=this.headers.get("Accept"))?o:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${l}"; options=${a};`),this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(e){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${e}`),this}};let W=RegExp("[,()]");var q=class extends F{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}regexMatch(e,t){return this.url.searchParams.append(e,`match.${t}`),this}regexIMatch(e,t){return this.url.searchParams.append(e,`imatch.${t}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}isDistinct(e,t){return this.url.searchParams.append(e,`isdistinct.${t}`),this}in(e,t){let r=Array.from(new Set(t)).map(e=>"string"==typeof e&&W.test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}notIn(e,t){let r=Array.from(new Set(t)).map(e=>"string"==typeof e&&W.test(e)?`"${e}"`:`${e}`).join(",");return this.url.searchParams.append(e,`not.in.(${r})`),this}contains(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return"string"==typeof t?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return"string"==typeof t?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:r,type:n}={}){let s="";"plain"===n?s="pl":"phrase"===n?s="ph":"websearch"===n&&(s="w");let i=void 0===r?"":`(${r})`;return this.url.searchParams.append(e,`${s}fts${i}.${t}`),this}match(e){return Object.entries(e).forEach(([e,t])=>{this.url.searchParams.append(e,`eq.${t}`)}),this}not(e,t,r){return this.url.searchParams.append(e,`not.${t}.${r}`),this}or(e,{foreignTable:t,referencedTable:r=t}={}){let n=r?`${r}.or`:"or";return this.url.searchParams.append(n,`(${e})`),this}filter(e,t,r){return this.url.searchParams.append(e,`${t}.${r}`),this}},K=class{constructor(e,{headers:t={},schema:r,fetch:n,urlLengthLimit:s=8e3}){this.url=e,this.headers=new Headers(t),this.schema=r,this.fetch=n,this.urlLengthLimit=s}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(e,t){let{head:r=!1,count:n}=null!=t?t:{},s=!1,i=(null!=e?e:"*").split("").map(e=>/\s/.test(e)&&!s?"":('"'===e&&(s=!s),e)).join(""),{url:o,headers:a}=this.cloneRequestState();return o.searchParams.set("select",i),n&&a.append("Prefer",`count=${n}`),new q({method:r?"HEAD":"GET",url:o,headers:a,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(e,{count:t,defaultToNull:r=!0}={}){var n;let{url:s,headers:i}=this.cloneRequestState();if(t&&i.append("Prefer",`count=${t}`),r||i.append("Prefer","missing=default"),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);s.searchParams.set("columns",e.join(","))}}return new q({method:"POST",url:s,headers:i,schema:this.schema,body:e,fetch:null!=(n=this.fetch)?n:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(e,{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}={}){var i;let{url:o,headers:a}=this.cloneRequestState();if(a.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),void 0!==t&&o.searchParams.set("on_conflict",t),n&&a.append("Prefer",`count=${n}`),s||a.append("Prefer","missing=default"),Array.isArray(e)){let t=e.reduce((e,t)=>e.concat(Object.keys(t)),[]);if(t.length>0){let e=[...new Set(t)].map(e=>`"${e}"`);o.searchParams.set("columns",e.join(","))}}return new q({method:"POST",url:o,headers:a,schema:this.schema,body:e,fetch:null!=(i=this.fetch)?i:fetch,urlLengthLimit:this.urlLengthLimit})}update(e,{count:t}={}){var r;let{url:n,headers:s}=this.cloneRequestState();return t&&s.append("Prefer",`count=${t}`),new q({method:"PATCH",url:n,headers:s,schema:this.schema,body:e,fetch:null!=(r=this.fetch)?r:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:e}={}){var t;let{url:r,headers:n}=this.cloneRequestState();return e&&n.append("Prefer",`count=${e}`),new q({method:"DELETE",url:r,headers:n,schema:this.schema,fetch:null!=(t=this.fetch)?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function G(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?V(Object(r),!0).forEach(function(t){!function(e,t,r){var n;(n=function(e,t){if("object"!=H(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=H(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==H(n)?n:n+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var J=class e{constructor(e,{headers:t={},schema:r,fetch:n,timeout:s,urlLengthLimit:i=8e3}={}){this.url=e,this.headers=new Headers(t),this.schemaName=r,this.urlLengthLimit=i;const o=null!=n?n:globalThis.fetch;void 0!==s&&s>0?this.fetch=(e,t)=>{let r=new AbortController,n=setTimeout(()=>r.abort(),s),i=null==t?void 0:t.signal;if(i){if(i.aborted)return clearTimeout(n),o(e,t);let s=()=>{clearTimeout(n),r.abort()};return i.addEventListener("abort",s,{once:!0}),o(e,G(G({},t),{},{signal:r.signal})).finally(()=>{clearTimeout(n),i.removeEventListener("abort",s)})}return o(e,G(G({},t),{},{signal:r.signal})).finally(()=>clearTimeout(n))}:this.fetch=o}from(e){if(!e||"string"!=typeof e||""===e.trim())throw Error("Invalid relation name: relation must be a non-empty string.");return new K(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new e(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,t={},{head:r=!1,get:n=!1,count:s}={}){var i;let o,a,l=new URL(`${this.url}/rpc/${e}`),u=e=>null!==e&&"object"==typeof e&&(!Array.isArray(e)||e.some(u)),c=r&&Object.values(t).some(u);c?(o="POST",a=t):r||n?(o=r?"HEAD":"GET",Object.entries(t).filter(([e,t])=>void 0!==t).map(([e,t])=>[e,Array.isArray(t)?`{${t.join(",")}}`:`${t}`]).forEach(([e,t])=>{l.searchParams.append(e,t)})):(o="POST",a=t);let h=new Headers(this.headers);return c?h.set("Prefer",s?`count=${s},return=minimal`:"return=minimal"):s&&h.set("Prefer",`count=${s}`),new q({method:o,url:l,headers:h,schema:this.schemaName,body:a,fetch:null!=(i=this.fetch)?i:fetch,urlLengthLimit:this.urlLengthLimit})}};let Y=class{static detectEnvironment(){var t;if("u">typeof WebSocket)return{type:"native",constructor:WebSocket};if("u">typeof globalThis&&void 0!==globalThis.WebSocket)return{type:"native",constructor:globalThis.WebSocket};if(void 0!==e.g.WebSocket)return{type:"native",constructor:e.g.WebSocket};if("u">typeof globalThis&&void 0!==globalThis.WebSocketPair&&void 0===globalThis.WebSocket)return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if("u">typeof globalThis&&globalThis.EdgeRuntime||"u">typeof navigator&&(null==(t=navigator.userAgent)?void 0:t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};let r=globalThis.process;if(r){let e=r.versions;if(e&&e.node){let t=parseInt(e.node.replace(/^v/,"").split(".")[0]);return t>=22?void 0!==globalThis.WebSocket?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${t} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${t} detected without native WebSocket support.`,workaround:'For Node.js < 22, install "ws" package and provide it via the transport option:\nimport ws from "ws"\nnew RealtimeClient(url, { transport: ws })'}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){let e=this.detectEnvironment();if(e.constructor)return e.constructor;let t=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(t+=`

Suggested solution: ${e.workaround}`),Error(t)}static createWebSocket(e,t){return new(this.getWebSocketConstructor())(e,t)}static isWebSocketSupported(){try{let e=this.detectEnvironment();return"native"===e.type||"ws"===e.type}catch(e){return!1}}},X="2.0.0";(s=b||(b={}))[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed",(i=_||(_={})).closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving",(o=k||(k={})).close="phx_close",o.error="phx_error",o.join="phx_join",o.reply="phx_reply",o.leave="phx_leave",o.access_token="access_token",(x||(x={})).websocket="websocket",(a=S||(S={})).Connecting="connecting",a.Open="open",a.Closing="closing",a.Closed="closed";class Z{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=null!=e?e:[]}encode(e,t){return e.event!==this.BROADCAST_EVENT||e.payload instanceof ArrayBuffer||"string"!=typeof e.payload.event?t(JSON.stringify([e.join_ref,e.ref,e.topic,e.event,e.payload])):t(this._binaryEncodeUserBroadcastPush(e))}_binaryEncodeUserBroadcastPush(e){var t;return this._isArrayBuffer(null==(t=e.payload)?void 0:t.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var t,r;let n=null!=(r=null==(t=e.payload)?void 0:t.payload)?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,n)}_encodeJsonUserBroadcastPush(e){var t,r;let n=null!=(r=null==(t=e.payload)?void 0:t.payload)?r:{},s=new TextEncoder().encode(JSON.stringify(n)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,s)}_encodeUserBroadcastPush(e,t,r){let n=e.topic,s=null!=(f=e.ref)?f:"",i=null!=(p=e.join_ref)?p:"",o=e.payload.event,a=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},l=0===Object.keys(a).length?"":JSON.stringify(a);if(i.length>255)throw Error(`joinRef length ${i.length} exceeds maximum of 255`);if(s.length>255)throw Error(`ref length ${s.length} exceeds maximum of 255`);if(n.length>255)throw Error(`topic length ${n.length} exceeds maximum of 255`);if(o.length>255)throw Error(`userEvent length ${o.length} exceeds maximum of 255`);if(l.length>255)throw Error(`metadata length ${l.length} exceeds maximum of 255`);let u=this.USER_BROADCAST_PUSH_META_LENGTH+i.length+s.length+n.length+o.length+l.length,c=new ArrayBuffer(this.HEADER_LENGTH+u),h=new DataView(c),d=0;h.setUint8(d++,this.KINDS.userBroadcastPush),h.setUint8(d++,i.length),h.setUint8(d++,s.length),h.setUint8(d++,n.length),h.setUint8(d++,o.length),h.setUint8(d++,l.length),h.setUint8(d++,t),Array.from(i,e=>h.setUint8(d++,e.charCodeAt(0))),Array.from(s,e=>h.setUint8(d++,e.charCodeAt(0))),Array.from(n,e=>h.setUint8(d++,e.charCodeAt(0))),Array.from(o,e=>h.setUint8(d++,e.charCodeAt(0))),Array.from(l,e=>h.setUint8(d++,e.charCodeAt(0)));var f,p,g=new Uint8Array(c.byteLength+r.byteLength);return g.set(new Uint8Array(c),0),g.set(new Uint8Array(r),c.byteLength),g.buffer}decode(e,t){if(this._isArrayBuffer(e))return t(this._binaryDecode(e));if("string"==typeof e){let[r,n,s,i,o]=JSON.parse(e);return t({join_ref:r,ref:n,topic:s,event:i,payload:o})}return t({})}_binaryDecode(e){let t=new DataView(e),r=t.getUint8(0),n=new TextDecoder;if(r===this.KINDS.userBroadcast)return this._decodeUserBroadcast(e,t,n)}_decodeUserBroadcast(e,t,r){let n=t.getUint8(1),s=t.getUint8(2),i=t.getUint8(3),o=t.getUint8(4),a=this.HEADER_LENGTH+4,l=r.decode(e.slice(a,a+n));a+=n;let u=r.decode(e.slice(a,a+s));a+=s;let c=r.decode(e.slice(a,a+i));a+=i;let h=e.slice(a,e.byteLength),d=o===this.JSON_ENCODING?JSON.parse(r.decode(h)):h,f={type:this.BROADCAST_EVENT,event:u,payload:d};return i>0&&(f.meta=JSON.parse(c)),{join_ref:null,ref:null,topic:l,event:this.BROADCAST_EVENT,payload:f}}_isArrayBuffer(e){var t;return e instanceof ArrayBuffer||(null==(t=null==e?void 0:e.constructor)?void 0:t.name)==="ArrayBuffer"}_pick(e,t){return e&&"object"==typeof e?Object.fromEntries(Object.entries(e).filter(([e])=>t.includes(e))):{}}}class Q{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}(l=E||(E={})).abstime="abstime",l.bool="bool",l.date="date",l.daterange="daterange",l.float4="float4",l.float8="float8",l.int2="int2",l.int4="int4",l.int4range="int4range",l.int8="int8",l.int8range="int8range",l.json="json",l.jsonb="jsonb",l.money="money",l.numeric="numeric",l.oid="oid",l.reltime="reltime",l.text="text",l.time="time",l.timestamp="timestamp",l.timestamptz="timestamptz",l.timetz="timetz",l.tsrange="tsrange",l.tstzrange="tstzrange";let ee=(e,t,r={})=>{var n;let s=null!=(n=r.skipTypes)?n:[];return t?Object.keys(t).reduce((r,n)=>(r[n]=et(n,e,t,s),r),{}):{}},et=(e,t,r,n)=>{let s=t.find(t=>t.name===e),i=null==s?void 0:s.type,o=r[e];return i&&!n.includes(i)?er(i,o):en(o)},er=(e,t)=>{if("_"===e.charAt(0))return ea(t,e.slice(1,e.length));switch(e){case E.bool:return es(t);case E.float4:case E.float8:case E.int2:case E.int4:case E.int8:case E.numeric:case E.oid:return ei(t);case E.json:case E.jsonb:return eo(t);case E.timestamp:return el(t);case E.abstime:case E.date:case E.daterange:case E.int4range:case E.int8range:case E.money:case E.reltime:case E.text:case E.time:case E.timestamptz:case E.timetz:case E.tsrange:case E.tstzrange:default:return en(t)}},en=e=>e,es=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},ei=e=>{if("string"==typeof e){let t=parseFloat(e);if(!Number.isNaN(t))return t}return e},eo=e=>{if("string"==typeof e)try{return JSON.parse(e)}catch(e){}return e},ea=(e,t)=>{if("string"!=typeof e)return e;let r=e.length-1,n=e[r];if("{"===e[0]&&"}"===n){let n,s=e.slice(1,r);try{n=JSON.parse("["+s+"]")}catch(e){n=s?s.split(","):[]}return n.map(e=>er(t,e))}return e},el=e=>"string"==typeof e?e.replace(" ","T"):e,eu=e=>{let t=new URL(e);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),""===t.pathname||"/"===t.pathname?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class ec{constructor(e,t,r={},n=1e4){this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null==(r=this.receivedResp)?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let e=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(t=>t.status===e).forEach(e=>e.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}(u=T||(T={})).SYNC="sync",u.JOIN="join",u.LEAVE="leave";class eh{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null==t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},e=>{let{onJoin:t,onLeave:r,onSync:n}=this.caller;this.joinRef=this.channel._joinRef(),this.state=eh.syncState(this.state,e,t,r),this.pendingDiffs.forEach(e=>{this.state=eh.syncDiff(this.state,e,t,r)}),this.pendingDiffs=[],n()}),this.channel._on(r.diff,{},e=>{let{onJoin:t,onLeave:r,onSync:n}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=eh.syncDiff(this.state,e,t,r),n())}),this.onJoin((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})}),this.onLeave((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,r,n){let s=this.cloneDeep(e),i=this.transformState(t),o={},a={};return this.map(s,(e,t)=>{i[e]||(a[e]=t)}),this.map(i,(e,t)=>{let r=s[e];if(r){let n=t.map(e=>e.presence_ref),s=r.map(e=>e.presence_ref),i=t.filter(e=>0>s.indexOf(e.presence_ref)),l=r.filter(e=>0>n.indexOf(e.presence_ref));i.length>0&&(o[e]=i),l.length>0&&(a[e]=l)}else o[e]=t}),this.syncDiff(s,{joins:o,leaves:a},r,n)}static syncDiff(e,t,r,n){let{joins:s,leaves:i}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(s,(t,n)=>{var s;let i=null!=(s=e[t])?s:[];if(e[t]=this.cloneDeep(n),i.length>0){let r=e[t].map(e=>e.presence_ref),n=i.filter(e=>0>r.indexOf(e.presence_ref));e[t].unshift(...n)}r(t,i,n)}),this.map(i,(t,r)=>{let s=e[t];if(!s)return;let i=r.map(e=>e.presence_ref);s=s.filter(e=>0>i.indexOf(e.presence_ref)),e[t]=s,n(t,s,r),0===s.length&&delete e[t]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(r=>t(r,e[r]))}static transformState(e){return Object.getOwnPropertyNames(e=this.cloneDeep(e)).reduce((t,r)=>{let n=e[r];return"metas"in n?t[r]=n.metas.map(e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e)):t[r]=n,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}(c=R||(R={})).ALL="*",c.INSERT="INSERT",c.UPDATE="UPDATE",c.DELETE="DELETE",(h=A||(A={})).BROADCAST="broadcast",h.PRESENCE="presence",h.POSTGRES_CHANGES="postgres_changes",h.SYSTEM="system",(d=O||(O={})).SUBSCRIBED="SUBSCRIBED",d.TIMED_OUT="TIMED_OUT",d.CLOSED="CLOSED",d.CHANNEL_ERROR="CHANNEL_ERROR";class ed{constructor(e,t={config:{}},r){var n,s;if(this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=_.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new ec(this,k.join,this.params,this.timeout),this.rejoinTimer=new Q(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=_.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(e=>e.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=_.closed,this.socket._remove(this)}),this._onError(e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=_.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=_.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,e),this.state=_.errored,this.rejoinTimer.scheduleTimeout())}),this._on(k.reply,{},(e,t)=>{this._trigger(this._replyEventName(t),e)}),this.presence=new eh(this),this.broadcastEndpointURL=eu(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(null==(s=null==(n=this.params.config)?void 0:n.broadcast)?void 0:s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,t=this.timeout){var r,n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==_.closed){let{config:{broadcast:i,presence:o,private:a}}=this.params,l=null!=(n=null==(r=this.bindings.postgres_changes)?void 0:r.map(e=>e.filter))?n:[],u=!!this.bindings[A.PRESENCE]&&this.bindings[A.PRESENCE].length>0||(null==(s=this.params.config.presence)?void 0:s.enabled)===!0,c={},h={broadcast:i,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:l,private:a};this.socket.accessTokenValue&&(c.access_token=this.socket.accessTokenValue),this._onError(t=>null==e?void 0:e(O.CHANNEL_ERROR,t)),this._onClose(()=>null==e?void 0:e(O.CLOSED)),this.updateJoinPayload(Object.assign({config:h},c)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:t})=>{var r;if(this.socket._isManualToken()||this.socket.setAuth(),void 0===t){null==e||e(O.SUBSCRIBED);return}{let n=this.bindings.postgres_changes,s=null!=(r=null==n?void 0:n.length)?r:0,i=[];for(let r=0;r<s;r++){let s=n[r],{filter:{event:o,schema:a,table:l,filter:u}}=s,c=t&&t[r];if(c&&c.event===o&&ed.isFilterValueEqual(c.schema,a)&&ed.isFilterValueEqual(c.table,l)&&ed.isFilterValueEqual(c.filter,u))i.push(Object.assign(Object.assign({},s),{id:c.id}));else{this.unsubscribe(),this.state=_.errored,null==e||e(O.CHANNEL_ERROR,Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=i,e&&e(O.SUBSCRIBED);return}}).receive("error",t=>{this.state=_.errored,null==e||e(O.CHANNEL_ERROR,Error(JSON.stringify(Object.values(t).join(", ")||"error")))}).receive("timeout",()=>{null==e||e(O.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this.state===_.joined&&e===A.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,t,r)}async httpSend(e,t,r={}){var n;if(null==t)return Promise.reject("Payload is required for httpSend()");let s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);let i={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:t,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,i,null!=(n=r.timeout)?n:this.timeout);if(202===o.status)return{success:!0};let a=o.statusText;try{let e=await o.json();a=e.error||e.message||a}catch(e){}return Promise.reject(Error(a))}async send(e,t={}){var r,n;if(this._canPush()||"broadcast"!==e.type)return new Promise(r=>{var n,s,i;let o=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null==(i=null==(s=null==(n=this.params)?void 0:n.config)?void 0:s.broadcast)?void 0:i.ack)||r("ok"),o.receive("ok",()=>r("ok")),o.receive("error",()=>r("error")),o.receive("timeout",()=>r("timed out"))});{console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");let{event:s,payload:i}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);let a={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{let e=await this._fetchWithTimeout(this.broadcastEndpointURL,a,null!=(r=t.timeout)?r:this.timeout);return await (null==(n=e.body)?void 0:n.cancel()),e.ok?"ok":"error"}catch(e){if("AbortError"===e.name)return"timed out";return"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=_.leaving;let t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(k.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(n=>{(r=new ec(this,k.leave,{},e)).receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{null==r||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=_.closed,this.bindings={}}async _fetchWithTimeout(e,t,r){let n=new AbortController,s=setTimeout(()=>n.abort(),r),i=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(s),i}_push(e,t,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new ec(this,e,t,r);return this._canPush()?n.send():this._addToPushBuffer(n),n}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>100){let e=this.pushBuffer.shift();e&&(e.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${e.event}`,e.payload))}}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var n,s;let i=e.toLocaleLowerCase(),{close:o,error:a,leave:l,join:u}=k;if(r&&[o,a,l,u].indexOf(i)>=0&&r!==this._joinRef())return;let c=this._onMessage(i,t,r);if(t&&!c)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?null==(n=this.bindings.postgres_changes)||n.filter(e=>{var t,r,n;return(null==(t=e.filter)?void 0:t.event)==="*"||(null==(n=null==(r=e.filter)?void 0:r.event)?void 0:n.toLocaleLowerCase())===i}).map(e=>e.callback(c,r)):null==(s=this.bindings[i])||s.filter(e=>{var r,n,s,o,a,l;if(!["broadcast","presence","postgres_changes"].includes(i))return e.type.toLocaleLowerCase()===i;if("id"in e){let i=e.id,o=null==(r=e.filter)?void 0:r.event;return i&&(null==(n=t.ids)?void 0:n.includes(i))&&("*"===o||(null==o?void 0:o.toLocaleLowerCase())===(null==(s=t.data)?void 0:s.type.toLocaleLowerCase()))}{let r=null==(a=null==(o=null==e?void 0:e.filter)?void 0:o.event)?void 0:a.toLocaleLowerCase();return"*"===r||r===(null==(l=null==t?void 0:t.event)?void 0:l.toLocaleLowerCase())}}).map(e=>{if("object"==typeof c&&"ids"in c){let e=c.data,{schema:t,table:r,commit_timestamp:n,type:s,errors:i}=e;c=Object.assign(Object.assign({},{schema:t,table:r,commit_timestamp:n,eventType:s,new:{},old:{},errors:i}),this._getPayloadRecords(e))}e.callback(c,r)})}_isClosed(){return this.state===_.closed}_isJoined(){return this.state===_.joined}_isJoining(){return this.state===_.joining}_isLeaving(){return this.state===_.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,r){let n=e.toLocaleLowerCase(),s={type:n,filter:t,callback:r};return this.bindings[n]?this.bindings[n].push(s):this.bindings[n]=[s],this}_off(e,t){let r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(e=>{var n;return!((null==(n=e.type)?void 0:n.toLocaleLowerCase())===r&&ed.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(let r in e)if(e[r]!==t[r])return!1;return!0}static isFilterValueEqual(e,t){return(null!=e?e:void 0)===(null!=t?t:void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(k.close,{},e)}_onError(e){this._on(k.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=_.joining,this.joinPush.resend(e))}_getPayloadRecords(e){let t={new:{},old:{}};return("INSERT"===e.type||"UPDATE"===e.type)&&(t.new=ee(e.columns,e.record)),("UPDATE"===e.type||"DELETE"===e.type)&&(t.old=ee(e.columns,e.old_record)),t}}let ef=()=>{},ep=[1e3,2e3,5e3,1e4],eg=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class em{constructor(e,t){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=1e4,this.transport=null,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=ef,this.ref=0,this.reconnectTimer=null,this.vsn=X,this.logger=ef,this.conn=null,this.sendBuffer=[],this.serializer=new Z,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),!(null==(r=null==t?void 0:t.params)?void 0:r.apikey))throw Error("API key is required to connect to Realtime");this.apiKey=t.params.apikey,this.endPoint=`${e}/${x.websocket}`,this.httpEndpoint=eu(e),this._initializeOptions(t),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(null==t?void 0:t.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||null!==this.conn&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Y.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");let e=t.message;if(e.includes("Node.js"))throw Error(`${e}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`);throw Error(`WebSocket not available: ${e}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,t){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){let r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},"function"==typeof this.conn.close&&(e?this.conn.close(e,null!=t?t:""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){let t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){let e=await Promise.all(this.channels.map(e=>e.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case b.connecting:return S.Connecting;case b.open:return S.Open;case b.closing:return S.Closing;default:return S.Closed}}isConnected(){return this.connectionState()===S.Open}isConnecting(){return"connecting"===this._connectionState}isDisconnecting(){return"disconnecting"===this._connectionState}channel(e,t={config:{}}){let r=`realtime:${e}`,n=this.getChannels().find(e=>e.topic===r);if(n)return n;{let r=new ed(`realtime:${e}`,t,this);return this.channels.push(r),r}}push(e){let{topic:t,event:r,payload:n,ref:s}=e,i=()=>{this.encode(e,e=>{var t;null==(t=this.conn)||t.send(e)})};this.log("push",`${t} ${r} (${s})`,n),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(e){this.log("error","error in heartbeat callback",e)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(e){this.log("error","error in heartbeat callback",e)}this._wasManualDisconnect=!1,null==(e=this.conn)||e.close(1e3,"heartbeat timeout"),setTimeout(()=>{var e;this.isConnected()||null==(e=this.reconnectTimer)||e.scheduleTimeout()},100);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(e){this.log("error","error in heartbeat callback",e)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(t=>t.topic===e&&(t._isJoined()||t._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,e=>{if("phoenix"===e.topic&&"phx_reply"===e.event&&e.ref&&e.ref===this.pendingHeartbeatRef){let t=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback("ok"===e.payload.status?"ok":"error",t)}catch(e){this.log("error","error in heartbeat callback",e)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}let{topic:t,event:r,payload:n,ref:s}=e,i=s?`(${s})`:"",o=n.status||"";this.log("receive",`${o} ${t} ${r} ${i}`.trim(),n),this.channels.filter(e=>e._isMember(t)).forEach(e=>e._trigger(r,n,s)),this._triggerStateCallbacks("message",e)})}_clearTimer(e){var t;"heartbeat"===e&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):"reconnect"===e&&(null==(t=this.reconnectTimer)||t.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===b.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===b.open||this.conn.readyState===b.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(e=>{this.log("error","error waiting for auth on connect",e),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this._terminateWorker()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var t;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||null==(t=this.reconnectTimer)||t.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(e){this.log("error","error in heartbeat callback",e)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(k.error))}_appendParams(e,t){if(0===Object.keys(t).length)return e;let r=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return`${e}${r}${n}`}_workerObjectUrl(e){let t;if(e)t=e;else{let e=new Blob([eg],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}_setConnectionState(e,t=!1){this._connectionState=e,"connecting"===e?this._wasManualDisconnect=!1:"disconnecting"===e&&(this._wasManualDisconnect=t)}async _performAuth(e=null){let t,r=!1;if(e)t=e,r=!0;else if(this.accessToken)try{t=await this.accessToken()}catch(e){this.log("error","Error fetching access token from callback",e),t=this.accessTokenValue}else t=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(e=>{let r={access_token:t,version:"realtime-js/2.94.1"};t&&e.updateJoinPayload(r),e.joinedOnce&&e._isJoined()&&e._push(k.access_token,{access_token:t})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(t=>{this.log("error",`Error setting auth in ${e}`,t)})}_triggerStateCallbacks(e,t){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(t)}catch(t){this.log("error",`error in ${e} callback`,t)}})}catch(t){this.log("error",`error triggering ${e} callbacks`,t)}}_setupReconnectionTimer(){this.reconnectTimer=new Q(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},10)},this.reconnectAfterMs)}_initializeOptions(e){var t,r,n,s,i,o,a,l,u,c,h,d;switch(this.transport=null!=(t=null==e?void 0:e.transport)?t:null,this.timeout=null!=(r=null==e?void 0:e.timeout)?r:1e4,this.heartbeatIntervalMs=null!=(n=null==e?void 0:e.heartbeatIntervalMs)?n:25e3,this.worker=null!=(s=null==e?void 0:e.worker)&&s,this.accessToken=null!=(i=null==e?void 0:e.accessToken)?i:null,this.heartbeatCallback=null!=(o=null==e?void 0:e.heartbeatCallback)?o:ef,this.vsn=null!=(a=null==e?void 0:e.vsn)?a:X,(null==e?void 0:e.params)&&(this.params=e.params),(null==e?void 0:e.logger)&&(this.logger=e.logger),((null==e?void 0:e.logLevel)||(null==e?void 0:e.log_level))&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=null!=(l=null==e?void 0:e.reconnectAfterMs)?l:e=>ep[e-1]||1e4,this.vsn){case"1.0.0":this.encode=null!=(u=null==e?void 0:e.encode)?u:(e,t)=>t(JSON.stringify(e)),this.decode=null!=(c=null==e?void 0:e.decode)?c:(e,t)=>t(JSON.parse(e));break;case X:this.encode=null!=(h=null==e?void 0:e.encode)?h:this.serializer.encode.bind(this.serializer),this.decode=null!=(d=null==e?void 0:e.decode)?d:this.serializer.decode.bind(this.serializer);break;default:throw Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if("u">typeof window&&!window.Worker)throw Error("Web Worker is not supported");this.workerUrl=null==e?void 0:e.workerUrl}}}var ey=e.i(67034),ev=class extends Error{constructor(e,t){super(e),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown="CommitStateUnknownException"===t.icebergType||[500,502,504].includes(t.status)&&t.icebergType?.includes("CommitState")===!0}isNotFound(){return 404===this.status}isConflict(){return 409===this.status}isAuthenticationTimeout(){return 419===this.status}};async function ew(e){return e&&"none"!==e.type?"bearer"===e.type?{Authorization:`Bearer ${e.token}`}:"header"===e.type?{[e.name]:e.value}:"custom"===e.type?await e.getHeaders():{}:{}}function eb(e){return e.join("\x1f")}var e_=class{constructor(e,t=""){this.client=e,this.prefix=t}async listNamespaces(e){let t=e?{parent:eb(e.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(e=>({namespace:e}))}async createNamespace(e,t){let r={namespace:e.namespace,properties:t?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${eb(e.namespace)}`})}async loadNamespaceMetadata(e){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${eb(e.namespace)}`})).data.properties}}async namespaceExists(e){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${eb(e.namespace)}`}),!0}catch(e){if(e instanceof ev&&404===e.status)return!1;throw e}}async createNamespaceIfNotExists(e,t){try{return await this.createNamespace(e,t)}catch(e){if(e instanceof ev&&409===e.status)return;throw e}}};function ek(e){return e.join("\x1f")}var ex=class{constructor(e,t="",r){this.client=e,this.prefix=t,this.accessDelegation=r}async listTables(e){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ek(e.namespace)}/tables`})).data.identifiers}async createTable(e,t){let r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ek(e.namespace)}/tables`,body:t,headers:r})).data.metadata}async updateTable(e,t){let r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${ek(e.namespace)}/tables/${e.name}`,body:t});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(e,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${ek(e.namespace)}/tables/${e.name}`,query:{purgeRequested:String(t?.purge??!1)}})}async loadTable(e){let t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${ek(e.namespace)}/tables/${e.name}`,headers:t})).data.metadata}async tableExists(e){let t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${ek(e.namespace)}/tables/${e.name}`,headers:t}),!0}catch(e){if(e instanceof ev&&404===e.status)return!1;throw e}}async createTableIfNotExists(e,t){try{return await this.createTable(e,t)}catch(r){if(r instanceof ev&&409===r.status)return await this.loadTable({namespace:e.namespace,name:t.name});throw r}}},eS=class{constructor(e){let t="v1";e.catalogName&&(t+=`/${e.catalogName}`);const r=e.baseUrl.endsWith("/")?e.baseUrl:`${e.baseUrl}/`;this.client=function(e){let t=e.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:s,body:i,headers:o}){let a=function(e,t,r){let n=new URL(t,e);if(r)for(let[e,t]of Object.entries(r))void 0!==t&&n.searchParams.set(e,t);return n.toString()}(e.baseUrl,n,s),l=await ew(e.auth),u=await t(a,{method:r,headers:{...i?{"Content-Type":"application/json"}:{},...l,...o},body:i?JSON.stringify(i):void 0}),c=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),d=h&&c?JSON.parse(c):c;if(!u.ok){let e=h?d:void 0,t=e?.error;throw new ev(t?.message??`Request failed with status ${u.status}`,{status:u.status,icebergType:t?.type,icebergCode:t?.code,details:e})}return{status:u.status,headers:u.headers,data:d}}}}({baseUrl:r,auth:e.auth,fetchImpl:e.fetch}),this.accessDelegation=e.accessDelegation?.join(","),this.namespaceOps=new e_(this.client,t),this.tableOps=new ex(this.client,t,this.accessDelegation)}async listNamespaces(e){return this.namespaceOps.listNamespaces(e)}async createNamespace(e,t){return this.namespaceOps.createNamespace(e,t)}async dropNamespace(e){await this.namespaceOps.dropNamespace(e)}async loadNamespaceMetadata(e){return this.namespaceOps.loadNamespaceMetadata(e)}async listTables(e){return this.tableOps.listTables(e)}async createTable(e,t){return this.tableOps.createTable(e,t)}async updateTable(e,t){return this.tableOps.updateTable(e,t)}async dropTable(e,t){await this.tableOps.dropTable(e,t)}async loadTable(e){return this.tableOps.loadTable(e)}async namespaceExists(e){return this.namespaceOps.namespaceExists(e)}async tableExists(e){return this.tableOps.tableExists(e)}async createNamespaceIfNotExists(e,t){return this.namespaceOps.createNamespaceIfNotExists(e,t)}async createTableIfNotExists(e,t){return this.tableOps.createTableIfNotExists(e,t)}},eE=class extends Error{constructor(e,t="storage",r,n){super(e),this.__isStorageError=!0,this.namespace=t,this.name="vectors"===t?"StorageVectorsError":"StorageError",this.status=r,this.statusCode=n}};function eT(e){return"object"==typeof e&&null!==e&&"__isStorageError"in e}var eR=class extends eE{constructor(e,t,r,n="storage"){super(e,n,t,r),this.name="vectors"===n?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},eA=class extends eE{constructor(e,t,r="storage"){super(e,r),this.name="vectors"===r?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};let eO=e=>{if(Array.isArray(e))return e.map(e=>eO(e));if("function"==typeof e||e!==Object(e))return e;let t={};return Object.entries(e).forEach(([e,r])=>{t[e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace(/[-_]/g,""))]=eO(r)}),t};function ej(e){return(ej="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function eC(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function eP(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?eC(Object(r),!0).forEach(function(t){!function(e,t,r){var n;(n=function(e,t){if("object"!=ej(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ej(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==ej(n)?n:n+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):eC(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}let eI=e=>{var t;return e.msg||e.message||e.error_description||("string"==typeof e.error?e.error:null==(t=e.error)?void 0:t.message)||JSON.stringify(e)},eN=async(e,t,r,n)=>{if(e&&"object"==typeof e&&"status"in e&&"ok"in e&&"number"==typeof e.status&&!(null==r?void 0:r.noResolveJson)){let r=e.status||500;"function"==typeof e.json?e.json().then(e=>{let s=(null==e?void 0:e.statusCode)||(null==e?void 0:e.code)||r+"";t(new eR(eI(e),r,s,n))}).catch(()=>{t(new eR(e.statusText||`HTTP ${r} error`,r,r+"",n))}):t(new eR(e.statusText||`HTTP ${r} error`,r,r+"",n))}else t(new eA(eI(e),e,n))};async function e$(e,t,r,n,s,i,o){return new Promise((a,l)=>{let u;e(r,(u={method:t,headers:(null==n?void 0:n.headers)||{}},"GET"===t||"HEAD"===t||!i||((e=>{if("object"!=typeof e||null===e)return!1;let t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)})(i)?(u.headers=eP({"Content-Type":"application/json"},null==n?void 0:n.headers),u.body=JSON.stringify(i)):u.body=i,(null==n?void 0:n.duplex)&&(u.duplex=n.duplex)),eP(eP({},u),s))).then(e=>{if(!e.ok)throw e;if(null==n?void 0:n.noResolveJson)return e;if("vectors"===o){let t=e.headers.get("content-type");if("0"===e.headers.get("content-length")||204===e.status||!t||!t.includes("application/json"))return{}}return e.json()}).then(e=>a(e)).catch(e=>eN(e,l,n,o))})}function eL(e="storage"){return{get:async(t,r,n,s)=>e$(t,"GET",r,n,s,void 0,e),post:async(t,r,n,s,i)=>e$(t,"POST",r,s,i,n,e),put:async(t,r,n,s,i)=>e$(t,"PUT",r,s,i,n,e),head:async(t,r,n,s)=>e$(t,"HEAD",r,eP(eP({},n),{},{noResolveJson:!0}),s,void 0,e),remove:async(t,r,n,s,i)=>e$(t,"DELETE",r,s,i,n,e)}}let{get:eD,post:eU,put:eM,head:eB,remove:ez}=eL("storage"),eF=eL("vectors");var eW=class{constructor(e,t={},r,n="storage"){this.shouldThrowOnError=!1,this.url=e,this.headers=t,this.fetch=(e=>e?(...t)=>e(...t):(...e)=>fetch(...e))(r),this.namespace=n}throwOnError(){return this.shouldThrowOnError=!0,this}async handleOperation(e){try{return{data:await e(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(eT(e))return{data:null,error:e};throw e}}},eq=class{constructor(e,t){this.downloadFn=e,this.shouldThrowOnError=t}then(e,t){return this.execute().then(e,t)}async execute(){try{return{data:(await this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(eT(e))return{data:null,error:e};throw e}}};t=Symbol.toStringTag;var eK=class{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[t]="BlobDownloadBuilder",this.promise=null}asStream(){return new eq(this.downloadFn,this.shouldThrowOnError)}then(e,t){return this.getPromise().then(e,t)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){try{return{data:await (await this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(eT(e))return{data:null,error:e};throw e}}};let eH={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},eV={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var eG=class extends eW{constructor(e,t={},r,n){super(e,t,n,"storage"),this.bucketId=r}async uploadOrUpdate(e,t,r,n){var s=this;return s.handleOperation(async()=>{let i,o=eP(eP({},eV),n),a=eP(eP({},s.headers),"POST"===e&&{"x-upsert":String(o.upsert)}),l=o.metadata;"u">typeof Blob&&r instanceof Blob?((i=new FormData).append("cacheControl",o.cacheControl),l&&i.append("metadata",s.encodeMetadata(l)),i.append("",r)):"u">typeof FormData&&r instanceof FormData?((i=r).has("cacheControl")||i.append("cacheControl",o.cacheControl),l&&!i.has("metadata")&&i.append("metadata",s.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=s.toBase64(s.encodeMetadata(l))),("u">typeof ReadableStream&&i instanceof ReadableStream||i&&"object"==typeof i&&"pipe"in i&&"function"==typeof i.pipe)&&!o.duplex&&(o.duplex="half")),(null==n?void 0:n.headers)&&(a=eP(eP({},a),n.headers));let u=s._removeEmptyFolders(t),c=s._getFinalPath(u),h=await ("PUT"==e?eM:eU)(s.fetch,`${s.url}/object/${c}`,i,eP({headers:a},(null==o?void 0:o.duplex)?{duplex:o.duplex}:{}));return{path:u,id:h.Id,fullPath:h.Key}})}async upload(e,t,r){return this.uploadOrUpdate("POST",e,t,r)}async uploadToSignedUrl(e,t,r,n){var s=this;let i=s._removeEmptyFolders(e),o=s._getFinalPath(i),a=new URL(s.url+`/object/upload/sign/${o}`);return a.searchParams.set("token",t),s.handleOperation(async()=>{let e,t=eP({upsert:eV.upsert},n),o=eP(eP({},s.headers),{"x-upsert":String(t.upsert)});return"u">typeof Blob&&r instanceof Blob?((e=new FormData).append("cacheControl",t.cacheControl),e.append("",r)):"u">typeof FormData&&r instanceof FormData?(e=r).append("cacheControl",t.cacheControl):(e=r,o["cache-control"]=`max-age=${t.cacheControl}`,o["content-type"]=t.contentType),{path:i,fullPath:(await eM(s.fetch,a.toString(),e,{headers:o})).Key}})}async createSignedUploadUrl(e,t){var r=this;return r.handleOperation(async()=>{let n=r._getFinalPath(e),s=eP({},r.headers);(null==t?void 0:t.upsert)&&(s["x-upsert"]="true");let i=await eU(r.fetch,`${r.url}/object/upload/sign/${n}`,{},{headers:s}),o=new URL(r.url+i.url),a=o.searchParams.get("token");if(!a)throw new eE("No token returned by API");return{signedUrl:o.toString(),path:e,token:a}})}async update(e,t,r){return this.uploadOrUpdate("PUT",e,t,r)}async move(e,t,r){var n=this;return n.handleOperation(async()=>await eU(n.fetch,`${n.url}/object/move`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:n.headers}))}async copy(e,t,r){var n=this;return n.handleOperation(async()=>({path:(await eU(n.fetch,`${n.url}/object/copy`,{bucketId:n.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null==r?void 0:r.destinationBucket},{headers:n.headers})).Key}))}async createSignedUrl(e,t,r){var n=this;return n.handleOperation(async()=>{let s=n._getFinalPath(e),i=await eU(n.fetch,`${n.url}/object/sign/${s}`,eP({expiresIn:t},(null==r?void 0:r.transform)?{transform:r.transform}:{}),{headers:n.headers}),o=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return{signedUrl:encodeURI(`${n.url}${i.signedURL}${o}`)}})}async createSignedUrls(e,t,r){var n=this;return n.handleOperation(async()=>{let s=await eU(n.fetch,`${n.url}/object/sign/${n.bucketId}`,{expiresIn:t,paths:e},{headers:n.headers}),i=(null==r?void 0:r.download)?`&download=${!0===r.download?"":r.download}`:"";return s.map(e=>eP(eP({},e),{},{signedUrl:e.signedURL?encodeURI(`${n.url}${e.signedURL}${i}`):null}))})}download(e,t){let r=void 0!==(null==t?void 0:t.transform)?"render/image/authenticated":"object",n=this.transformOptsToQueryString((null==t?void 0:t.transform)||{}),s=n?`?${n}`:"",i=this._getFinalPath(e);return new eK(()=>eD(this.fetch,`${this.url}/${r}/${i}${s}`,{headers:this.headers,noResolveJson:!0}),this.shouldThrowOnError)}async info(e){var t=this;let r=t._getFinalPath(e);return t.handleOperation(async()=>eO(await eD(t.fetch,`${t.url}/object/info/${r}`,{headers:t.headers})))}async exists(e){let t=this._getFinalPath(e);try{return await eB(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(eT(e)&&e instanceof eA){let t=e.originalError;if([400,404].includes(null==t?void 0:t.status))return{data:!1,error:e}}throw e}}getPublicUrl(e,t){let r=this._getFinalPath(e),n=[],s=(null==t?void 0:t.download)?`download=${!0===t.download?"":t.download}`:"";""!==s&&n.push(s);let i=void 0!==(null==t?void 0:t.transform)?"render/image":"object",o=this.transformOptsToQueryString((null==t?void 0:t.transform)||{});""!==o&&n.push(o);let a=n.join("&");return""!==a&&(a=`?${a}`),{data:{publicUrl:encodeURI(`${this.url}/${i}/public/${r}${a}`)}}}async remove(e){var t=this;return t.handleOperation(async()=>await ez(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:e},{headers:t.headers}))}async list(e,t,r){var n=this;return n.handleOperation(async()=>{let s=eP(eP(eP({},eH),t),{},{prefix:e||""});return await eU(n.fetch,`${n.url}/object/list/${n.bucketId}`,s,{headers:n.headers},r)})}async listV2(e,t){var r=this;return r.handleOperation(async()=>{let n=eP({},e);return await eU(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,n,{headers:r.headers},t)})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return void 0!==ey.Buffer?ey.Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){let t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}};let eJ={"X-Client-Info":"storage-js/2.94.1"};var eY=class extends eW{constructor(e,t={},r,n){const s=new URL(e);(null==n?void 0:n.useNewHostname)&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),super(s.href.replace(/\/$/,""),eP(eP({},eJ),t),r,"storage")}async listBuckets(e){var t=this;return t.handleOperation(async()=>{let r=t.listBucketOptionsToQueryString(e);return await eD(t.fetch,`${t.url}/bucket${r}`,{headers:t.headers})})}async getBucket(e){var t=this;return t.handleOperation(async()=>await eD(t.fetch,`${t.url}/bucket/${e}`,{headers:t.headers}))}async createBucket(e,t={public:!1}){var r=this;return r.handleOperation(async()=>await eU(r.fetch,`${r.url}/bucket`,{id:e,name:e,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async updateBucket(e,t){var r=this;return r.handleOperation(async()=>await eM(r.fetch,`${r.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:r.headers}))}async emptyBucket(e){var t=this;return t.handleOperation(async()=>await eU(t.fetch,`${t.url}/bucket/${e}/empty`,{},{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ez(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(e){let t={};return e&&("limit"in e&&(t.limit=String(e.limit)),"offset"in e&&(t.offset=String(e.offset)),e.search&&(t.search=e.search),e.sortColumn&&(t.sortColumn=e.sortColumn),e.sortOrder&&(t.sortOrder=e.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},eX=class extends eW{constructor(e,t={},r){super(e.replace(/\/$/,""),eP(eP({},eJ),t),r,"storage")}async createBucket(e){var t=this;return t.handleOperation(async()=>await eU(t.fetch,`${t.url}/bucket`,{name:e},{headers:t.headers}))}async listBuckets(e){var t=this;return t.handleOperation(async()=>{let r=new URLSearchParams;(null==e?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(null==e?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),(null==e?void 0:e.sortColumn)&&r.set("sortColumn",e.sortColumn),(null==e?void 0:e.sortOrder)&&r.set("sortOrder",e.sortOrder),(null==e?void 0:e.search)&&r.set("search",e.search);let n=r.toString(),s=n?`${t.url}/bucket?${n}`:`${t.url}/bucket`;return await eD(t.fetch,s,{headers:t.headers})})}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await ez(t.fetch,`${t.url}/bucket/${e}`,{},{headers:t.headers}))}from(e){var t=this;if(!(!(!e||"string"!=typeof e||0===e.length||e.length>100||e.trim()!==e||e.includes("/")||e.includes("\\"))&&/^[\w!.\*'() &$@=;:+,?-]+$/.test(e)))throw new eE("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");let r=new eS({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),n=this.shouldThrowOnError;return new Proxy(r,{get(e,t){let r=e[t];return"function"!=typeof r?r:async(...t)=>{try{return{data:await r.apply(e,t),error:null}}catch(e){if(n)throw e;return{data:null,error:e}}}}})}},eZ=class extends eW{constructor(e,t={},r){super(e.replace(/\/$/,""),eP(eP({},eJ),{},{"Content-Type":"application/json"},t),r,"vectors")}async createIndex(e){var t=this;return t.handleOperation(async()=>await eF.post(t.fetch,`${t.url}/CreateIndex`,e,{headers:t.headers})||{})}async getIndex(e,t){var r=this;return r.handleOperation(async()=>await eF.post(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers}))}async listIndexes(e){var t=this;return t.handleOperation(async()=>await eF.post(t.fetch,`${t.url}/ListIndexes`,e,{headers:t.headers}))}async deleteIndex(e,t){var r=this;return r.handleOperation(async()=>await eF.post(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:e,indexName:t},{headers:r.headers})||{})}},eQ=class extends eW{constructor(e,t={},r){super(e.replace(/\/$/,""),eP(eP({},eJ),{},{"Content-Type":"application/json"},t),r,"vectors")}async putVectors(e){var t=this;if(e.vectors.length<1||e.vectors.length>500)throw Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await eF.post(t.fetch,`${t.url}/PutVectors`,e,{headers:t.headers})||{})}async getVectors(e){var t=this;return t.handleOperation(async()=>await eF.post(t.fetch,`${t.url}/GetVectors`,e,{headers:t.headers}))}async listVectors(e){var t=this;if(void 0!==e.segmentCount){if(e.segmentCount<1||e.segmentCount>16)throw Error("segmentCount must be between 1 and 16");if(void 0!==e.segmentIndex&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return t.handleOperation(async()=>await eF.post(t.fetch,`${t.url}/ListVectors`,e,{headers:t.headers}))}async queryVectors(e){var t=this;return t.handleOperation(async()=>await eF.post(t.fetch,`${t.url}/QueryVectors`,e,{headers:t.headers}))}async deleteVectors(e){var t=this;if(e.keys.length<1||e.keys.length>500)throw Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await eF.post(t.fetch,`${t.url}/DeleteVectors`,e,{headers:t.headers})||{})}},e0=class extends eW{constructor(e,t={},r){super(e.replace(/\/$/,""),eP(eP({},eJ),{},{"Content-Type":"application/json"},t),r,"vectors")}async createBucket(e){var t=this;return t.handleOperation(async()=>await eF.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}async getBucket(e){var t=this;return t.handleOperation(async()=>await eF.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:e},{headers:t.headers}))}async listBuckets(e={}){var t=this;return t.handleOperation(async()=>await eF.post(t.fetch,`${t.url}/ListVectorBuckets`,e,{headers:t.headers}))}async deleteBucket(e){var t=this;return t.handleOperation(async()=>await eF.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:t.headers})||{})}},e1=class extends e0{constructor(e,t={}){super(e,t.headers||{},t.fetch)}from(e){return new e2(this.url,this.headers,e,this.fetch)}async createBucket(e){return super.createBucket.call(this,e)}async getBucket(e){return super.getBucket.call(this,e)}async listBuckets(e={}){return super.listBuckets.call(this,e)}async deleteBucket(e){return super.deleteBucket.call(this,e)}},e2=class extends eZ{constructor(e,t,r,n){super(e,t,n),this.vectorBucketName=r}async createIndex(e){return super.createIndex.call(this,eP(eP({},e),{},{vectorBucketName:this.vectorBucketName}))}async listIndexes(e={}){return super.listIndexes.call(this,eP(eP({},e),{},{vectorBucketName:this.vectorBucketName}))}async getIndex(e){return super.getIndex.call(this,this.vectorBucketName,e)}async deleteIndex(e){return super.deleteIndex.call(this,this.vectorBucketName,e)}index(e){return new e5(this.url,this.headers,this.vectorBucketName,e,this.fetch)}},e5=class extends eQ{constructor(e,t,r,n,s){super(e,t,s),this.vectorBucketName=r,this.indexName=n}async putVectors(e){return super.putVectors.call(this,eP(eP({},e),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}async getVectors(e){return super.getVectors.call(this,eP(eP({},e),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}async listVectors(e={}){return super.listVectors.call(this,eP(eP({},e),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}async queryVectors(e){return super.queryVectors.call(this,eP(eP({},e),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}async deleteVectors(e){return super.deleteVectors.call(this,eP(eP({},e),{},{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))}},e6=class extends eY{constructor(e,t={},r,n){super(e,t,r,n)}from(e){return new eG(this.url,this.headers,e,this.fetch)}get vectors(){return new e1(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new eX(this.url+"/iceberg",this.headers,this.fetch)}};let e3="2.94.1",e8={"X-Client-Info":`gotrue-js/${e3}`},e4="X-Supabase-Api-Version",e9={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},e7=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class te extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function tt(e){return"object"==typeof e&&null!==e&&"__isAuthError"in e}class tr extends te{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class tn extends te{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class ts extends te{constructor(e,t,r,n){super(e,r,n),this.name=t,this.status=r}}class ti extends ts{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function to(e){return tt(e)&&"AuthSessionMissingError"===e.name}class ta extends ts{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class tl extends ts{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class tu extends ts{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class tc extends ts{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class th extends ts{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class td extends ts{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function tf(e){return tt(e)&&"AuthRetryableFetchError"===e.name}class tp extends ts{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class tg extends ts{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}let tm="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ty=" 	\n\r=".split(""),tv=(()=>{let e=Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<ty.length;t+=1)e[ty[t].charCodeAt(0)]=-2;for(let t=0;t<tm.length;t+=1)e[tm[t].charCodeAt(0)]=t;return e})();function tw(e,t,r){if(null!==e)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;)r(tm[t.queue>>t.queuedBits-6&63]),t.queuedBits-=6;else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;)r(tm[t.queue>>t.queuedBits-6&63]),t.queuedBits-=6}function tb(e,t,r){let n=tv[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else if(-2===n)return;else throw Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}function t_(e){let t=[],r=e=>{t.push(String.fromCodePoint(e))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127)return r(e);for(let r=1;r<6;r+=1)if((e>>7-r&1)==0){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else if(4===t.utf8seq)t.codepoint=7&e;else throw Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,n,r)};for(let t=0;t<e.length;t+=1)tb(e.charCodeAt(t),s,i);return t.join("")}function tk(e){let t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};for(let t=0;t<e.length;t+=1)tb(e.charCodeAt(t),r,n);return new Uint8Array(t)}function tx(e){let t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};return e.forEach(e=>tw(e,r,n)),tw(null,r,n),t.join("")}let tS=()=>"u">typeof window&&"u">typeof document,tE={tested:!1,writable:!1},tT=()=>{if(!tS())return!1;try{if("object"!=typeof globalThis.localStorage)return!1}catch(e){return!1}if(tE.tested)return tE.writable;let e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),tE.tested=!0,tE.writable=!0}catch(e){tE.tested=!0,tE.writable=!1}return tE.writable},tR=e=>e?(...t)=>e(...t):(...e)=>fetch(...e),tA=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},tO=async(e,t)=>{let r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(e){return r}},tj=async(e,t)=>{await e.removeItem(t)};class tC{constructor(){this.promise=new tC.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}function tP(e){let t=e.split(".");if(3!==t.length)throw new tg("Invalid JWT structure");for(let e=0;e<t.length;e++)if(!e7.test(t[e]))throw new tg("JWT not in base64url format");return{header:JSON.parse(t_(t[0])),payload:JSON.parse(t_(t[1])),signature:tk(t[2]),raw:{header:t[0],payload:t[1]}}}async function tI(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function tN(e){return("0"+e.toString(16)).substr(-2)}async function t$(e){let t=new TextEncoder().encode(e);return Array.from(new Uint8Array(await crypto.subtle.digest("SHA-256",t))).map(e=>String.fromCharCode(e)).join("")}async function tL(e){return"u">typeof crypto&&void 0!==crypto.subtle&&"u">typeof TextEncoder?btoa(await t$(e)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,""):(console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e)}async function tD(e,t,r=!1){let n=function(){let e=new Uint32Array(56);if("u"<typeof crypto){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length,r="";for(let n=0;n<56;n++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,tN).join("")}(),s=n;r&&(s+="/PASSWORD_RECOVERY"),await tA(e,`${t}-code-verifier`,s);let i=await tL(n),o=n===i?"plain":"s256";return[i,o]}tC.promiseConstructor=Promise;let tU=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i,tM=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function tB(e){if(!tM.test(e))throw Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function tz(){return new Proxy({},{get:(e,t)=>{if("__isUserNotAvailableProxy"===t)return!0;if("symbol"==typeof t){let e=t.toString();if("Symbol(Symbol.toPrimitive)"===e||"Symbol(Symbol.toStringTag)"===e||"Symbol(util.inspect.custom)"===e)return}throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${t}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,t)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,t)=>{throw Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${t}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function tF(e){return JSON.parse(JSON.stringify(e))}let tW=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tq=[502,503,504];async function tK(e){var t;let r,n;if(!("object"==typeof e&&null!==e&&"status"in e&&"ok"in e&&"json"in e&&"function"==typeof e.json))throw new td(tW(e),0);if(tq.includes(e.status))throw new td(tW(e),e.status);try{r=await e.json()}catch(e){throw new tn(tW(e),e)}let s=function(e){let t=e.headers.get(e4);if(!t||!t.match(tU))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch(e){return null}}(e);if(s&&s.getTime()>=e9["2024-01-01"].timestamp&&"object"==typeof r&&r&&"string"==typeof r.code?n=r.code:"object"==typeof r&&r&&"string"==typeof r.error_code&&(n=r.error_code),n){if("weak_password"===n)throw new tp(tW(r),e.status,(null==(t=r.weak_password)?void 0:t.reasons)||[]);else if("session_not_found"===n)throw new ti}else if("object"==typeof r&&r&&"object"==typeof r.weak_password&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0))throw new tp(tW(r),e.status,r.weak_password.reasons);throw new tr(tW(r),e.status||500,n)}async function tH(e,t,r,n){var s;let i=Object.assign({},null==n?void 0:n.headers);i[e4]||(i[e4]=e9["2024-01-01"].name),(null==n?void 0:n.jwt)&&(i.Authorization=`Bearer ${n.jwt}`);let o=null!=(s=null==n?void 0:n.query)?s:{};(null==n?void 0:n.redirectTo)&&(o.redirect_to=n.redirectTo);let a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await tV(e,t,r+a,{headers:i,noResolveJson:null==n?void 0:n.noResolveJson},{},null==n?void 0:n.body);return(null==n?void 0:n.xform)?null==n?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function tV(e,t,r,n,s,i){let o,a,l=(a={method:t,headers:(null==n?void 0:n.headers)||{}},"GET"===t?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null==n?void 0:n.headers),a.body=JSON.stringify(i),Object.assign(Object.assign({},a),s)));try{o=await e(r,Object.assign({},l))}catch(e){throw console.error(e),new td(tW(e),0)}if(o.ok||await tK(o),null==n?void 0:n.noResolveJson)return o;try{return await o.json()}catch(e){await tK(e)}}function tG(e){var t,r,n;let s=null;(n=e).access_token&&n.refresh_token&&n.expires_in&&(s=Object.assign({},e),e.expires_at||(s.expires_at=(r=e.expires_in,Math.round(Date.now()/1e3)+r)));return{data:{session:s,user:null!=(t=e.user)?t:e},error:null}}function tJ(e){let t=tG(e);return!t.error&&e.weak_password&&"object"==typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"==typeof e.weak_password.message&&e.weak_password.reasons.reduce((e,t)=>e&&"string"==typeof t,!0)&&(t.data.weak_password=e.weak_password),t}function tY(e){var t;return{data:{user:null!=(t=e.user)?t:e},error:null}}function tX(e){return{data:e,error:null}}function tZ(e){let{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i}=e;return{data:{properties:{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:i},user:Object.assign({},U(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]))},error:null}}function tQ(e){return e}let t0=["global","local","others"];class t1{constructor({url:e="",headers:t={},fetch:r}){this.url=e,this.headers=t,this.fetch=tR(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,t=t0[0]){if(0>t0.indexOf(t))throw Error(`@supabase/auth-js: Parameter scope must be one of ${t0.join(", ")}`);try{return await tH(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(e){if(tt(e))return{data:null,error:e};throw e}}async inviteUserByEmail(e,t={}){try{return await tH(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:tY})}catch(e){if(tt(e))return{data:{user:null},error:e};throw e}}async generateLink(e){try{let{options:t}=e,r=U(e,["options"]),n=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(n.new_email=null==r?void 0:r.newEmail,delete n.newEmail),await tH(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:tZ,redirectTo:null==t?void 0:t.redirectTo})}catch(e){if(tt(e))return{data:{properties:null,user:null},error:e};throw e}}async createUser(e){try{return await tH(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:tY})}catch(e){if(tt(e))return{data:{user:null},error:e};throw e}}async listUsers(e){var t,r,n,s,i,o,a;try{let l={nextPage:null,lastPage:0,total:0},u=await tH(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:null!=(r=null==(t=null==e?void 0:e.page)?void 0:t.toString())?r:"",per_page:null!=(s=null==(n=null==e?void 0:e.perPage)?void 0:n.toString())?s:""},xform:tQ});if(u.error)throw u.error;let c=await u.json(),h=null!=(i=u.headers.get("x-total-count"))?i:0,d=null!=(a=null==(o=u.headers.get("link"))?void 0:o.split(","))?a:[];return d.length>0&&(d.forEach(e=>{let t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},c),l),error:null}}catch(e){if(tt(e))return{data:{users:[]},error:e};throw e}}async getUserById(e){tB(e);try{return await tH(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:tY})}catch(e){if(tt(e))return{data:{user:null},error:e};throw e}}async updateUserById(e,t){tB(e);try{return await tH(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:tY})}catch(e){if(tt(e))return{data:{user:null},error:e};throw e}}async deleteUser(e,t=!1){tB(e);try{return await tH(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:tY})}catch(e){if(tt(e))return{data:{user:null},error:e};throw e}}async _listFactors(e){tB(e.userId);try{let{data:t,error:r}=await tH(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(e){if(tt(e))return{data:null,error:e};throw e}}async _deleteFactor(e){tB(e.userId),tB(e.id);try{return{data:await tH(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(e){if(tt(e))return{data:null,error:e};throw e}}async _listOAuthClients(e){var t,r,n,s,i,o,a;try{let l={nextPage:null,lastPage:0,total:0},u=await tH(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:null!=(r=null==(t=null==e?void 0:e.page)?void 0:t.toString())?r:"",per_page:null!=(s=null==(n=null==e?void 0:e.perPage)?void 0:n.toString())?s:""},xform:tQ});if(u.error)throw u.error;let c=await u.json(),h=null!=(i=u.headers.get("x-total-count"))?i:0,d=null!=(a=null==(o=u.headers.get("link"))?void 0:o.split(","))?a:[];return d.length>0&&(d.forEach(e=>{let t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l[`${r}Page`]=t}),l.total=parseInt(h)),{data:Object.assign(Object.assign({},c),l),error:null}}catch(e){if(tt(e))return{data:{clients:[]},error:e};throw e}}async _createOAuthClient(e){try{return await tH(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(tt(e))return{data:null,error:e};throw e}}async _getOAuthClient(e){try{return await tH(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(tt(e))return{data:null,error:e};throw e}}async _updateOAuthClient(e,t){try{return await tH(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:t,headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(tt(e))return{data:null,error:e};throw e}}async _deleteOAuthClient(e){try{return await tH(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(e){if(tt(e))return{data:null,error:e};throw e}}async _regenerateOAuthClientSecret(e){try{return await tH(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:e=>({data:e,error:null})})}catch(e){if(tt(e))return{data:null,error:e};throw e}}}function t2(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}let t5={debug:!!(globalThis&&tT()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"))};class t6 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class t3 extends t6{}async function t8(e,t,r){t5.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);let n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),t5.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async n=>{if(n){t5.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{t5.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}if(0===t)throw t5.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new t3(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(t5.debug)try{let e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(e){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",e)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}))}function t4(e){if(!/^0x[a-fA-F0-9]{40}$/.test(e))throw Error(`@supabase/auth-js: Address "${e}" is invalid.`);return e.toLowerCase()}class t9 extends Error{constructor({message:e,code:t,cause:r,name:n}){var s;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=null!=(s=null!=n?n:r instanceof Error?r.name:void 0)?s:"Unknown Error",this.code=t}}class t7 extends t9{constructor(e,t){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t,message:e}),this.name="WebAuthnUnknownError",this.originalError=t}}let re=new class{createNewAbortSignal(){if(this.controller){let e=Error("Cancelling existing WebAuthn API call for new one");e.name="AbortError",this.controller.abort(e)}let e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){let e=Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}};function rt(e){return"localhost"===e||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(e)}function rr(){var e,t;return!!(tS()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&"function"==typeof(null==(e=null==navigator?void 0:navigator.credentials)?void 0:e.create)&&"function"==typeof(null==(t=null==navigator?void 0:navigator.credentials)?void 0:t.get))}async function rn(e){try{let t=await navigator.credentials.create(e);if(!t)return{data:null,error:new t7("Empty credential response",t)};if(!(t instanceof PublicKeyCredential))return{data:null,error:new t7("Browser returned unexpected credential type",t)};return{data:t,error:null}}catch(t){return{data:null,error:function({error:e,options:t}){var r,n,s;let{publicKey:i}=t;if(!i)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new t9({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("ConstraintError"===e.name){if((null==(r=i.authenticatorSelection)?void 0:r.requireResidentKey)===!0)return new t9({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:e});else if("conditional"===t.mediation&&(null==(n=i.authenticatorSelection)?void 0:n.userVerification)==="required")return new t9({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:e});else if((null==(s=i.authenticatorSelection)?void 0:s.userVerification)==="required")return new t9({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:e})}else if("InvalidStateError"===e.name)return new t9({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:e});else if("NotAllowedError"===e.name)return new t9({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});else if("NotSupportedError"===e.name)return new t9(0===i.pubKeyCredParams.filter(e=>"public-key"===e.type).length?{message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:e}:{message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:e});else if("SecurityError"===e.name){let t=window.location.hostname;if(!rt(t))return new t9({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(i.rp.id!==t)return new t9({message:`The RP ID "${i.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("TypeError"===e.name){if(i.user.id.byteLength<1||i.user.id.byteLength>64)return new t9({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:e})}else if("UnknownError"===e.name)return new t9({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e});return new t9({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}({error:t,options:e})}}}async function rs(e){try{let t=await navigator.credentials.get(e);if(!t)return{data:null,error:new t7("Empty credential response",t)};if(!(t instanceof PublicKeyCredential))return{data:null,error:new t7("Browser returned unexpected credential type",t)};return{data:t,error:null}}catch(t){return{data:null,error:function({error:e,options:t}){let{publicKey:r}=t;if(!r)throw Error("options was missing required publicKey property");if("AbortError"===e.name){if(t.signal instanceof AbortSignal)return new t9({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:e})}else if("NotAllowedError"===e.name)return new t9({message:e.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e});else if("SecurityError"===e.name){let t=window.location.hostname;if(!rt(t))return new t9({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:e});if(r.rpId!==t)return new t9({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:e})}else if("UnknownError"===e.name)return new t9({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:e});return new t9({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:e})}({error:t,options:e})}}}let ri={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},ro={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function ra(...e){let t=e=>null!==e&&"object"==typeof e&&!Array.isArray(e),r=e=>e instanceof ArrayBuffer||ArrayBuffer.isView(e),n={};for(let s of e)if(s)for(let e in s){let i=s[e];if(void 0!==i)if(Array.isArray(i))n[e]=i;else if(r(i))n[e]=i;else if(t(i)){let r=n[e];t(r)?n[e]=ra(r,i):n[e]=ra(i)}else n[e]=i}return n}class rl{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:t,friendlyName:r,signal:n},s){var i,o,a,l,u;try{let{data:c,error:h}=await this.client.mfa.challenge({factorId:e,webauthn:t});if(!c)return{data:null,error:h};let d=null!=n?n:re.createNewAbortSignal();if("create"===c.webauthn.type){let{user:e}=c.webauthn.credential_options.publicKey;if(!e.name)if(r)e.name=`${e.id}:${r}`;else{let t=(await this.client.getUser()).data.user,r=(null==(i=null==t?void 0:t.user_metadata)?void 0:i.name)||(null==t?void 0:t.email)||(null==t?void 0:t.id)||"User";e.name=`${e.id}:${r}`}e.displayName||(e.displayName=e.name)}switch(c.webauthn.type){case"create":{let t=(o=c.webauthn.credential_options.publicKey,a=null==s?void 0:s.create,ra(ri,o,a||{})),{data:r,error:n}=await rn({publicKey:t,signal:d});if(r)return{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:r}},error:null};return{data:null,error:n}}case"request":{let t=(l=c.webauthn.credential_options.publicKey,u=null==s?void 0:s.request,ra(ro,l,u||{})),{data:r,error:n}=await rs(Object.assign(Object.assign({},c.webauthn.credential_options),{publicKey:t,signal:d}));if(r)return{data:{factorId:e,challengeId:c.id,webauthn:{type:c.webauthn.type,credential_response:r}},error:null};return{data:null,error:n}}}}catch(e){if(tt(e))return{data:null,error:e};return{data:null,error:new tn("Unexpected error in challenge",e)}}}async _verify({challengeId:e,factorId:t,webauthn:r}){return this.client.mfa.verify({factorId:t,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:t="u">typeof window?window.location.hostname:void 0,rpOrigins:r="u">typeof window?[window.location.origin]:void 0,signal:n}={}},s){if(!t)return{data:null,error:new te("rpId is required for WebAuthn authentication")};try{if(!rr())return{data:null,error:new tn("Browser does not support WebAuthn",null)};let{data:i,error:o}=await this.challenge({factorId:e,webauthn:{rpId:t,rpOrigins:r},signal:n},{request:s});if(!i)return{data:null,error:o};let{webauthn:a}=i;return this._verify({factorId:e,challengeId:i.challengeId,webauthn:{type:a.type,rpId:t,rpOrigins:r,credential_response:a.credential_response}})}catch(e){if(tt(e))return{data:null,error:e};return{data:null,error:new tn("Unexpected error in authenticate",e)}}}async _register({friendlyName:e,webauthn:{rpId:t="u">typeof window?window.location.hostname:void 0,rpOrigins:r="u">typeof window?[window.location.origin]:void 0,signal:n}={}},s){if(!t)return{data:null,error:new te("rpId is required for WebAuthn registration")};try{if(!rr())return{data:null,error:new tn("Browser does not support WebAuthn",null)};let{data:i,error:o}=await this._enroll({friendlyName:e});if(!i)return await this.client.mfa.listFactors().then(t=>{var r;return null==(r=t.data)?void 0:r.all.find(t=>"webauthn"===t.factor_type&&t.friendly_name===e&&"unverified"!==t.status)}).then(e=>e?this.client.mfa.unenroll({factorId:null==e?void 0:e.id}):void 0),{data:null,error:o};let{data:a,error:l}=await this._challenge({factorId:i.id,friendlyName:i.friendly_name,webauthn:{rpId:t,rpOrigins:r},signal:n},{create:s});if(!a)return{data:null,error:l};return this._verify({factorId:i.id,challengeId:a.challengeId,webauthn:{rpId:t,rpOrigins:r,type:a.webauthn.type,credential_response:a.webauthn.credential_response}})}catch(e){if(tt(e))return{data:null,error:e};return{data:null,error:new tn("Unexpected error in register",e)}}}}if("object"!=typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(e){"u">typeof self&&(self.globalThis=self)}let ru={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:e8,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function rc(e,t,r){return await r()}let rh={};class rd{get jwks(){var e,t;return null!=(t=null==(e=rh[this.storageKey])?void 0:e.jwks)?t:{keys:[]}}set jwks(e){rh[this.storageKey]=Object.assign(Object.assign({},rh[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,t;return null!=(t=null==(e=rh[this.storageKey])?void 0:e.cachedAt)?t:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){rh[this.storageKey]=Object.assign(Object.assign({},rh[this.storageKey]),{cachedAt:e})}constructor(e){var t,r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},ru),e);if(this.storageKey=s.storageKey,this.instanceID=null!=(t=rd.nextInstanceID[this.storageKey])?t:0,rd.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,"function"==typeof s.debug&&(this.logger=s.debug),this.instanceID>0&&tS()){const e=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(e),this.logDebugMessages&&console.trace(e)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new t1({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=tR(s.fetch),this.lock=s.lock||rc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,this.lockAcquireTimeout=s.lockAcquireTimeout,s.lock?this.lock=s.lock:this.persistSession&&tS()&&(null==(r=null==globalThis?void 0:globalThis.navigator)?void 0:r.locks)?this.lock=t8:this.lock=rc,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new rl(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:tT()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=t2(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=t2(this.memoryStorage)),tS()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(e){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",e)}null==(n=this.broadcastChannel)||n.addEventListener("message",async e=>{this._debug("received broadcast notification from other tab or client",e);try{await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}catch(e){this._debug("#broadcastChannel","error",e)}})}this.initialize().catch(e=>{this._debug("#initialize()","error",e)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${e3}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))()),await this.initializePromise}async _initialize(){var e;try{let t={},r="none";if(tS()&&(t=function(e){let t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach((e,r)=>{t[r]=e})}catch(e){}return r.searchParams.forEach((e,r)=>{t[r]=e}),t}(window.location.href),this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce")),tS()&&this.detectSessionInUrl&&"none"!==r){let{data:n,error:s}=await this._getSessionFromURL(t,r);if(s){(this._debug("#_initialize()","error detecting session from URL",s),tt(s)&&"AuthImplicitGrantRedirectError"===s.name)&&(null==(e=s.details)||e.code);return{error:s}}let{session:i,redirectType:o}=n;return this._debug("#_initialize()","detected session in URL",i,"redirect type",o),await this._saveSession(i),setTimeout(async()=>{"recovery"===o?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){if(tt(e))return this._returnResult({error:e});return this._returnResult({error:new tn("Unexpected error during initialization",e)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,n;try{let{data:s,error:i}=await tH(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:null!=(r=null==(t=null==e?void 0:e.options)?void 0:t.data)?r:{},gotrue_meta_security:{captcha_token:null==(n=null==e?void 0:e.options)?void 0:n.captchaToken}},xform:tG});if(i||!s)return this._returnResult({data:{user:null,session:null},error:i});let o=s.session,a=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",o)),this._returnResult({data:{user:a,session:o},error:null})}catch(e){if(tt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signUp(e){var t,r,n;try{let s;if("email"in e){let{email:r,password:n,options:i}=e,o=null,a=null;"pkce"===this.flowType&&([o,a]=await tD(this.storage,this.storageKey)),s=await tH(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:null==i?void 0:i.emailRedirectTo,body:{email:r,password:n,data:null!=(t=null==i?void 0:i.data)?t:{},gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken},code_challenge:o,code_challenge_method:a},xform:tG})}else if("phone"in e){let{phone:t,password:i,options:o}=e;s=await tH(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:t,password:i,data:null!=(r=null==o?void 0:o.data)?r:{},channel:null!=(n=null==o?void 0:o.channel)?n:"sms",gotrue_meta_security:{captcha_token:null==o?void 0:o.captchaToken}},xform:tG})}else throw new tl("You must provide either an email or phone number and a password");let{data:i,error:o}=s;if(o||!i)return await tj(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});let a=i.session,l=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",a)),this._returnResult({data:{user:l,session:a},error:null})}catch(e){if(await tj(this.storage,`${this.storageKey}-code-verifier`),tt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithPassword(e){try{let t;if("email"in e){let{email:r,password:n,options:s}=e;t=await tH(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:r,password:n,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:tJ})}else if("phone"in e){let{phone:r,password:n,options:s}=e;t=await tH(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:r,password:n,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},xform:tJ})}else throw new tl("You must provide either an email or phone number and a password");let{data:r,error:n}=t;if(n)return this._returnResult({data:{user:null,session:null},error:n});if(!r||!r.session||!r.user){let e=new ta;return this._returnResult({data:{user:null,session:null},error:e})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n})}catch(e){if(tt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithOAuth(e){var t,r,n,s;return await this._handleProviderSignIn(e.provider,{redirectTo:null==(t=e.options)?void 0:t.redirectTo,scopes:null==(r=e.options)?void 0:r.scopes,queryParams:null==(n=e.options)?void 0:n.queryParams,skipBrowserRedirect:null==(s=e.options)?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){let{chain:t}=e;switch(t){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw Error(`@supabase/auth-js: Unsupported chain "${t}"`)}}async signInWithEthereum(e){var t,r,n,s,i,o,a,l,u,c,h,d;let f,p;if("message"in e)f=e.message,p=e.signature;else{let c,{chain:h,wallet:g,statement:m,options:y}=e;if(tS())if("object"==typeof g)c=g;else{let e=window;if("ethereum"in e&&"object"==typeof e.ethereum&&"request"in e.ethereum&&"function"==typeof e.ethereum.request)c=e.ethereum;else throw Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if("object"!=typeof g||!(null==y?void 0:y.url))throw Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");c=g}let v=new URL(null!=(t=null==y?void 0:y.url)?t:window.location.href),w=await c.request({method:"eth_requestAccounts"}).then(e=>e).catch(()=>{throw Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!w||0===w.length)throw Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");let b=t4(w[0]),_=null==(r=null==y?void 0:y.signInWithEthereum)?void 0:r.chainId;_||(_=parseInt(await c.request({method:"eth_chainId"}),16)),f=function(e){var t;let{chainId:r,domain:n,expirationTime:s,issuedAt:i=new Date,nonce:o,notBefore:a,requestId:l,resources:u,scheme:c,uri:h,version:d}=e;if(!Number.isInteger(r))throw Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(o&&o.length<8)throw Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${o}`);if(!h)throw Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if("1"!==d)throw Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${d}`);if(null==(t=e.statement)?void 0:t.includes("\n"))throw Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${e.statement}`);let f=t4(e.address),p=c?`${c}://${n}`:n,g=e.statement?`${e.statement}
`:"",m=`${p} wants you to sign in with your Ethereum account:
${f}

${g}`,y=`URI: ${h}
Version: ${d}
Chain ID: ${r}${o?`
Nonce: ${o}`:""}
Issued At: ${i.toISOString()}`;if(s&&(y+=`
Expiration Time: ${s.toISOString()}`),a&&(y+=`
Not Before: ${a.toISOString()}`),l&&(y+=`
Request ID: ${l}`),u){let e="\nResources:";for(let t of u){if(!t||"string"!=typeof t)throw Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${t}`);e+=`
- ${t}`}y+=e}return`${m}
${y}`}({domain:v.host,address:b,statement:m,uri:v.href,version:"1",chainId:_,nonce:null==(n=null==y?void 0:y.signInWithEthereum)?void 0:n.nonce,issuedAt:null!=(i=null==(s=null==y?void 0:y.signInWithEthereum)?void 0:s.issuedAt)?i:new Date,expirationTime:null==(o=null==y?void 0:y.signInWithEthereum)?void 0:o.expirationTime,notBefore:null==(a=null==y?void 0:y.signInWithEthereum)?void 0:a.notBefore,requestId:null==(l=null==y?void 0:y.signInWithEthereum)?void 0:l.requestId,resources:null==(u=null==y?void 0:y.signInWithEthereum)?void 0:u.resources}),p=await c.request({method:"personal_sign",params:[(d=f,"0x"+Array.from(new TextEncoder().encode(d),e=>e.toString(16).padStart(2,"0")).join("")),b]})}try{let{data:t,error:r}=await tH(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:f,signature:p},(null==(c=e.options)?void 0:c.captchaToken)?{gotrue_meta_security:{captcha_token:null==(h=e.options)?void 0:h.captchaToken}}:null),xform:tG});if(r)throw r;if(!t||!t.session||!t.user){let e=new ta;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:r})}catch(e){if(tt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithSolana(e){var t,r,n,s,i,o,a,l,u,c,h,d;let f,p;if("message"in e)f=e.message,p=e.signature;else{let h,{chain:d,wallet:g,statement:m,options:y}=e;if(tS())if("object"==typeof g)h=g;else{let e=window;if("solana"in e&&"object"==typeof e.solana&&("signIn"in e.solana&&"function"==typeof e.solana.signIn||"signMessage"in e.solana&&"function"==typeof e.solana.signMessage))h=e.solana;else throw Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if("object"!=typeof g||!(null==y?void 0:y.url))throw Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");h=g}let v=new URL(null!=(t=null==y?void 0:y.url)?t:window.location.href);if("signIn"in h&&h.signIn){let e,t=await h.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},null==y?void 0:y.signInWithSolana),{version:"1",domain:v.host,uri:v.href}),m?{statement:m}:null));if(Array.isArray(t)&&t[0]&&"object"==typeof t[0])e=t[0];else if(t&&"object"==typeof t&&"signedMessage"in t&&"signature"in t)e=t;else throw Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in e&&"signature"in e&&("string"==typeof e.signedMessage||e.signedMessage instanceof Uint8Array)&&e.signature instanceof Uint8Array)f="string"==typeof e.signedMessage?e.signedMessage:new TextDecoder().decode(e.signedMessage),p=e.signature;else throw Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in h)||"function"!=typeof h.signMessage||!("publicKey"in h)||"object"!=typeof h||!h.publicKey||!("toBase58"in h.publicKey)||"function"!=typeof h.publicKey.toBase58)throw Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");f=[`${v.host} wants you to sign in with your Solana account:`,h.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${v.href}`,`Issued At: ${null!=(n=null==(r=null==y?void 0:y.signInWithSolana)?void 0:r.issuedAt)?n:new Date().toISOString()}`,...(null==(s=null==y?void 0:y.signInWithSolana)?void 0:s.notBefore)?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...(null==(i=null==y?void 0:y.signInWithSolana)?void 0:i.expirationTime)?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...(null==(o=null==y?void 0:y.signInWithSolana)?void 0:o.chainId)?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...(null==(a=null==y?void 0:y.signInWithSolana)?void 0:a.nonce)?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...(null==(l=null==y?void 0:y.signInWithSolana)?void 0:l.requestId)?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...(null==(c=null==(u=null==y?void 0:y.signInWithSolana)?void 0:u.resources)?void 0:c.length)?["Resources",...y.signInWithSolana.resources.map(e=>`- ${e}`)]:[]].join("\n");let e=await h.signMessage(new TextEncoder().encode(f),"utf8");if(!e||!(e instanceof Uint8Array))throw Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");p=e}}try{let{data:t,error:r}=await tH(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:f,signature:tx(p)},(null==(h=e.options)?void 0:h.captchaToken)?{gotrue_meta_security:{captcha_token:null==(d=e.options)?void 0:d.captchaToken}}:null),xform:tG});if(r)throw r;if(!t||!t.session||!t.user){let e=new ta;return this._returnResult({data:{user:null,session:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign({},t),error:r})}catch(e){if(tt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async _exchangeCodeForSession(e){let t=await tO(this.storage,`${this.storageKey}-code-verifier`),[r,n]=(null!=t?t:"").split("/");try{if(!r&&"pkce"===this.flowType)throw new th;let{data:t,error:s}=await tH(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:tG});if(await tj(this.storage,`${this.storageKey}-code-verifier`),s)throw s;if(!t||!t.session||!t.user){let e=new ta;return this._returnResult({data:{user:null,session:null,redirectType:null},error:e})}return t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),this._returnResult({data:Object.assign(Object.assign({},t),{redirectType:null!=n?n:null}),error:s})}catch(e){if(await tj(this.storage,`${this.storageKey}-code-verifier`),tt(e))return this._returnResult({data:{user:null,session:null,redirectType:null},error:e});throw e}}async signInWithIdToken(e){try{let{options:t,provider:r,token:n,access_token:s,nonce:i}=e,{data:o,error:a}=await tH(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:n,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:null==t?void 0:t.captchaToken}},xform:tG});if(a)return this._returnResult({data:{user:null,session:null},error:a});if(!o||!o.session||!o.user){let e=new ta;return this._returnResult({data:{user:null,session:null},error:e})}return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",o.session)),this._returnResult({data:o,error:a})}catch(e){if(tt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithOtp(e){var t,r,n,s,i;try{if("email"in e){let{email:n,options:s}=e,i=null,o=null;"pkce"===this.flowType&&([i,o]=await tD(this.storage,this.storageKey));let{error:a}=await tH(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:n,data:null!=(t=null==s?void 0:s.data)?t:{},create_user:null==(r=null==s?void 0:s.shouldCreateUser)||r,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken},code_challenge:i,code_challenge_method:o},redirectTo:null==s?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}if("phone"in e){let{phone:t,options:r}=e,{data:o,error:a}=await tH(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:t,data:null!=(n=null==r?void 0:r.data)?n:{},create_user:null==(s=null==r?void 0:r.shouldCreateUser)||s,gotrue_meta_security:{captcha_token:null==r?void 0:r.captchaToken},channel:null!=(i=null==r?void 0:r.channel)?i:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:null==o?void 0:o.message_id},error:a})}throw new tl("You must provide either an email or phone number.")}catch(e){if(await tj(this.storage,`${this.storageKey}-code-verifier`),tt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async verifyOtp(e){var t,r;try{let n,s;"options"in e&&(n=null==(t=e.options)?void 0:t.redirectTo,s=null==(r=e.options)?void 0:r.captchaToken);let{data:i,error:o}=await tH(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:n,xform:tG});if(o)throw o;if(!i)throw Error("An error occurred on token verification.");let a=i.session,l=i.user;return(null==a?void 0:a.access_token)&&(await this._saveSession(a),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",a)),this._returnResult({data:{user:l,session:a},error:null})}catch(e){if(tt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async signInWithSSO(e){var t,r,n,s,i;try{let o=null,a=null;"pkce"===this.flowType&&([o,a]=await tD(this.storage,this.storageKey));let l=await tH(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!=(r=null==(t=e.options)?void 0:t.redirectTo)?r:void 0}),(null==(n=null==e?void 0:e.options)?void 0:n.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:a}),headers:this.headers,xform:tX});return(null==(s=l.data)?void 0:s.url)&&tS()&&!(null==(i=e.options)?void 0:i.skipBrowserRedirect)&&window.location.assign(l.data.url),this._returnResult(l)}catch(e){if(await tj(this.storage,`${this.storageKey}-code-verifier`),tt(e))return this._returnResult({data:null,error:e});throw e}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{let{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new ti;let{error:n}=await tH(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return this._returnResult({data:{user:null,session:null},error:n})})}catch(e){if(tt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{let t=`${this.url}/resend`;if("email"in e){let{email:r,type:n,options:s}=e,{error:i}=await tH(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}},redirectTo:null==s?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:i})}if("phone"in e){let{phone:r,type:n,options:s}=e,{data:i,error:o}=await tH(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:null==s?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:null==i?void 0:i.message_id},error:o})}throw new tl("You must provide either an email or phone number and a type")}catch(e){if(tt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async e=>e))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(e){}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(e){}})()),await e;this.pendingInLock.length;){let e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{let t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",Error().stack);try{let t=null,r=await tO(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),null!==r&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};let n=!!t.expires_at&&1e3*t.expires_at-Date.now()<9e4;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){let e=await tO(this.userStorage,this.storageKey+"-user");(null==e?void 0:e.user)?t.user=e.user:t.user=tz()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){var e;let r={value:this.suppressGetSessionWarning};t.user=(e=t.user,new Proxy(e,{get:(e,t,n)=>{if("__isInsecureUserWarningProxy"===t)return!0;if("symbol"==typeof t){let r=t.toString();if("Symbol(Symbol.toPrimitive)"===r||"Symbol(Symbol.toStringTag)"===r||"Symbol(util.inspect.custom)"===r||"Symbol(nodejs.util.inspect.custom)"===r)return Reflect.get(e,t,n)}return r.value||"string"!=typeof t||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(e,t,n)}})),r.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}let{data:s,error:i}=await this._callRefreshToken(t.refresh_token);if(i)return this._returnResult({data:{session:null},error:i});return this._returnResult({data:{session:s},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;let t=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return t.data.user&&(this.suppressGetSessionWarning=!0),t}async _getUser(e){try{if(e)return await tH(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:tY});return await this._useSession(async e=>{var t,r,n;let{data:s,error:i}=e;if(i)throw i;return(null==(t=s.session)?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await tH(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:null!=(n=null==(r=s.session)?void 0:r.access_token)?n:void 0,xform:tY}):{data:{user:null},error:new ti}})}catch(e){if(tt(e))return to(e)&&(await this._removeSession(),await tj(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:e});throw e}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async r=>{let{data:n,error:s}=r;if(s)throw s;if(!n.session)throw new ti;let i=n.session,o=null,a=null;"pkce"===this.flowType&&null!=e.email&&([o,a]=await tD(this.storage,this.storageKey));let{data:l,error:u}=await tH(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:null==t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:a}),jwt:i.access_token,xform:tY});if(u)throw u;return i.user=l.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),this._returnResult({data:{user:i.user},error:null})})}catch(e){if(await tj(this.storage,`${this.storageKey}-code-verifier`),tt(e))return this._returnResult({data:{user:null},error:e});throw e}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new ti;let t=Date.now()/1e3,r=t,n=!0,s=null,{payload:i}=tP(e.access_token);if(i.exp&&(n=(r=i.exp)<=t),n){let{data:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return this._returnResult({data:{user:null,session:null},error:r});if(!t)return{data:{user:null,session:null},error:null};s=t}else{let{data:n,error:i}=await this._getUser(e.access_token);if(i)return this._returnResult({data:{user:null,session:null},error:i});s={access_token:e.access_token,refresh_token:e.refresh_token,user:n.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(e){if(tt(e))return this._returnResult({data:{session:null,user:null},error:e});throw e}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var r;if(!e){let{data:n,error:s}=t;if(s)throw s;e=null!=(r=n.session)?r:void 0}if(!(null==e?void 0:e.refresh_token))throw new ti;let{data:n,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):n?this._returnResult({data:{user:n.user,session:n},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(e){if(tt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async _getSessionFromURL(e,t){try{if(!tS())throw new tu("No browser detected.");if(e.error||e.error_description||e.error_code)throw new tu(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new tc("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new tu("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new tc("No code detected.");let{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;let n=new URL(window.location.href);return n.searchParams.delete("code"),window.history.replaceState(window.history.state,"",n.toString()),{data:{session:t.session,redirectType:null},error:null}}let{provider_token:r,provider_refresh_token:n,access_token:s,refresh_token:i,expires_in:o,expires_at:a,token_type:l}=e;if(!s||!o||!i||!l)throw new tu("No session defined in URL");let u=Math.round(Date.now()/1e3),c=parseInt(o),h=u+c;a&&(h=parseInt(a));let d=h-u;1e3*d<=3e4&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${d}s, should have been closer to ${c}s`);let f=h-c;u-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,h,u):u-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,h,u);let{data:p,error:g}=await this._getUser(s);if(g)throw g;let m={provider_token:r,provider_refresh_token:n,access_token:s,expires_in:c,expires_at:h,refresh_token:i,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:m,redirectType:e.type},error:null})}catch(e){if(tt(e))return this._returnResult({data:{session:null,redirectType:null},error:e});throw e}}_isImplicitGrantCallback(e){return"function"==typeof this.detectSessionInUrl?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){let t=await tO(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var r;let{data:n,error:s}=t;if(s&&!to(s))return this._returnResult({error:s});let i=null==(r=n.session)?void 0:r.access_token;if(i){let{error:t}=await this.admin.signOut(i,e);if(t&&!(tt(t)&&"AuthApiError"===t.name&&(404===t.status||401===t.status||403===t.status)||to(t)))return this._returnResult({error:t})}return"others"!==e&&(await this._removeSession(),await tj(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){let t=Symbol("auth-callback"),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(t)})})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async t=>{var r,n;try{let{data:{session:n},error:s}=t;if(s)throw s;await (null==(r=this.stateChangeEmitters.get(e))?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(t){await (null==(n=this.stateChangeEmitters.get(e))?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",t),console.error(t)}})}async resetPasswordForEmail(e,t={}){let r=null,n=null;"pkce"===this.flowType&&([r,n]=await tD(this.storage,this.storageKey,!0));try{return await tH(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(e){if(await tj(this.storage,`${this.storageKey}-code-verifier`),tt(e))return this._returnResult({data:null,error:e});throw e}}async getUserIdentities(){var e;try{let{data:t,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:null!=(e=t.user.identities)?e:[]},error:null})}catch(e){if(tt(e))return this._returnResult({data:null,error:e});throw e}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var t;try{let{data:r,error:n}=await this._useSession(async t=>{var r,n,s,i,o;let{data:a,error:l}=t;if(l)throw l;let u=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:null==(r=e.options)?void 0:r.redirectTo,scopes:null==(n=e.options)?void 0:n.scopes,queryParams:null==(s=e.options)?void 0:s.queryParams,skipBrowserRedirect:!0});return await tH(this.fetch,"GET",u,{headers:this.headers,jwt:null!=(o=null==(i=a.session)?void 0:i.access_token)?o:void 0})});if(n)throw n;return!tS()||(null==(t=e.options)?void 0:t.skipBrowserRedirect)||window.location.assign(null==r?void 0:r.url),this._returnResult({data:{provider:e.provider,url:null==r?void 0:r.url},error:null})}catch(t){if(tt(t))return this._returnResult({data:{provider:e.provider,url:null},error:t});throw t}}async linkIdentityIdToken(e){return await this._useSession(async t=>{var r;try{let{error:n,data:{session:s}}=t;if(n)throw n;let{options:i,provider:o,token:a,access_token:l,nonce:u}=e,{data:c,error:h}=await tH(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:null!=(r=null==s?void 0:s.access_token)?r:void 0,body:{provider:o,id_token:a,access_token:l,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:null==i?void 0:i.captchaToken}},xform:tG});if(h)return this._returnResult({data:{user:null,session:null},error:h});if(!c||!c.session||!c.user)return this._returnResult({data:{user:null,session:null},error:new ta});return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("USER_UPDATED",c.session)),this._returnResult({data:c,error:h})}catch(e){if(await tj(this.storage,`${this.storageKey}-code-verifier`),tt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}})}async unlinkIdentity(e){try{return await this._useSession(async t=>{var r,n;let{data:s,error:i}=t;if(i)throw i;return await tH(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:null!=(n=null==(r=s.session)?void 0:r.access_token)?n:void 0})})}catch(e){if(tt(e))return this._returnResult({data:null,error:e});throw e}}async _refreshAccessToken(e){let t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{var r,n;let s=Date.now();return await (r=async r=>(r>0&&await tI(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await tH(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:tG})),n=(e,t)=>{let r=200*Math.pow(2,e);return t&&tf(t)&&Date.now()+r-s<3e4},new Promise((e,t)=>{(async()=>{for(let s=0;s<1/0;s++)try{let t=await r(s);if(!n(s,null,t))return void e(t)}catch(e){if(!n(s,e))return void t(e)}})()}))}catch(e){if(this._debug(t,"error",e),tt(e))return this._returnResult({data:{session:null,user:null},error:e});throw e}finally{this._debug(t,"end")}}_isValidSession(e){return"object"==typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){let r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),tS()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,t;let r="#_recoverAndRefresh()";this._debug(r,"begin");try{let n=await tO(this.storage,this.storageKey);if(n&&this.userStorage){let t=await tO(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!t&&(t={user:n.user},await tA(this.userStorage,this.storageKey+"-user",t)),n.user=null!=(e=null==t?void 0:t.user)?e:tz()}else if(n&&!n.user&&!n.user){let e=await tO(this.storage,this.storageKey+"-user");e&&(null==e?void 0:e.user)?(n.user=e.user,await tj(this.storage,this.storageKey+"-user"),await tA(this.storage,this.storageKey,n)):n.user=tz()}if(this._debug(r,"session from storage",n),!this._isValidSession(n)){this._debug(r,"session is not valid"),null!==n&&await this._removeSession();return}let s=(null!=(t=n.expires_at)?t:1/0)*1e3-Date.now()<9e4;if(this._debug(r,`session has${s?"":" not"} expired with margin of 90000s`),s){if(this.autoRefreshToken&&n.refresh_token){let{error:e}=await this._callRefreshToken(n.refresh_token);e&&(console.error(e),tf(e)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else if(n.user&&!0===n.user.__isUserNotAvailableProxy)try{let{data:e,error:t}=await this._getUser(n.access_token);!t&&(null==e?void 0:e.user)?(n.user=e.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(e){console.error("Error getting user data:",e),this._debug(r,"error getting user data, skipping SIGNED_IN notification",e)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(e){this._debug(r,"error",e),console.error(e);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new ti;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let n=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new tC;let{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new ti;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);let n={data:t.session,error:null};return this.refreshingDeferred.resolve(n),n}catch(e){if(this._debug(n,"error",e),tt(e)){let r={data:null,error:e};return tf(e)||await this._removeSession(),null==(t=this.refreshingDeferred)||t.resolve(r),r}throw null==(r=this.refreshingDeferred)||r.reject(e),e}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t,r=!0){let n=`#_notifyAllSubscribers(${e})`;this._debug(n,"begin",t,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});let n=[],s=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(e,t)}catch(e){n.push(e)}});if(await Promise.all(s),n.length>0){for(let e=0;e<n.length;e+=1)console.error(n[e]);throw n[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await tj(this.storage,`${this.storageKey}-code-verifier`);let t=Object.assign({},e),r=t.user&&!0===t.user.__isUserNotAvailableProxy;if(this.userStorage){!r&&t.user&&await tA(this.userStorage,this.storageKey+"-user",{user:t.user});let e=Object.assign({},t);delete e.user;let n=tF(e);await tA(this.storage,this.storageKey,n)}else{let e=tF(t);await tA(this.storage,this.storageKey,e)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await tj(this.storage,this.storageKey),await tj(this.storage,this.storageKey+"-code-verifier"),await tj(this.storage,this.storageKey+"-user"),this.userStorage&&await tj(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&tS()&&(null==window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(e){console.error("removing visibilitychange callback failed",e)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),3e4);this.autoRefreshTicker=e,e&&"object"==typeof e&&"function"==typeof e.unref?e.unref():"u">typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(e);let t=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=t,t&&"object"==typeof t&&"function"==typeof t.unref?t.unref():"u">typeof Deno&&"function"==typeof Deno.unrefTimer&&Deno.unrefTimer(t)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);let t=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,t&&clearTimeout(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{let e=Date.now();try{return await this._useSession(async t=>{let{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");let n=Math.floor((1e3*r.expires_at-e)/3e4);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts 30000ms, refresh threshold is 3 ticks`),n<=3&&await this._callRefreshToken(r.refresh_token)})}catch(e){console.error("Auto refresh tick failed with error. This is likely a transient error.",e)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof t6)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!tS()||!(null==window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},null==window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){let t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{"visible"!==document.visibilityState?this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting"):await this._recoverAndRefresh()}))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){let n=[`provider=${encodeURIComponent(t)}`];if((null==r?void 0:r.redirectTo)&&n.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),(null==r?void 0:r.scopes)&&n.push(`scopes=${encodeURIComponent(r.scopes)}`),"pkce"===this.flowType){let[e,t]=await tD(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:`${encodeURIComponent(e)}`,code_challenge_method:`${encodeURIComponent(t)}`});n.push(r.toString())}if(null==r?void 0:r.queryParams){let e=new URLSearchParams(r.queryParams);n.push(e.toString())}return(null==r?void 0:r.skipBrowserRedirect)&&n.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${n.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var r;let{data:n,error:s}=t;return s?this._returnResult({data:null,error:s}):await tH(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:null==(r=null==n?void 0:n.session)?void 0:r.access_token})})}catch(e){if(tt(e))return this._returnResult({data:null,error:e});throw e}}async _enroll(e){try{return await this._useSession(async t=>{var r,n;let{data:s,error:i}=t;if(i)return this._returnResult({data:null,error:i});let o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:"totp"===e.factorType?{issuer:e.issuer}:{}),{data:a,error:l}=await tH(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:null==(r=null==s?void 0:s.session)?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):("totp"===e.factorType&&"totp"===a.type&&(null==(n=null==a?void 0:a.totp)?void 0:n.qr_code)&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),this._returnResult({data:a,error:null}))})}catch(e){if(tt(e))return this._returnResult({data:null,error:e});throw e}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var r,n,s;let{data:i,error:o}=t;if(o)return this._returnResult({data:null,error:o});let a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:"create"===e.webauthn.type?(n=e.webauthn.credential_response,"toJSON"in n&&"function"==typeof n.toJSON?n.toJSON():{id:n.id,rawId:n.id,response:{attestationObject:tx(new Uint8Array(n.response.attestationObject)),clientDataJSON:tx(new Uint8Array(n.response.clientDataJSON))},type:"public-key",clientExtensionResults:n.getClientExtensionResults(),authenticatorAttachment:null!=(s=n.authenticatorAttachment)?s:void 0}):function(e){var t;if("toJSON"in e&&"function"==typeof e.toJSON)return e.toJSON();let r=e.getClientExtensionResults(),n=e.response;return{id:e.id,rawId:e.id,response:{authenticatorData:tx(new Uint8Array(n.authenticatorData)),clientDataJSON:tx(new Uint8Array(n.clientDataJSON)),signature:tx(new Uint8Array(n.signature)),userHandle:n.userHandle?tx(new Uint8Array(n.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:null!=(t=e.authenticatorAttachment)?t:void 0}}(e.webauthn.credential_response)})}:{code:e.code}),{data:l,error:u}=await tH(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:null==(r=null==i?void 0:i.session)?void 0:r.access_token});return u?this._returnResult({data:null,error:u}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+l.expires_in},l)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",l),this._returnResult({data:l,error:u}))})}catch(e){if(tt(e))return this._returnResult({data:null,error:e});throw e}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async t=>{var r;let{data:n,error:s}=t;if(s)return this._returnResult({data:null,error:s});let i=await tH(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:null==(r=null==n?void 0:n.session)?void 0:r.access_token});if(i.error)return i;let{data:o}=i;if("webauthn"!==o.type)return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:function(e){if(!e)throw Error("Credential creation options are required");if("u">typeof PublicKeyCredential&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseCreationOptionsFromJSON)return PublicKeyCredential.parseCreationOptionsFromJSON(e);let{challenge:t,user:r,excludeCredentials:n}=e,s=U(e,["challenge","user","excludeCredentials"]),i=tk(t).buffer,o=Object.assign(Object.assign({},r),{id:tk(r.id).buffer}),a=Object.assign(Object.assign({},s),{challenge:i,user:o});if(n&&n.length>0){a.excludeCredentials=Array(n.length);for(let e=0;e<n.length;e++){let t=n[e];a.excludeCredentials[e]=Object.assign(Object.assign({},t),{id:tk(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return a}(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:function(e){if(!e)throw Error("Credential request options are required");if("u">typeof PublicKeyCredential&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&"function"==typeof PublicKeyCredential.parseRequestOptionsFromJSON)return PublicKeyCredential.parseRequestOptionsFromJSON(e);let{challenge:t,allowCredentials:r}=e,n=U(e,["challenge","allowCredentials"]),s=tk(t).buffer,i=Object.assign(Object.assign({},n),{challenge:s});if(r&&r.length>0){i.allowCredentials=Array(r.length);for(let e=0;e<r.length;e++){let t=r[e];i.allowCredentials[e]=Object.assign(Object.assign({},t),{id:tk(t.id).buffer,type:t.type||"public-key",transports:t.transports})}}return i}(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(e){if(tt(e))return this._returnResult({data:null,error:e});throw e}})}async _challengeAndVerify(e){let{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){var e;let{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};let n={all:[],phone:[],totp:[],webauthn:[]};for(let r of null!=(e=null==t?void 0:t.factors)?e:[])n.all.push(r),"verified"===r.status&&n[r.factor_type].push(r);return{data:n,error:null}}async _getAuthenticatorAssuranceLevel(e){var t,r,n,s;if(e)try{let{payload:n}=tP(e),s=null;n.aal&&(s=n.aal);let i=s,{data:{user:o},error:a}=await this.getUser(e);if(a)return this._returnResult({data:null,error:a});(null!=(r=null==(t=null==o?void 0:o.factors)?void 0:t.filter(e=>"verified"===e.status))?r:[]).length>0&&(i="aal2");let l=n.amr||[];return{data:{currentLevel:s,nextLevel:i,currentAuthenticationMethods:l},error:null}}catch(e){if(tt(e))return this._returnResult({data:null,error:e});throw e}let{data:{session:i},error:o}=await this.getSession();if(o)return this._returnResult({data:null,error:o});if(!i)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=tP(i.access_token),l=null;a.aal&&(l=a.aal);let u=l;return(null!=(s=null==(n=i.user.factors)?void 0:n.filter(e=>"verified"===e.status))?s:[]).length>0&&(u="aal2"),{data:{currentLevel:l,nextLevel:u,currentAuthenticationMethods:a.amr||[]},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async t=>{let{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?await tH(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new ti})})}catch(e){if(tt(e))return this._returnResult({data:null,error:e});throw e}}async _approveAuthorization(e,t){try{return await this._useSession(async r=>{let{data:{session:n},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!n)return this._returnResult({data:null,error:new ti});let i=await tH(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"approve"},xform:e=>({data:e,error:null})});return i.data&&i.data.redirect_url&&tS()&&!(null==t?void 0:t.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(e){if(tt(e))return this._returnResult({data:null,error:e});throw e}}async _denyAuthorization(e,t){try{return await this._useSession(async r=>{let{data:{session:n},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!n)return this._returnResult({data:null,error:new ti});let i=await tH(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:n.access_token,body:{action:"deny"},xform:e=>({data:e,error:null})});return i.data&&i.data.redirect_url&&tS()&&!(null==t?void 0:t.skipBrowserRedirect)&&window.location.assign(i.data.redirect_url),i})}catch(e){if(tt(e))return this._returnResult({data:null,error:e});throw e}}async _listOAuthGrants(){try{return await this._useSession(async e=>{let{data:{session:t},error:r}=e;return r?this._returnResult({data:null,error:r}):t?await tH(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:t.access_token,xform:e=>({data:e,error:null})}):this._returnResult({data:null,error:new ti})})}catch(e){if(tt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async t=>{let{data:{session:r},error:n}=t;return n?this._returnResult({data:null,error:n}):r?(await tH(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new ti})})}catch(e){if(tt(e))return this._returnResult({data:null,error:e});throw e}}async fetchJwk(e,t={keys:[]}){let r=t.keys.find(t=>t.kid===e);if(r)return r;let n=Date.now();if((r=this.jwks.keys.find(t=>t.kid===e))&&this.jwks_cached_at+6e5>n)return r;let{data:s,error:i}=await tH(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return s.keys&&0!==s.keys.length&&(this.jwks=s,this.jwks_cached_at=n,r=s.keys.find(t=>t.kid===e))?r:null}async getClaims(e,t={}){try{var r;let n,s=e;if(!s){let{data:e,error:t}=await this.getSession();if(t||!e.session)return this._returnResult({data:null,error:t});s=e.session.access_token}let{header:i,payload:o,signature:a,raw:{header:l,payload:u}}=tP(s);(null==t?void 0:t.allowExpired)||function(e){if(!e)throw Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw Error("JWT has expired")}(o.exp);let c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,(null==t?void 0:t.keys)?{keys:t.keys}:null==t?void 0:t.jwks);if(!c){let{error:e}=await this.getUser(s);if(e)throw e;return{data:{claims:o,header:i,signature:a},error:null}}let h=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw Error("Invalid alg claim")}}(i.alg),d=await crypto.subtle.importKey("jwk",c,h,!0,["verify"]);if(!await crypto.subtle.verify(h,d,a,(r=`${l}.${u}`,n=[],!function(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){let t=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|t)+65536,r+=1}!function(e,t){if(e<=127)return t(e);if(e<=2047){t(192|e>>6),t(128|63&e);return}if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|63&e);return}if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|63&e);return}throw Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}(n,t)}}(r,e=>n.push(e)),new Uint8Array(n))))throw new tg("Invalid JWT signature");return{data:{claims:o,header:i,signature:a},error:null}}catch(e){if(tt(e))return this._returnResult({data:null,error:e});throw e}}}rd.nextInstanceID={};let rf=rd,rp="";rp="u">typeof Deno?"deno":"u">typeof document?"web":"u">typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";let rg={headers:{"X-Client-Info":`supabase-js-${rp}/2.94.1`}},rm={schema:"public"},ry={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},rv={};function rw(e){return(rw="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function rb(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function r_(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?rb(Object(r),!0).forEach(function(t){!function(e,t,r){var n;(n=function(e,t){if("object"!=rw(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=rw(n))return n;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(t,"string"),(t="symbol"==rw(n)?n:n+"")in e)?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):rb(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var rk=class extends rf{constructor(e){super(e)}},rx=class{constructor(e,t,r){var n,s,i;this.supabaseUrl=e,this.supabaseKey=t;const o=function(e){let t=null==e?void 0:e.trim();if(!t)throw Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(t.endsWith("/")?t:t+"/")}catch(e){throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}(e);if(!t)throw Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const a=`sb-${o.hostname.split(".")[0]}-auth-token`,l=function(e,t){var r,n;let{db:s,auth:i,realtime:o,global:a}=e,{db:l,auth:u,realtime:c,global:h}=t,d={db:r_(r_({},l),s),auth:r_(r_({},u),i),realtime:r_(r_({},c),o),storage:{},global:r_(r_(r_({},h),a),{},{headers:r_(r_({},null!=(r=null==h?void 0:h.headers)?r:{}),null!=(n=null==a?void 0:a.headers)?n:{})}),accessToken:async()=>""};return e.accessToken?d.accessToken=e.accessToken:delete d.accessToken,d}(null!=r?r:{},{db:rm,realtime:rv,auth:r_(r_({},ry),{},{storageKey:a}),global:rg});this.storageKey=null!=(n=l.auth.storageKey)?n:"",this.headers=null!=(s=l.global.headers)?s:{},l.accessToken?(this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(t)} is not possible`)}})):this.auth=this._initSupabaseAuthClient(null!=(i=l.auth)?i:{},this.headers,l.global.fetch),this.fetch=((e,t,r)=>{let n=r?(...e)=>r(...e):(...e)=>fetch(...e),s=Headers;return async(r,i)=>{var o;let a=null!=(o=await t())?o:e,l=new s(null==i?void 0:i.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization",`Bearer ${a}`),n(r,r_(r_({},i),{},{headers:l}))}})(t,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(r_({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(e=>this.realtime.setAuth(e)).catch(e=>console.warn("Failed to set initial Realtime auth token:",e)),this.rest=new J(new URL("rest/v1",o).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch,timeout:l.db.timeout,urlLengthLimit:l.db.urlLengthLimit}),this.storage=new e6(this.storageUrl.href,this.headers,this.fetch,null==r?void 0:r.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new M(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,t,r)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,t;if(this.accessToken)return await this.accessToken();let{data:r}=await this.auth.getSession();return null!=(e=null==(t=r.session)?void 0:t.access_token)?e:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,storageKey:i,flowType:o,lock:a,debug:l,throwOnError:u},c,h){let d={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new rk({url:this.authUrl.href,headers:r_(r_({},d),c),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:r,storage:n,userStorage:s,flowType:o,lock:a,debug:l,throwOnError:u,fetch:h,hasCustomAuthorizationHeader:Object.keys(this.headers).some(e=>"authorization"===e.toLowerCase())})}_initRealtimeClient(e){return new em(this.realtimeUrl.href,r_(r_({},e),{},{params:r_(r_({},{apikey:this.supabaseKey}),null==e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,t)=>{this._handleTokenChanged(e,"CLIENT",null==t?void 0:t.access_token)})}_handleTokenChanged(e,t,r){("TOKEN_REFRESHED"===e||"SIGNED_IN"===e)&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0)}};(function(){if("u">typeof window)return!1;let e=globalThis.process;if(!e)return!1;let t=e.version;if(null==t)return!1;let r=t.match(/^v(\d+)\./);return!!r&&18>=parseInt(r[1],10)})()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");let rS=new rx("https://hzdflihidrmsnaqwyxbi.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh6ZGZsaWhpZHJtc25hcXd5eGJpIiwicm9sZSI6ImFub24iLCJpYXQiOjE3Njk0MzAxNTIsImV4cCI6MjA4NTAwNjE1Mn0.jns8WDK-Ag2pu5vW90D8jGTTr5rf8-2jQnZq8k3LSB0",void 0);function rE(e){return{HODOMETRO:e.hodometro_km||0,PLACA:e.placa||"",TIPO:e.tipo||"",MARCA:e.marca||"",MODELO:e.modelo||"",ULTIMA_REVISAO_KM:e.ultima_revisao_km||void 0,ULTIMA_REVISAO_TIPO:e.ultima_revisao_tipo||void 0,UPDATED_AT:e.updated_at||void 0}}function rT(){let[e,t]=(0,P.useState)([]),[r,n]=(0,P.useState)([]),[s,i]=(0,P.useState)([]),[o,a]=(0,P.useState)(!0),[l,u]=(0,P.useState)(null),c=(0,P.useCallback)(async()=>{try{a(!0);let{data:e,error:r}=await rS.from("hodometro").select("*").order("placa",{ascending:!0});if(r){console.error("Error fetching vehicles:",r),u(r.message);return}let{data:s,error:o}=await rS.from("revision_config").select("*").order("brand",{ascending:!0}).order("interval_km",{ascending:!0});o&&console.error("Error fetching configs:",o);let l=(e||[]).map(rE),c=s||[];t(l),n(c),i(l.map(e=>{var t;let r,n,s,i,o,a,l,u,h,d;return t=e.MARCA,s=t?.toUpperCase().trim()||"",i=c.filter(e=>s.includes(e.brand.toUpperCase())||e.brand.toUpperCase().includes(s)),o=0===i.length?2e4:Math.min(...i.map(e=>e.interval_km)),a=e.HODOMETRO||0,u=(l=(r=e.ULTIMA_REVISAO_KM&&e.ULTIMA_REVISAO_KM>0?e.ULTIMA_REVISAO_KM:Math.floor(a/o)*o)+o)-a,h=Math.min(Math.round((a-r)/o*100),100),n=u<=0?"overdue":u<=2e3?"critical":u<=5e3?"warning":"ok",d=function(e,t,r){let n,s,i=(n=t?.toUpperCase().trim()||"",s=r.filter(e=>n.includes(e.brand.toUpperCase())||e.brand.toUpperCase().includes(n)),0===s.length?[{name:"Reviso",interval:2e4}]:s.map(e=>({name:e.revision_name,interval:e.interval_km})).sort((e,t)=>e.interval-t.interval));if(i.length<=1)return"Completa";let o=[...i].sort((e,t)=>e.interval-t.interval);return e%o[o.length-1].interval==0?"Completa":"Intermediria"}(l,e.MARCA,c),{...e,revisionInterval:o,lastRevisionKm:r,nextRevisionKm:l,kmUntilRevision:u,revisionStatus:n,revisionPercentage:h,nextRevisionType:d}})),u(null)}catch(e){console.error("Error:",e),u("Erro ao carregar dados")}finally{a(!1)}},[]);return(0,P.useEffect)(()=>{c()},[c]),{vehicles:e,vehiclesWithRevision:s,revisionConfigs:r,loading:o,error:l,refresh:(0,P.useCallback)(()=>{c()},[c])}}function rR(){let[e,t]=(0,P.useState)([]),[r,n]=(0,P.useState)(!0),[s,i]=(0,P.useState)(null),o=(0,P.useCallback)(async()=>{try{n(!0);let{data:e,error:r}=await rS.from("revision_config").select("*").order("brand",{ascending:!0}).order("interval_km",{ascending:!0});if(r){console.error("Error fetching configs:",r),i(r.message);return}t(e||[]),i(null)}catch(e){console.error("Error:",e),i("Erro ao carregar configuraes")}finally{n(!1)}},[]);return(0,P.useEffect)(()=>{o()},[o]),{configs:e,loading:r,error:s,refresh:(0,P.useCallback)(()=>{o()},[o])}}e.s(["supabase",0,rS],7471),e.s(["useRevisionConfigs",()=>rR,"useVehicles",()=>rT],29041);var rA=e.i(43476),rO=e.i(22016),rj=e.i(18566);function rC(){for(var e,t,r=0,n="",s=arguments.length;r<s;r++)(e=arguments[r])&&(t=function e(t){var r,n,s="";if("string"==typeof t||"number"==typeof t)s+=t;else if("object"==typeof t)if(Array.isArray(t)){var i=t.length;for(r=0;r<i;r++)t[r]&&(n=e(t[r]))&&(s&&(s+=" "),s+=n)}else for(n in t)t[n]&&(s&&(s+=" "),s+=n);return s}(e))&&(n&&(n+=" "),n+=t);return n}e.s(["clsx",()=>rC],7670);let rP=(e=new Map,t=null,r)=>({nextPart:e,validators:t,classGroupId:r}),rI=[],rN=(e,t,r)=>{if(0==e.length-t)return r.classGroupId;let n=e[t],s=r.nextPart.get(n);if(s){let r=rN(e,t+1,s);if(r)return r}let i=r.validators;if(null===i)return;let o=0===t?e.join("-"):e.slice(t).join("-"),a=i.length;for(let e=0;e<a;e++){let t=i[e];if(t.validator(o))return t.classGroupId}},r$=(e,t)=>{let r=rP();for(let n in e)rL(e[n],r,n,t);return r},rL=(e,t,r,n)=>{let s=e.length;for(let i=0;i<s;i++)rD(e[i],t,r,n)},rD=(e,t,r,n)=>{"string"==typeof e?rU(e,t,r):"function"==typeof e?rM(e,t,r,n):rB(e,t,r,n)},rU=(e,t,r)=>{(""===e?t:rz(t,e)).classGroupId=r},rM=(e,t,r,n)=>{rF(e)?rL(e(n),t,r,n):(null===t.validators&&(t.validators=[]),t.validators.push({classGroupId:r,validator:e}))},rB=(e,t,r,n)=>{let s=Object.entries(e),i=s.length;for(let e=0;e<i;e++){let[i,o]=s[e];rL(o,rz(t,i),r,n)}},rz=(e,t)=>{let r=e,n=t.split("-"),s=n.length;for(let e=0;e<s;e++){let t=n[e],s=r.nextPart.get(t);s||(s=rP(),r.nextPart.set(t,s)),r=s}return r},rF=e=>"isThemeGetter"in e&&!0===e.isThemeGetter,rW=[],rq=(e,t,r,n,s)=>({modifiers:e,hasImportantModifier:t,baseClassName:r,maybePostfixModifierPosition:n,isExternal:s}),rK=/\s+/,rH=e=>{let t;if("string"==typeof e)return e;let r="";for(let n=0;n<e.length;n++)e[n]&&(t=rH(e[n]))&&(r&&(r+=" "),r+=t);return r},rV=[],rG=e=>{let t=t=>t[e]||rV;return t.isThemeGetter=!0,t},rJ=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,rY=/^\((?:(\w[\w-]*):)?(.+)\)$/i,rX=/^\d+\/\d+$/,rZ=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,rQ=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,r0=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,r1=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,r2=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,r5=e=>rX.test(e),r6=e=>!!e&&!Number.isNaN(Number(e)),r3=e=>!!e&&Number.isInteger(Number(e)),r8=e=>e.endsWith("%")&&r6(e.slice(0,-1)),r4=e=>rZ.test(e),r9=()=>!0,r7=e=>rQ.test(e)&&!r0.test(e),ne=()=>!1,nt=e=>r1.test(e),nr=e=>r2.test(e),nn=e=>!ni(e)&&!nh(e),ns=e=>nv(e,nk,ne),ni=e=>rJ.test(e),no=e=>nv(e,nx,r7),na=e=>nv(e,nS,r6),nl=e=>nv(e,nb,ne),nu=e=>nv(e,n_,nr),nc=e=>nv(e,nT,nt),nh=e=>rY.test(e),nd=e=>nw(e,nx),nf=e=>nw(e,nE),np=e=>nw(e,nb),ng=e=>nw(e,nk),nm=e=>nw(e,n_),ny=e=>nw(e,nT,!0),nv=(e,t,r)=>{let n=rJ.exec(e);return!!n&&(n[1]?t(n[1]):r(n[2]))},nw=(e,t,r=!1)=>{let n=rY.exec(e);return!!n&&(n[1]?t(n[1]):r)},nb=e=>"position"===e||"percentage"===e,n_=e=>"image"===e||"url"===e,nk=e=>"length"===e||"size"===e||"bg-size"===e,nx=e=>"length"===e,nS=e=>"number"===e,nE=e=>"family-name"===e,nT=e=>"shadow"===e,nR=((e,...t)=>{let r,n,s,i,o=e=>{let t=n(e);if(t)return t;let i=((e,t)=>{let{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:s,sortModifiers:i}=t,o=[],a=e.trim().split(rK),l="";for(let e=a.length-1;e>=0;e-=1){let t=a[e],{isExternal:u,modifiers:c,hasImportantModifier:h,baseClassName:d,maybePostfixModifierPosition:f}=r(t);if(u){l=t+(l.length>0?" "+l:l);continue}let p=!!f,g=n(p?d.substring(0,f):d);if(!g){if(!p||!(g=n(d))){l=t+(l.length>0?" "+l:l);continue}p=!1}let m=0===c.length?"":1===c.length?c[0]:i(c).join(":"),y=h?m+"!":m,v=y+g;if(o.indexOf(v)>-1)continue;o.push(v);let w=s(g,p);for(let e=0;e<w.length;++e){let t=w[e];o.push(y+t)}l=t+(l.length>0?" "+l:l)}return l})(e,r);return s(e,i),i};return i=a=>{var l;let u;return n=(r={cache:(e=>{if(e<1)return{get:()=>void 0,set:()=>{}};let t=0,r=Object.create(null),n=Object.create(null),s=(s,i)=>{r[s]=i,++t>e&&(t=0,n=r,r=Object.create(null))};return{get(e){let t=r[e];return void 0!==t?t:void 0!==(t=n[e])?(s(e,t),t):void 0},set(e,t){e in r?r[e]=t:s(e,t)}}})((l=t.reduce((e,t)=>t(e),e())).cacheSize),parseClassName:(e=>{let{prefix:t,experimentalParseClassName:r}=e,n=e=>{let t,r=[],n=0,s=0,i=0,o=e.length;for(let a=0;a<o;a++){let o=e[a];if(0===n&&0===s){if(":"===o){r.push(e.slice(i,a)),i=a+1;continue}if("/"===o){t=a;continue}}"["===o?n++:"]"===o?n--:"("===o?s++:")"===o&&s--}let a=0===r.length?e:e.slice(i),l=a,u=!1;return a.endsWith("!")?(l=a.slice(0,-1),u=!0):a.startsWith("!")&&(l=a.slice(1),u=!0),rq(r,u,l,t&&t>i?t-i:void 0)};if(t){let e=t+":",r=n;n=t=>t.startsWith(e)?r(t.slice(e.length)):rq(rW,!1,t,void 0,!0)}if(r){let e=n;n=t=>r({className:t,parseClassName:e})}return n})(l),sortModifiers:(u=new Map,l.orderSensitiveModifiers.forEach((e,t)=>{u.set(e,1e6+t)}),e=>{let t=[],r=[];for(let n=0;n<e.length;n++){let s=e[n],i="["===s[0],o=u.has(s);i||o?(r.length>0&&(r.sort(),t.push(...r),r=[]),t.push(s)):r.push(s)}return r.length>0&&(r.sort(),t.push(...r)),t}),...(e=>{let t=(e=>{let{theme:t,classGroups:r}=e;return r$(r,t)})(e),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=e;return{getClassGroupId:e=>{if(e.startsWith("[")&&e.endsWith("]")){var r;let t,n,s;return -1===(r=e).slice(1,-1).indexOf(":")?void 0:(n=(t=r.slice(1,-1)).indexOf(":"),(s=t.slice(0,n))?"arbitrary.."+s:void 0)}let n=e.split("-"),s=+(""===n[0]&&n.length>1);return rN(n,s,t)},getConflictingClassGroupIds:(e,t)=>{if(t){let t=n[e],s=r[e];if(t){if(s){let e=Array(s.length+t.length);for(let t=0;t<s.length;t++)e[t]=s[t];for(let r=0;r<t.length;r++)e[s.length+r]=t[r];return e}return t}return s||rI}return r[e]||rI}}})(l)}).cache.get,s=r.cache.set,i=o,o(a)},(...e)=>i(((...e)=>{let t,r,n=0,s="";for(;n<e.length;)(t=e[n++])&&(r=rH(t))&&(s&&(s+=" "),s+=r);return s})(...e))})(()=>{let e=rG("color"),t=rG("font"),r=rG("text"),n=rG("font-weight"),s=rG("tracking"),i=rG("leading"),o=rG("breakpoint"),a=rG("container"),l=rG("spacing"),u=rG("radius"),c=rG("shadow"),h=rG("inset-shadow"),d=rG("text-shadow"),f=rG("drop-shadow"),p=rG("blur"),g=rG("perspective"),m=rG("aspect"),y=rG("ease"),v=rG("animate"),w=()=>["auto","avoid","all","avoid-page","page","left","right","column"],b=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],_=()=>[...b(),nh,ni],k=()=>["auto","hidden","clip","visible","scroll"],x=()=>["auto","contain","none"],S=()=>[nh,ni,l],E=()=>[r5,"full","auto",...S()],T=()=>[r3,"none","subgrid",nh,ni],R=()=>["auto",{span:["full",r3,nh,ni]},r3,nh,ni],A=()=>[r3,"auto",nh,ni],O=()=>["auto","min","max","fr",nh,ni],j=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],C=()=>["start","end","center","stretch","center-safe","end-safe"],P=()=>["auto",...S()],I=()=>[r5,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],N=()=>[e,nh,ni],$=()=>[...b(),np,nl,{position:[nh,ni]}],L=()=>["no-repeat",{repeat:["","x","y","space","round"]}],D=()=>["auto","cover","contain",ng,ns,{size:[nh,ni]}],U=()=>[r8,nd,no],M=()=>["","none","full",u,nh,ni],B=()=>["",r6,nd,no],z=()=>["solid","dashed","dotted","double"],F=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>[r6,r8,np,nl],q=()=>["","none",p,nh,ni],K=()=>["none",r6,nh,ni],H=()=>["none",r6,nh,ni],V=()=>[r6,nh,ni],G=()=>[r5,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[r4],breakpoint:[r4],color:[r9],container:[r4],"drop-shadow":[r4],ease:["in","out","in-out"],font:[nn],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[r4],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[r4],shadow:[r4],spacing:["px",r6],text:[r4],"text-shadow":[r4],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",r5,ni,nh,m]}],container:["container"],columns:[{columns:[r6,ni,nh,a]}],"break-after":[{"break-after":w()}],"break-before":[{"break-before":w()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:_()}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:x()}],"overscroll-x":[{"overscroll-x":x()}],"overscroll-y":[{"overscroll-y":x()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:E()}],"inset-x":[{"inset-x":E()}],"inset-y":[{"inset-y":E()}],start:[{start:E()}],end:[{end:E()}],top:[{top:E()}],right:[{right:E()}],bottom:[{bottom:E()}],left:[{left:E()}],visibility:["visible","invisible","collapse"],z:[{z:[r3,"auto",nh,ni]}],basis:[{basis:[r5,"full","auto",a,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[r6,r5,"auto","initial","none",ni]}],grow:[{grow:["",r6,nh,ni]}],shrink:[{shrink:["",r6,nh,ni]}],order:[{order:[r3,"first","last","none",nh,ni]}],"grid-cols":[{"grid-cols":T()}],"col-start-end":[{col:R()}],"col-start":[{"col-start":A()}],"col-end":[{"col-end":A()}],"grid-rows":[{"grid-rows":T()}],"row-start-end":[{row:R()}],"row-start":[{"row-start":A()}],"row-end":[{"row-end":A()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":O()}],"auto-rows":[{"auto-rows":O()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...j(),"normal"]}],"justify-items":[{"justify-items":[...C(),"normal"]}],"justify-self":[{"justify-self":["auto",...C()]}],"align-content":[{content:["normal",...j()]}],"align-items":[{items:[...C(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...C(),{baseline:["","last"]}]}],"place-content":[{"place-content":j()}],"place-items":[{"place-items":[...C(),"baseline"]}],"place-self":[{"place-self":["auto",...C()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:P()}],mx:[{mx:P()}],my:[{my:P()}],ms:[{ms:P()}],me:[{me:P()}],mt:[{mt:P()}],mr:[{mr:P()}],mb:[{mb:P()}],ml:[{ml:P()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:I()}],w:[{w:[a,"screen",...I()]}],"min-w":[{"min-w":[a,"screen","none",...I()]}],"max-w":[{"max-w":[a,"screen","none","prose",{screen:[o]},...I()]}],h:[{h:["screen","lh",...I()]}],"min-h":[{"min-h":["screen","lh","none",...I()]}],"max-h":[{"max-h":["screen","lh",...I()]}],"font-size":[{text:["base",r,nd,no]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,nh,na]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",r8,ni]}],"font-family":[{font:[nf,ni,t]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[s,nh,ni]}],"line-clamp":[{"line-clamp":[r6,"none",nh,na]}],leading:[{leading:[i,...S()]}],"list-image":[{"list-image":["none",nh,ni]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",nh,ni]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:N()}],"text-color":[{text:N()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:[r6,"from-font","auto",nh,no]}],"text-decoration-color":[{decoration:N()}],"underline-offset":[{"underline-offset":[r6,"auto",nh,ni]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",nh,ni]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",nh,ni]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:$()}],"bg-repeat":[{bg:L()}],"bg-size":[{bg:D()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},r3,nh,ni],radial:["",nh,ni],conic:[r3,nh,ni]},nm,nu]}],"bg-color":[{bg:N()}],"gradient-from-pos":[{from:U()}],"gradient-via-pos":[{via:U()}],"gradient-to-pos":[{to:U()}],"gradient-from":[{from:N()}],"gradient-via":[{via:N()}],"gradient-to":[{to:N()}],rounded:[{rounded:M()}],"rounded-s":[{"rounded-s":M()}],"rounded-e":[{"rounded-e":M()}],"rounded-t":[{"rounded-t":M()}],"rounded-r":[{"rounded-r":M()}],"rounded-b":[{"rounded-b":M()}],"rounded-l":[{"rounded-l":M()}],"rounded-ss":[{"rounded-ss":M()}],"rounded-se":[{"rounded-se":M()}],"rounded-ee":[{"rounded-ee":M()}],"rounded-es":[{"rounded-es":M()}],"rounded-tl":[{"rounded-tl":M()}],"rounded-tr":[{"rounded-tr":M()}],"rounded-br":[{"rounded-br":M()}],"rounded-bl":[{"rounded-bl":M()}],"border-w":[{border:B()}],"border-w-x":[{"border-x":B()}],"border-w-y":[{"border-y":B()}],"border-w-s":[{"border-s":B()}],"border-w-e":[{"border-e":B()}],"border-w-t":[{"border-t":B()}],"border-w-r":[{"border-r":B()}],"border-w-b":[{"border-b":B()}],"border-w-l":[{"border-l":B()}],"divide-x":[{"divide-x":B()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":B()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...z(),"hidden","none"]}],"divide-style":[{divide:[...z(),"hidden","none"]}],"border-color":[{border:N()}],"border-color-x":[{"border-x":N()}],"border-color-y":[{"border-y":N()}],"border-color-s":[{"border-s":N()}],"border-color-e":[{"border-e":N()}],"border-color-t":[{"border-t":N()}],"border-color-r":[{"border-r":N()}],"border-color-b":[{"border-b":N()}],"border-color-l":[{"border-l":N()}],"divide-color":[{divide:N()}],"outline-style":[{outline:[...z(),"none","hidden"]}],"outline-offset":[{"outline-offset":[r6,nh,ni]}],"outline-w":[{outline:["",r6,nd,no]}],"outline-color":[{outline:N()}],shadow:[{shadow:["","none",c,ny,nc]}],"shadow-color":[{shadow:N()}],"inset-shadow":[{"inset-shadow":["none",h,ny,nc]}],"inset-shadow-color":[{"inset-shadow":N()}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:N()}],"ring-offset-w":[{"ring-offset":[r6,no]}],"ring-offset-color":[{"ring-offset":N()}],"inset-ring-w":[{"inset-ring":B()}],"inset-ring-color":[{"inset-ring":N()}],"text-shadow":[{"text-shadow":["none",d,ny,nc]}],"text-shadow-color":[{"text-shadow":N()}],opacity:[{opacity:[r6,nh,ni]}],"mix-blend":[{"mix-blend":[...F(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":F()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[r6]}],"mask-image-linear-from-pos":[{"mask-linear-from":W()}],"mask-image-linear-to-pos":[{"mask-linear-to":W()}],"mask-image-linear-from-color":[{"mask-linear-from":N()}],"mask-image-linear-to-color":[{"mask-linear-to":N()}],"mask-image-t-from-pos":[{"mask-t-from":W()}],"mask-image-t-to-pos":[{"mask-t-to":W()}],"mask-image-t-from-color":[{"mask-t-from":N()}],"mask-image-t-to-color":[{"mask-t-to":N()}],"mask-image-r-from-pos":[{"mask-r-from":W()}],"mask-image-r-to-pos":[{"mask-r-to":W()}],"mask-image-r-from-color":[{"mask-r-from":N()}],"mask-image-r-to-color":[{"mask-r-to":N()}],"mask-image-b-from-pos":[{"mask-b-from":W()}],"mask-image-b-to-pos":[{"mask-b-to":W()}],"mask-image-b-from-color":[{"mask-b-from":N()}],"mask-image-b-to-color":[{"mask-b-to":N()}],"mask-image-l-from-pos":[{"mask-l-from":W()}],"mask-image-l-to-pos":[{"mask-l-to":W()}],"mask-image-l-from-color":[{"mask-l-from":N()}],"mask-image-l-to-color":[{"mask-l-to":N()}],"mask-image-x-from-pos":[{"mask-x-from":W()}],"mask-image-x-to-pos":[{"mask-x-to":W()}],"mask-image-x-from-color":[{"mask-x-from":N()}],"mask-image-x-to-color":[{"mask-x-to":N()}],"mask-image-y-from-pos":[{"mask-y-from":W()}],"mask-image-y-to-pos":[{"mask-y-to":W()}],"mask-image-y-from-color":[{"mask-y-from":N()}],"mask-image-y-to-color":[{"mask-y-to":N()}],"mask-image-radial":[{"mask-radial":[nh,ni]}],"mask-image-radial-from-pos":[{"mask-radial-from":W()}],"mask-image-radial-to-pos":[{"mask-radial-to":W()}],"mask-image-radial-from-color":[{"mask-radial-from":N()}],"mask-image-radial-to-color":[{"mask-radial-to":N()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":b()}],"mask-image-conic-pos":[{"mask-conic":[r6]}],"mask-image-conic-from-pos":[{"mask-conic-from":W()}],"mask-image-conic-to-pos":[{"mask-conic-to":W()}],"mask-image-conic-from-color":[{"mask-conic-from":N()}],"mask-image-conic-to-color":[{"mask-conic-to":N()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:$()}],"mask-repeat":[{mask:L()}],"mask-size":[{mask:D()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",nh,ni]}],filter:[{filter:["","none",nh,ni]}],blur:[{blur:q()}],brightness:[{brightness:[r6,nh,ni]}],contrast:[{contrast:[r6,nh,ni]}],"drop-shadow":[{"drop-shadow":["","none",f,ny,nc]}],"drop-shadow-color":[{"drop-shadow":N()}],grayscale:[{grayscale:["",r6,nh,ni]}],"hue-rotate":[{"hue-rotate":[r6,nh,ni]}],invert:[{invert:["",r6,nh,ni]}],saturate:[{saturate:[r6,nh,ni]}],sepia:[{sepia:["",r6,nh,ni]}],"backdrop-filter":[{"backdrop-filter":["","none",nh,ni]}],"backdrop-blur":[{"backdrop-blur":q()}],"backdrop-brightness":[{"backdrop-brightness":[r6,nh,ni]}],"backdrop-contrast":[{"backdrop-contrast":[r6,nh,ni]}],"backdrop-grayscale":[{"backdrop-grayscale":["",r6,nh,ni]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[r6,nh,ni]}],"backdrop-invert":[{"backdrop-invert":["",r6,nh,ni]}],"backdrop-opacity":[{"backdrop-opacity":[r6,nh,ni]}],"backdrop-saturate":[{"backdrop-saturate":[r6,nh,ni]}],"backdrop-sepia":[{"backdrop-sepia":["",r6,nh,ni]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",nh,ni]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[r6,"initial",nh,ni]}],ease:[{ease:["linear","initial",y,nh,ni]}],delay:[{delay:[r6,nh,ni]}],animate:[{animate:["none",v,nh,ni]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[g,nh,ni]}],"perspective-origin":[{"perspective-origin":_()}],rotate:[{rotate:K()}],"rotate-x":[{"rotate-x":K()}],"rotate-y":[{"rotate-y":K()}],"rotate-z":[{"rotate-z":K()}],scale:[{scale:H()}],"scale-x":[{"scale-x":H()}],"scale-y":[{"scale-y":H()}],"scale-z":[{"scale-z":H()}],"scale-3d":["scale-3d"],skew:[{skew:V()}],"skew-x":[{"skew-x":V()}],"skew-y":[{"skew-y":V()}],transform:[{transform:[nh,ni,"","none","gpu","cpu"]}],"transform-origin":[{origin:_()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:G()}],"translate-x":[{"translate-x":G()}],"translate-y":[{"translate-y":G()}],"translate-z":[{"translate-z":G()}],"translate-none":["translate-none"],accent:[{accent:N()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:N()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",nh,ni]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",nh,ni]}],fill:[{fill:["none",...N()]}],"stroke-w":[{stroke:[r6,nd,no,na]}],stroke:[{stroke:["none",...N()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}});function nA(...e){return nR(rC(e))}e.s(["cn",()=>nA],75157);let nO=(...e)=>e.filter((e,t,r)=>!!e&&""!==e.trim()&&r.indexOf(e)===t).join(" ").trim(),nj=e=>{let t=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,t,r)=>r?r.toUpperCase():t.toLowerCase());return t.charAt(0).toUpperCase()+t.slice(1)};var nC={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let nP=(0,P.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...a},l)=>(0,P.createElement)("svg",{ref:l,...nC,width:t,height:t,stroke:e,strokeWidth:n?24*Number(r)/Number(t):r,className:nO("lucide",s),...!i&&!(e=>{for(let t in e)if(t.startsWith("aria-")||"role"===t||"title"===t)return!0;return!1})(a)&&{"aria-hidden":"true"},...a},[...o.map(([e,t])=>(0,P.createElement)(e,t)),...Array.isArray(i)?i:[i]])),nI=(e,t)=>{let r=(0,P.forwardRef)(({className:r,...n},s)=>(0,P.createElement)(nP,{ref:s,iconNode:t,className:nO(`lucide-${nj(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()}`,`lucide-${e}`,r),...n}));return r.displayName=nj(e),r};e.s(["default",()=>nI],75254);let nN=nI("layout-dashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),n$=nI("truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);e.s(["Truck",()=>n$],15788);let nL=nI("gauge",[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]]);e.s(["Gauge",()=>nL],94827);let nD=nI("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),nU=nI("wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.106-3.105c.32-.322.863-.22.983.218a6 6 0 0 1-8.259 7.057l-7.91 7.91a1 1 0 0 1-2.999-3l7.91-7.91a6 6 0 0 1 7.057-8.259c.438.12.54.662.219.984z",key:"1ngwbx"}]]);e.s(["Wrench",()=>nU],95116);let nM=nI("menu",[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]]),nB=nI("x",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["default",()=>nB],41947),e.s(["X",()=>nB],37727);var nz=e.i(74080);function nF(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function nW(...e){return t=>{let r=!1,n=e.map(e=>{let n=nF(e,t);return r||"function"!=typeof n||(r=!0),n});if(r)return()=>{for(let t=0;t<n.length;t++){let r=n[t];"function"==typeof r?r():nF(e[t],null)}}}}function nq(...e){return P.useCallback(nW(...e),e)}function nK(e){var t;let r,n=(t=e,(r=P.forwardRef((e,t)=>{let{children:r,...n}=e;if(P.isValidElement(r)){var s;let e,i,o=(s=r,(i=(e=Object.getOwnPropertyDescriptor(s.props,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.ref:(i=(e=Object.getOwnPropertyDescriptor(s,"ref")?.get)&&"isReactWarning"in e&&e.isReactWarning)?s.props.ref:s.props.ref||s.ref),a=function(e,t){let r={...t};for(let n in t){let s=e[n],i=t[n];/^on[A-Z]/.test(n)?s&&i?r[n]=(...e)=>{let t=i(...e);return s(...e),t}:s&&(r[n]=s):"style"===n?r[n]={...s,...i}:"className"===n&&(r[n]=[s,i].filter(Boolean).join(" "))}return{...e,...r}}(n,r.props);return r.type!==P.Fragment&&(a.ref=t?nW(t,o):o),P.cloneElement(r,a)}return P.Children.count(r)>1?P.Children.only(null):null})).displayName=`${t}.SlotClone`,r),s=P.forwardRef((e,t)=>{let{children:r,...s}=e,i=P.Children.toArray(r),o=i.find(nY);if(o){let e=o.props.children,r=i.map(t=>t!==o?t:P.Children.count(e)>1?P.Children.only(null):P.isValidElement(e)?e.props.children:null);return(0,rA.jsx)(n,{...s,ref:t,children:P.isValidElement(e)?P.cloneElement(e,void 0,r):null})}return(0,rA.jsx)(n,{...s,ref:t,children:r})});return s.displayName=`${e}.Slot`,s}e.s(["composeRefs",()=>nW,"useComposedRefs",()=>nq],20783);var nH=nK("Slot"),nV=Symbol("radix.slottable");function nG(e){let t=({children:e})=>(0,rA.jsx)(rA.Fragment,{children:e});return t.displayName=`${e}.Slottable`,t.__radixId=nV,t}var nJ=nG("Slottable");function nY(e){return P.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===nV}e.s(["Root",()=>nH,"Slot",()=>nH,"Slottable",()=>nJ,"createSlot",()=>nK,"createSlottable",()=>nG],91918);var nX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,t)=>{let r=nK(`Primitive.${t}`),n=P.forwardRef((e,n)=>{let{asChild:s,...i}=e;return"u">typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,rA.jsx)(s?r:t,{...i,ref:n})});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function nZ(e,t){e&&nz.flushSync(()=>e.dispatchEvent(t))}e.s(["Primitive",()=>nX,"dispatchDiscreteCustomEvent",()=>nZ],48425);var nQ=globalThis?.document?P.useLayoutEffect:()=>{};e.s(["useLayoutEffect",()=>nQ],34620);var n0=e=>{var t;let r,n,{present:s,children:i}=e,o=function(e){var t,r;let[n,s]=P.useState(),i=P.useRef(null),o=P.useRef(e),a=P.useRef("none"),[l,u]=(t=e?"mounted":"unmounted",r={mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}},P.useReducer((e,t)=>r[e][t]??e,t));return P.useEffect(()=>{let e=n1(i.current);a.current="mounted"===l?e:"none"},[l]),nQ(()=>{let t=i.current,r=o.current;if(r!==e){let n=a.current,s=n1(t);e?u("MOUNT"):"none"===s||t?.display==="none"?u("UNMOUNT"):r&&n!==s?u("ANIMATION_OUT"):u("UNMOUNT"),o.current=e}},[e,u]),nQ(()=>{if(n){let e,t=n.ownerDocument.defaultView??window,r=r=>{let s=n1(i.current).includes(CSS.escape(r.animationName));if(r.target===n&&s&&(u("ANIMATION_END"),!o.current)){let r=n.style.animationFillMode;n.style.animationFillMode="forwards",e=t.setTimeout(()=>{"forwards"===n.style.animationFillMode&&(n.style.animationFillMode=r)})}},s=e=>{e.target===n&&(a.current=n1(i.current))};return n.addEventListener("animationstart",s),n.addEventListener("animationcancel",r),n.addEventListener("animationend",r),()=>{t.clearTimeout(e),n.removeEventListener("animationstart",s),n.removeEventListener("animationcancel",r),n.removeEventListener("animationend",r)}}u("ANIMATION_END")},[n,u]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:P.useCallback(e=>{i.current=e?getComputedStyle(e):null,s(e)},[])}}(s),a="function"==typeof i?i({present:o.isPresent}):P.Children.only(i),l=nq(o.ref,(t=a,(n=(r=Object.getOwnPropertyDescriptor(t.props,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?t.ref:(n=(r=Object.getOwnPropertyDescriptor(t,"ref")?.get)&&"isReactWarning"in r&&r.isReactWarning)?t.props.ref:t.props.ref||t.ref));return"function"==typeof i||o.isPresent?P.cloneElement(a,{ref:l}):null};function n1(e){return e?.animationName||"none"}function n2(e,t){let r=P.createContext(t),n=e=>{let{children:t,...n}=e,s=P.useMemo(()=>n,Object.values(n));return(0,rA.jsx)(r.Provider,{value:s,children:t})};return n.displayName=e+"Provider",[n,function(n){let s=P.useContext(r);if(s)return s;if(void 0!==t)return t;throw Error(`\`${n}\` must be used within \`${e}\``)}]}function n5(e,t=[]){let r=[],n=()=>{let t=r.map(e=>P.createContext(e));return function(r){let n=r?.[e]||t;return P.useMemo(()=>({[`__scope${e}`]:{...r,[e]:n}}),[r,n])}};return n.scopeName=e,[function(t,n){let s=P.createContext(n),i=r.length;r=[...r,n];let o=t=>{let{scope:r,children:n,...o}=t,a=r?.[e]?.[i]||s,l=P.useMemo(()=>o,Object.values(o));return(0,rA.jsx)(a.Provider,{value:l,children:n})};return o.displayName=t+"Provider",[o,function(r,o){let a=o?.[e]?.[i]||s,l=P.useContext(a);if(l)return l;if(void 0!==n)return n;throw Error(`\`${r}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let r=()=>{let r=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let n=r.reduce((t,{useScope:r,scopeName:n})=>{let s=r(e)[`__scope${n}`];return{...t,...s}},{});return P.useMemo(()=>({[`__scope${t.scopeName}`]:n}),[n])}};return r.scopeName=t.scopeName,r}(n,...t)]}function n6(e){let t=P.useRef(e);return P.useEffect(()=>{t.current=e}),P.useMemo(()=>(...e)=>t.current?.(...e),[])}n0.displayName="Presence",e.s(["Presence",()=>n0],96626),e.s(["createContext",()=>n2,"createContextScope",()=>n5],30030),e.s(["useCallbackRef",()=>n6],30207);var n3=P.createContext(void 0);function n8(e){let t=P.useContext(n3);return e||t||"ltr"}function n4(e,[t,r]){return Math.min(r,Math.max(t,e))}function n9(e,t,{checkForDefaultPrevented:r=!0}={}){return function(n){if(e?.(n),!1===r||!n.defaultPrevented)return t?.(n)}}e.s(["useDirection",()=>n8],86318),e.s(["clamp",()=>n4],70152),"u">typeof window&&window.document&&window.document.createElement,e.s(["composeEventHandlers",()=>n9],81140);var n7="ScrollArea",[se,st]=n5(n7),[sr,sn]=se(n7),ss=P.forwardRef((e,t)=>{let{__scopeScrollArea:r,type:n="hover",dir:s,scrollHideDelay:i=600,...o}=e,[a,l]=P.useState(null),[u,c]=P.useState(null),[h,d]=P.useState(null),[f,p]=P.useState(null),[g,m]=P.useState(null),[y,v]=P.useState(0),[w,b]=P.useState(0),[_,k]=P.useState(!1),[x,S]=P.useState(!1),E=nq(t,e=>l(e)),T=n8(s);return(0,rA.jsx)(sr,{scope:r,type:n,dir:T,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:c,content:h,onContentChange:d,scrollbarX:f,onScrollbarXChange:p,scrollbarXEnabled:_,onScrollbarXEnabledChange:k,scrollbarY:g,onScrollbarYChange:m,scrollbarYEnabled:x,onScrollbarYEnabledChange:S,onCornerWidthChange:v,onCornerHeightChange:b,children:(0,rA.jsx)(nX.div,{dir:T,...o,ref:E,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});ss.displayName=n7;var si="ScrollAreaViewport",so=P.forwardRef((e,t)=>{let{__scopeScrollArea:r,children:n,nonce:s,...i}=e,o=sn(si,r),a=nq(t,P.useRef(null),o.onViewportChange);return(0,rA.jsxs)(rA.Fragment,{children:[(0,rA.jsx)("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),(0,rA.jsx)(nX.div,{"data-radix-scroll-area-viewport":"",...i,ref:a,style:{overflowX:o.scrollbarXEnabled?"scroll":"hidden",overflowY:o.scrollbarYEnabled?"scroll":"hidden",...e.style},children:(0,rA.jsx)("div",{ref:o.onContentChange,style:{minWidth:"100%",display:"table"},children:n})})]})});so.displayName=si;var sa="ScrollAreaScrollbar",sl=P.forwardRef((e,t)=>{let{forceMount:r,...n}=e,s=sn(sa,e.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:o}=s,a="horizontal"===e.orientation;return P.useEffect(()=>(a?i(!0):o(!0),()=>{a?i(!1):o(!1)}),[a,i,o]),"hover"===s.type?(0,rA.jsx)(su,{...n,ref:t,forceMount:r}):"scroll"===s.type?(0,rA.jsx)(sc,{...n,ref:t,forceMount:r}):"auto"===s.type?(0,rA.jsx)(sh,{...n,ref:t,forceMount:r}):"always"===s.type?(0,rA.jsx)(sd,{...n,ref:t}):null});sl.displayName=sa;var su=P.forwardRef((e,t)=>{let{forceMount:r,...n}=e,s=sn(sa,e.__scopeScrollArea),[i,o]=P.useState(!1);return P.useEffect(()=>{let e=s.scrollArea,t=0;if(e){let r=()=>{window.clearTimeout(t),o(!0)},n=()=>{t=window.setTimeout(()=>o(!1),s.scrollHideDelay)};return e.addEventListener("pointerenter",r),e.addEventListener("pointerleave",n),()=>{window.clearTimeout(t),e.removeEventListener("pointerenter",r),e.removeEventListener("pointerleave",n)}}},[s.scrollArea,s.scrollHideDelay]),(0,rA.jsx)(n0,{present:r||i,children:(0,rA.jsx)(sh,{"data-state":i?"visible":"hidden",...n,ref:t})})}),sc=P.forwardRef((e,t)=>{var r;let{forceMount:n,...s}=e,i=sn(sa,e.__scopeScrollArea),o="horizontal"===e.orientation,a=sj(()=>u("SCROLL_END"),100),[l,u]=(r={hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}},P.useReducer((e,t)=>r[e][t]??e,"hidden"));return P.useEffect(()=>{if("idle"===l){let e=window.setTimeout(()=>u("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(e)}},[l,i.scrollHideDelay,u]),P.useEffect(()=>{let e=i.viewport,t=o?"scrollLeft":"scrollTop";if(e){let r=e[t],n=()=>{let n=e[t];r!==n&&(u("SCROLL"),a()),r=n};return e.addEventListener("scroll",n),()=>e.removeEventListener("scroll",n)}},[i.viewport,o,u,a]),(0,rA.jsx)(n0,{present:n||"hidden"!==l,children:(0,rA.jsx)(sd,{"data-state":"hidden"===l?"hidden":"visible",...s,ref:t,onPointerEnter:n9(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:n9(e.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),sh=P.forwardRef((e,t)=>{let r=sn(sa,e.__scopeScrollArea),{forceMount:n,...s}=e,[i,o]=P.useState(!1),a="horizontal"===e.orientation,l=sj(()=>{if(r.viewport){let e=r.viewport.offsetWidth<r.viewport.scrollWidth,t=r.viewport.offsetHeight<r.viewport.scrollHeight;o(a?e:t)}},10);return sC(r.viewport,l),sC(r.content,l),(0,rA.jsx)(n0,{present:n||i,children:(0,rA.jsx)(sd,{"data-state":i?"visible":"hidden",...s,ref:t})})}),sd=P.forwardRef((e,t)=>{let{orientation:r="vertical",...n}=e,s=sn(sa,e.__scopeScrollArea),i=P.useRef(null),o=P.useRef(0),[a,l]=P.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=sE(a.viewport,a.content),c={...n,sizes:a,onSizesChange:l,hasThumb:!!(u>0&&u<1),onThumbChange:e=>i.current=e,onThumbPointerUp:()=>o.current=0,onThumbPointerDown:e=>o.current=e};function h(e,t){return function(e,t,r,n="ltr"){let s=sT(r),i=t||s/2,o=r.scrollbar.paddingStart+i,a=r.scrollbar.size-r.scrollbar.paddingEnd-(s-i),l=r.content-r.viewport;return sA([o,a],"ltr"===n?[0,l]:[-1*l,0])(e)}(e,o.current,a,t)}return"horizontal"===r?(0,rA.jsx)(sf,{...c,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){let e=sR(s.viewport.scrollLeft,a,s.dir);i.current.style.transform=`translate3d(${e}px, 0, 0)`}},onWheelScroll:e=>{s.viewport&&(s.viewport.scrollLeft=e)},onDragScroll:e=>{s.viewport&&(s.viewport.scrollLeft=h(e,s.dir))}}):"vertical"===r?(0,rA.jsx)(sp,{...c,ref:t,onThumbPositionChange:()=>{if(s.viewport&&i.current){let e=sR(s.viewport.scrollTop,a);i.current.style.transform=`translate3d(0, ${e}px, 0)`}},onWheelScroll:e=>{s.viewport&&(s.viewport.scrollTop=e)},onDragScroll:e=>{s.viewport&&(s.viewport.scrollTop=h(e))}}):null}),sf=P.forwardRef((e,t)=>{let{sizes:r,onSizesChange:n,...s}=e,i=sn(sa,e.__scopeScrollArea),[o,a]=P.useState(),l=P.useRef(null),u=nq(t,l,i.onScrollbarXChange);return P.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),(0,rA.jsx)(sy,{"data-orientation":"horizontal",...s,ref:u,sizes:r,style:{bottom:0,left:"rtl"===i.dir?"var(--radix-scroll-area-corner-width)":0,right:"ltr"===i.dir?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":sT(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.x),onDragScroll:t=>e.onDragScroll(t.x),onWheelScroll:(t,r)=>{if(i.viewport){var n,s;let o=i.viewport.scrollLeft+t.deltaX;e.onWheelScroll(o),n=o,s=r,n>0&&n<s&&t.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&n({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:sS(o.paddingLeft),paddingEnd:sS(o.paddingRight)}})}})}),sp=P.forwardRef((e,t)=>{let{sizes:r,onSizesChange:n,...s}=e,i=sn(sa,e.__scopeScrollArea),[o,a]=P.useState(),l=P.useRef(null),u=nq(t,l,i.onScrollbarYChange);return P.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),(0,rA.jsx)(sy,{"data-orientation":"vertical",...s,ref:u,sizes:r,style:{top:0,right:"ltr"===i.dir?0:void 0,left:"rtl"===i.dir?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":sT(r)+"px",...e.style},onThumbPointerDown:t=>e.onThumbPointerDown(t.y),onDragScroll:t=>e.onDragScroll(t.y),onWheelScroll:(t,r)=>{if(i.viewport){var n,s;let o=i.viewport.scrollTop+t.deltaY;e.onWheelScroll(o),n=o,s=r,n>0&&n<s&&t.preventDefault()}},onResize:()=>{l.current&&i.viewport&&o&&n({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:sS(o.paddingTop),paddingEnd:sS(o.paddingBottom)}})}})}),[sg,sm]=se(sa),sy=P.forwardRef((e,t)=>{let{__scopeScrollArea:r,sizes:n,hasThumb:s,onThumbChange:i,onThumbPointerUp:o,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:c,onResize:h,...d}=e,f=sn(sa,r),[p,g]=P.useState(null),m=nq(t,e=>g(e)),y=P.useRef(null),v=P.useRef(""),w=f.viewport,b=n.content-n.viewport,_=n6(c),k=n6(l),x=sj(h,10);function S(e){y.current&&u({x:e.clientX-y.current.left,y:e.clientY-y.current.top})}return P.useEffect(()=>{let e=e=>{let t=e.target;p?.contains(t)&&_(e,b)};return document.addEventListener("wheel",e,{passive:!1}),()=>document.removeEventListener("wheel",e,{passive:!1})},[w,p,b,_]),P.useEffect(k,[n,k]),sC(p,x),sC(f.content,x),(0,rA.jsx)(sg,{scope:r,scrollbar:p,hasThumb:s,onThumbChange:n6(i),onThumbPointerUp:n6(o),onThumbPositionChange:k,onThumbPointerDown:n6(a),children:(0,rA.jsx)(nX.div,{...d,ref:m,style:{position:"absolute",...d.style},onPointerDown:n9(e.onPointerDown,e=>{0===e.button&&(e.target.setPointerCapture(e.pointerId),y.current=p.getBoundingClientRect(),v.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",f.viewport&&(f.viewport.style.scrollBehavior="auto"),S(e))}),onPointerMove:n9(e.onPointerMove,S),onPointerUp:n9(e.onPointerUp,e=>{let t=e.target;t.hasPointerCapture(e.pointerId)&&t.releasePointerCapture(e.pointerId),document.body.style.webkitUserSelect=v.current,f.viewport&&(f.viewport.style.scrollBehavior=""),y.current=null})})})}),sv="ScrollAreaThumb",sw=P.forwardRef((e,t)=>{let{forceMount:r,...n}=e,s=sm(sv,e.__scopeScrollArea);return(0,rA.jsx)(n0,{present:r||s.hasThumb,children:(0,rA.jsx)(sb,{ref:t,...n})})}),sb=P.forwardRef((e,t)=>{let{__scopeScrollArea:r,style:n,...s}=e,i=sn(sv,r),o=sm(sv,r),{onThumbPositionChange:a}=o,l=nq(t,e=>o.onThumbChange(e)),u=P.useRef(void 0),c=sj(()=>{u.current&&(u.current(),u.current=void 0)},100);return P.useEffect(()=>{let e=i.viewport;if(e){let t=()=>{c(),u.current||(u.current=sO(e,a),a())};return a(),e.addEventListener("scroll",t),()=>e.removeEventListener("scroll",t)}},[i.viewport,c,a]),(0,rA.jsx)(nX.div,{"data-state":o.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...n},onPointerDownCapture:n9(e.onPointerDownCapture,e=>{let t=e.target.getBoundingClientRect(),r=e.clientX-t.left,n=e.clientY-t.top;o.onThumbPointerDown({x:r,y:n})}),onPointerUp:n9(e.onPointerUp,o.onThumbPointerUp)})});sw.displayName=sv;var s_="ScrollAreaCorner",sk=P.forwardRef((e,t)=>{let r=sn(s_,e.__scopeScrollArea),n=!!(r.scrollbarX&&r.scrollbarY);return"scroll"!==r.type&&n?(0,rA.jsx)(sx,{...e,ref:t}):null});sk.displayName=s_;var sx=P.forwardRef((e,t)=>{let{__scopeScrollArea:r,...n}=e,s=sn(s_,r),[i,o]=P.useState(0),[a,l]=P.useState(0),u=!!(i&&a);return sC(s.scrollbarX,()=>{let e=s.scrollbarX?.offsetHeight||0;s.onCornerHeightChange(e),l(e)}),sC(s.scrollbarY,()=>{let e=s.scrollbarY?.offsetWidth||0;s.onCornerWidthChange(e),o(e)}),u?(0,rA.jsx)(nX.div,{...n,ref:t,style:{width:i,height:a,position:"absolute",right:"ltr"===s.dir?0:void 0,left:"rtl"===s.dir?0:void 0,bottom:0,...e.style}}):null});function sS(e){return e?parseInt(e,10):0}function sE(e,t){let r=e/t;return isNaN(r)?0:r}function sT(e){let t=sE(e.viewport,e.content),r=e.scrollbar.paddingStart+e.scrollbar.paddingEnd;return Math.max((e.scrollbar.size-r)*t,18)}function sR(e,t,r="ltr"){let n=sT(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,i=t.scrollbar.size-s,o=t.content-t.viewport,a=n4(e,"ltr"===r?[0,o]:[-1*o,0]);return sA([0,o],[0,i-n])(a)}function sA(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];let n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}var sO=(e,t=()=>{})=>{let r={left:e.scrollLeft,top:e.scrollTop},n=0;return!function s(){let i={left:e.scrollLeft,top:e.scrollTop},o=r.left!==i.left,a=r.top!==i.top;(o||a)&&t(),r=i,n=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(n)};function sj(e,t){let r=n6(e),n=P.useRef(0);return P.useEffect(()=>()=>window.clearTimeout(n.current),[]),P.useCallback(()=>{window.clearTimeout(n.current),n.current=window.setTimeout(r,t)},[r,t])}function sC(e,t){let r=n6(t);nQ(()=>{let t=0;if(e){let n=new ResizeObserver(()=>{cancelAnimationFrame(t),t=window.requestAnimationFrame(r)});return n.observe(e),()=>{window.cancelAnimationFrame(t),n.unobserve(e)}}},[e,r])}e.s(["Corner",()=>sk,"Root",()=>ss,"ScrollArea",()=>ss,"ScrollAreaCorner",()=>sk,"ScrollAreaScrollbar",()=>sl,"ScrollAreaThumb",()=>sw,"ScrollAreaViewport",()=>so,"Scrollbar",()=>sl,"Thumb",()=>sw,"Viewport",()=>so,"createScrollAreaScope",()=>st],60805);var sP=e.i(60805),sP=sP;function sI({className:e,children:t,...r}){return(0,rA.jsxs)(sP.Root,{"data-slot":"scroll-area",className:nA("relative",e),...r,children:[(0,rA.jsx)(sP.Viewport,{"data-slot":"scroll-area-viewport",className:"focus-visible:ring-ring/50 size-full rounded-[inherit] transition-[color,box-shadow] outline-none focus-visible:ring-[3px] focus-visible:outline-1",children:t}),(0,rA.jsx)(sN,{}),(0,rA.jsx)(sP.Corner,{})]})}function sN({className:e,orientation:t="vertical",...r}){return(0,rA.jsx)(sP.ScrollAreaScrollbar,{"data-slot":"scroll-area-scrollbar",orientation:t,className:nA("flex touch-none p-px transition-colors select-none","vertical"===t&&"h-full w-2.5 border-l border-l-transparent","horizontal"===t&&"h-2.5 flex-col border-t border-t-transparent",e),...r,children:(0,rA.jsx)(sP.ScrollAreaThumb,{"data-slot":"scroll-area-thumb",className:"bg-border relative flex-1 rounded-full"})})}let s$=e=>"boolean"==typeof e?`${e}`:0===e?"0":e,sL=(e,t)=>r=>{var n;if((null==t?void 0:t.variants)==null)return rC(e,null==r?void 0:r.class,null==r?void 0:r.className);let{variants:s,defaultVariants:i}=t,o=Object.keys(s).map(e=>{let t=null==r?void 0:r[e],n=null==i?void 0:i[e];if(null===t)return null;let o=s$(t)||s$(n);return s[e][o]}),a=r&&Object.entries(r).reduce((e,t)=>{let[r,n]=t;return void 0===n||(e[r]=n),e},{});return rC(e,o,null==t||null==(n=t.compoundVariants)?void 0:n.reduce((e,t)=>{let{class:r,className:n,...s}=t;return Object.entries(s).every(e=>{let[t,r]=e;return Array.isArray(r)?r.includes({...i,...a}[t]):({...i,...a})[t]===r})?[...e,r,n]:e},[]),null==r?void 0:r.class,null==r?void 0:r.className)};e.s(["cva",0,sL],25913);var sD=e.i(91918);e.s(["Slot",0,sD],86011);var sD=sD;let sU=sL("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",xs:"h-6 gap-1 rounded-md px-2 text-xs has-[>svg]:px-1.5 [&_svg:not([class*='size-'])]:size-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-xs":"size-6 rounded-md [&_svg:not([class*='size-'])]:size-3","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function sM({className:e,variant:t="default",size:r="default",asChild:n=!1,...s}){let i=n?sD.Root:"button";return(0,rA.jsx)(i,{"data-slot":"button","data-variant":t,"data-size":r,className:nA(sU({variant:t,size:r,className:e})),...s})}e.s(["Button",()=>sM],19455);let sB=[{title:"MENU PRINCIPAL",items:[{name:"Dashboard",href:"/",icon:nN},{name:"Frota",href:"/frota",icon:n$,badge:null},{name:"Hodmetros",href:"/hodometros",icon:nL},{name:"Revises",href:"/revisoes",icon:nU}]},{title:"SISTEMA",items:[{name:"Configuraes",href:"/configuracoes",icon:nD}]}];function sz({vehicleCount:e}){let t=(0,rj.usePathname)(),[r,n]=(0,P.useState)(!1);(0,P.useEffect)(()=>{n(!1)},[t]),(0,P.useEffect)(()=>{let e=e=>{"Escape"===e.key&&n(!1)};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[]),(0,P.useEffect)(()=>(r?document.body.style.overflow="hidden":document.body.style.overflow="",()=>{document.body.style.overflow=""}),[r]);let s=()=>(0,rA.jsxs)(rA.Fragment,{children:[(0,rA.jsxs)("div",{className:"flex h-16 items-center justify-between gap-3 border-b px-4 lg:px-6",children:[(0,rA.jsxs)("div",{className:"flex items-center gap-3",children:[(0,rA.jsx)("div",{className:"flex h-10 w-10 shrink-0 items-center justify-center rounded-xl bg-blue-600",children:(0,rA.jsx)(n$,{className:"h-5 w-5 text-white"})}),(0,rA.jsxs)("div",{className:"min-w-0",children:[(0,rA.jsx)("h1",{className:"truncate font-semibold text-gray-900",children:"Frota Manager"}),(0,rA.jsx)("p",{className:"truncate text-xs text-gray-500",children:"Gesto de Hodmetros"})]})]}),(0,rA.jsx)(sM,{variant:"ghost",size:"icon",className:"lg:hidden",onClick:()=>n(!1),children:(0,rA.jsx)(nB,{className:"h-5 w-5"})})]}),(0,rA.jsx)(sI,{className:"flex-1 px-3 py-4",children:sB.map(r=>(0,rA.jsxs)("div",{className:"mb-6",children:[(0,rA.jsx)("p",{className:"mb-2 px-3 text-xs font-semibold uppercase tracking-wider text-gray-400",children:r.title}),(0,rA.jsx)("nav",{className:"space-y-1",children:r.items.map(r=>{let s=t===r.href;return(0,rA.jsxs)(rO.default,{href:r.href,onClick:()=>n(!1),className:nA("flex items-center gap-3 rounded-lg px-3 py-2.5 text-sm font-medium transition-colors",s?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[(0,rA.jsx)(r.icon,{className:"h-5 w-5 shrink-0"}),(0,rA.jsx)("span",{className:"flex-1 truncate",children:r.name}),"Frota"===r.name&&e&&(0,rA.jsx)("span",{className:nA("rounded-full px-2 py-0.5 text-xs font-medium",s?"bg-blue-500 text-white":"bg-gray-100 text-gray-600"),children:e})]},r.name)})})]},r.title))}),(0,rA.jsx)("div",{className:"border-t p-4",children:(0,rA.jsxs)("div",{className:"px-3 text-xs text-gray-400",children:[(0,rA.jsx)("p",{children:"Sistema de Gesto de Frota"}),(0,rA.jsx)("p",{children:" 2026 Frota Manager"})]})})]});return(0,rA.jsxs)(rA.Fragment,{children:[(0,rA.jsx)(sM,{variant:"ghost",size:"icon",className:"fixed left-4 top-4 z-50 lg:hidden",onClick:()=>n(!0),children:(0,rA.jsx)(nM,{className:"h-6 w-6"})}),r&&(0,rA.jsx)("div",{className:"fixed inset-0 z-40 bg-black/50 lg:hidden",onClick:()=>n(!1)}),(0,rA.jsx)("div",{className:nA("fixed inset-y-0 left-0 z-50 flex w-72 flex-col bg-white transition-transform duration-300 ease-in-out lg:hidden",r?"translate-x-0":"-translate-x-full"),children:(0,rA.jsx)(s,{})}),(0,rA.jsx)("div",{className:"fixed inset-y-0 left-0 z-40 hidden w-64 flex-col border-r bg-white lg:flex",children:(0,rA.jsx)(s,{})})]})}e.s(["Sidebar",()=>sz],29014);var sF=e.i(2239);function sW(){return()=>{}}var sq="Avatar",[sK,sH]=n5(sq),[sV,sG]=sK(sq),sJ=P.forwardRef((e,t)=>{let{__scopeAvatar:r,...n}=e,[s,i]=P.useState("idle");return(0,rA.jsx)(sV,{scope:r,imageLoadingStatus:s,onImageLoadingStatusChange:i,children:(0,rA.jsx)(nX.span,{...n,ref:t})})});sJ.displayName=sq;var sY="AvatarImage",sX=P.forwardRef((e,t)=>{let{__scopeAvatar:r,src:n,onLoadingStatusChange:s=()=>{},...i}=e,o=sG(sY,r),a=function(e,{referrerPolicy:t,crossOrigin:r}){let n=(0,sF.useSyncExternalStore)(sW,()=>!0,()=>!1),s=P.useRef(null),i=n?(s.current||(s.current=new window.Image),s.current):null,[o,a]=P.useState(()=>s0(i,e));return nQ(()=>{a(s0(i,e))},[i,e]),nQ(()=>{let e=e=>()=>{a(e)};if(!i)return;let n=e("loaded"),s=e("error");return i.addEventListener("load",n),i.addEventListener("error",s),t&&(i.referrerPolicy=t),"string"==typeof r&&(i.crossOrigin=r),()=>{i.removeEventListener("load",n),i.removeEventListener("error",s)}},[i,r,t]),o}(n,i),l=n6(e=>{s(e),o.onImageLoadingStatusChange(e)});return nQ(()=>{"idle"!==a&&l(a)},[a,l]),"loaded"===a?(0,rA.jsx)(nX.img,{...i,ref:t,src:n}):null});sX.displayName=sY;var sZ="AvatarFallback",sQ=P.forwardRef((e,t)=>{let{__scopeAvatar:r,delayMs:n,...s}=e,i=sG(sZ,r),[o,a]=P.useState(void 0===n);return P.useEffect(()=>{if(void 0!==n){let e=window.setTimeout(()=>a(!0),n);return()=>window.clearTimeout(e)}},[n]),o&&"loaded"!==i.imageLoadingStatus?(0,rA.jsx)(nX.span,{...s,ref:t}):null});function s0(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}sQ.displayName=sZ,e.s(["Avatar",()=>sJ,"AvatarFallback",()=>sQ,"AvatarImage",()=>sX,"Fallback",()=>sQ,"Image",()=>sX,"Root",()=>sJ,"createAvatarScope",()=>sH],97456);var s1=e.i(97456),s1=s1;function s2({className:e,size:t="default",...r}){return(0,rA.jsx)(s1.Root,{"data-slot":"avatar","data-size":t,className:nA("group/avatar relative flex size-8 shrink-0 overflow-hidden rounded-full select-none data-[size=lg]:size-10 data-[size=sm]:size-6",e),...r})}function s5({className:e,...t}){return(0,rA.jsx)(s1.Fallback,{"data-slot":"avatar-fallback",className:nA("bg-muted text-muted-foreground flex size-full items-center justify-center rounded-full text-sm group-data-[size=sm]/avatar:text-xs",e),...t})}let s6=nI("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);e.s(["default",()=>s6],78745),e.s(["CheckIcon",()=>s6],78784),nI("chevron-right",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),nI("circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),P[" useEffectEvent ".trim().toString()],P[" useInsertionEffect ".trim().toString()];var s3=P[" useInsertionEffect ".trim().toString()]||nQ;function s8({prop:e,defaultProp:t,onChange:r=()=>{},caller:n}){let[s,i,o]=function({defaultProp:e,onChange:t}){let[r,n]=P.useState(e),s=P.useRef(r),i=P.useRef(t);return s3(()=>{i.current=t},[t]),P.useEffect(()=>{s.current!==r&&(i.current?.(r),s.current=r)},[r,s]),[r,n,i]}({defaultProp:t,onChange:r}),a=void 0!==e,l=a?e:s;{let t=P.useRef(void 0!==e);P.useEffect(()=>{let e=t.current;if(e!==a){let t=a?"controlled":"uncontrolled";console.warn(`${n} is changing from ${e?"controlled":"uncontrolled"} to ${t}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`)}t.current=a},[a,n])}return[l,P.useCallback(t=>{if(a){let r="function"==typeof t?t(e):t;r!==e&&o.current?.(r)}else i(t)},[a,e,i,o])]}function s4(e){let t=e+"CollectionProvider",[r,n]=n5(t),[s,i]=r(t,{collectionRef:{current:null},itemMap:new Map}),o=e=>{let{scope:t,children:r}=e,n=P.default.useRef(null),i=P.default.useRef(new Map).current;return(0,rA.jsx)(s,{scope:t,itemMap:i,collectionRef:n,children:r})};o.displayName=t;let a=e+"CollectionSlot",l=nK(a),u=P.default.forwardRef((e,t)=>{let{scope:r,children:n}=e,s=nq(t,i(a,r).collectionRef);return(0,rA.jsx)(l,{ref:s,children:n})});u.displayName=a;let c=e+"CollectionItemSlot",h="data-radix-collection-item",d=nK(c),f=P.default.forwardRef((e,t)=>{let{scope:r,children:n,...s}=e,o=P.default.useRef(null),a=nq(t,o),l=i(c,r);return P.default.useEffect(()=>(l.itemMap.set(o,{ref:o,...s}),()=>void l.itemMap.delete(o))),(0,rA.jsx)(d,{...{[h]:""},ref:a,children:n})});return f.displayName=c,[{Provider:o,Slot:u,ItemSlot:f},function(t){let r=i(e+"CollectionConsumer",t);return P.default.useCallback(()=>{let e=r.collectionRef.current;if(!e)return[];let t=Array.from(e.querySelectorAll(`[${h}]`));return Array.from(r.itemMap.values()).sort((e,r)=>t.indexOf(e.ref.current)-t.indexOf(r.ref.current))},[r.collectionRef,r.itemMap])},n]}Symbol("RADIX:SYNC_STATE"),e.s(["useControllableState",()=>s8],69340);var s9=new WeakMap;function s7(e,t){var r,n;let s,i,o;if("at"in Array.prototype)return Array.prototype.at.call(e,t);let a=(r=e,n=t,s=r.length,(o=(i=ie(n))>=0?i:s+i)<0||o>=s?-1:o);return -1===a?void 0:e[a]}function ie(e){return e!=e||0===e?0:Math.trunc(e)}(class e extends Map{#e;constructor(e){super(e),this.#e=[...super.keys()],s9.set(this,!0)}set(e,t){return s9.get(this)&&(this.has(e)?this.#e[this.#e.indexOf(e)]=e:this.#e.push(e)),super.set(e,t),this}insert(e,t,r){let n,s=this.has(t),i=this.#e.length,o=ie(e),a=o>=0?o:i+o,l=a<0||a>=i?-1:a;if(l===this.size||s&&l===this.size-1||-1===l)return this.set(t,r),this;let u=this.size+ +!s;o<0&&a++;let c=[...this.#e],h=!1;for(let e=a;e<u;e++)if(a===e){let i=c[e];c[e]===t&&(i=c[e+1]),s&&this.delete(t),n=this.get(i),this.set(t,r)}else{h||c[e-1]!==t||(h=!0);let r=c[h?e:e-1],s=n;n=this.get(r),this.delete(r),this.set(r,s)}return this}with(t,r,n){let s=new e(this);return s.insert(t,r,n),s}before(e){let t=this.#e.indexOf(e)-1;if(!(t<0))return this.entryAt(t)}setBefore(e,t,r){let n=this.#e.indexOf(e);return -1===n?this:this.insert(n,t,r)}after(e){let t=this.#e.indexOf(e);if(-1!==(t=-1===t||t===this.size-1?-1:t+1))return this.entryAt(t)}setAfter(e,t,r){let n=this.#e.indexOf(e);return -1===n?this:this.insert(n+1,t,r)}first(){return this.entryAt(0)}last(){return this.entryAt(-1)}clear(){return this.#e=[],super.clear()}delete(e){let t=super.delete(e);return t&&this.#e.splice(this.#e.indexOf(e),1),t}deleteAt(e){let t=this.keyAt(e);return void 0!==t&&this.delete(t)}at(e){let t=s7(this.#e,e);if(void 0!==t)return this.get(t)}entryAt(e){let t=s7(this.#e,e);if(void 0!==t)return[t,this.get(t)]}indexOf(e){return this.#e.indexOf(e)}keyAt(e){return s7(this.#e,e)}from(e,t){let r=this.indexOf(e);if(-1===r)return;let n=r+t;return n<0&&(n=0),n>=this.size&&(n=this.size-1),this.at(n)}keyFrom(e,t){let r=this.indexOf(e);if(-1===r)return;let n=r+t;return n<0&&(n=0),n>=this.size&&(n=this.size-1),this.keyAt(n)}find(e,t){let r=0;for(let n of this){if(Reflect.apply(e,t,[n,r,this]))return n;r++}}findIndex(e,t){let r=0;for(let n of this){if(Reflect.apply(e,t,[n,r,this]))return r;r++}return -1}filter(t,r){let n=[],s=0;for(let e of this)Reflect.apply(t,r,[e,s,this])&&n.push(e),s++;return new e(n)}map(t,r){let n=[],s=0;for(let e of this)n.push([e[0],Reflect.apply(t,r,[e,s,this])]),s++;return new e(n)}reduce(...e){let[t,r]=e,n=0,s=r??this.at(0);for(let r of this)s=0===n&&1===e.length?r:Reflect.apply(t,this,[s,r,n,this]),n++;return s}reduceRight(...e){let[t,r]=e,n=r??this.at(-1);for(let r=this.size-1;r>=0;r--){let s=this.at(r);n=r===this.size-1&&1===e.length?s:Reflect.apply(t,this,[n,s,r,this])}return n}toSorted(t){return new e([...this.entries()].sort(t))}toReversed(){let t=new e;for(let e=this.size-1;e>=0;e--){let r=this.keyAt(e),n=this.get(r);t.set(r,n)}return t}toSpliced(...t){let r=[...this.entries()];return r.splice(...t),new e(r)}slice(t,r){let n=new e,s=this.size-1;if(void 0===t)return n;t<0&&(t+=this.size),void 0!==r&&r>0&&(s=r-1);for(let e=t;e<=s;e++){let t=this.keyAt(e),r=this.get(t);n.set(t,r)}return n}every(e,t){let r=0;for(let n of this){if(!Reflect.apply(e,t,[n,r,this]))return!1;r++}return!0}some(e,t){let r=0;for(let n of this){if(Reflect.apply(e,t,[n,r,this]))return!0;r++}return!1}}),e.s(["createCollection",()=>s4],75830);var it="dismissableLayer.update",ir=P.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),is=P.forwardRef((e,t)=>{let{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=e,u=P.useContext(ir),[c,h]=P.useState(null),d=c?.ownerDocument??globalThis?.document,[,f]=P.useState({}),p=nq(t,e=>h(e)),g=Array.from(u.layers),[m]=[...u.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(m),v=c?g.indexOf(c):-1,w=u.layersWithOutsidePointerEventsDisabled.size>0,b=v>=y,_=function(e,t=globalThis?.document){let r=n6(e),n=P.useRef(!1),s=P.useRef(()=>{});return P.useEffect(()=>{let e=e=>{if(e.target&&!n.current){let n=function(){io("dismissableLayer.pointerDownOutside",r,i,{discrete:!0})},i={originalEvent:e};"touch"===e.pointerType?(t.removeEventListener("click",s.current),s.current=n,t.addEventListener("click",s.current,{once:!0})):n()}else t.removeEventListener("click",s.current);n.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",e)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",e),t.removeEventListener("click",s.current)}},[t,r]),{onPointerDownCapture:()=>n.current=!0}}(e=>{let t=e.target,r=[...u.branches].some(e=>e.contains(t));b&&!r&&(s?.(e),o?.(e),e.defaultPrevented||a?.())},d),k=function(e,t=globalThis?.document){let r=n6(e),n=P.useRef(!1);return P.useEffect(()=>{let e=e=>{e.target&&!n.current&&io("dismissableLayer.focusOutside",r,{originalEvent:e},{discrete:!1})};return t.addEventListener("focusin",e),()=>t.removeEventListener("focusin",e)},[t,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}(e=>{let t=e.target;![...u.branches].some(e=>e.contains(t))&&(i?.(e),o?.(e),e.defaultPrevented||a?.())},d);return!function(e,t=globalThis?.document){let r=n6(e);P.useEffect(()=>{let e=e=>{"Escape"===e.key&&r(e)};return t.addEventListener("keydown",e,{capture:!0}),()=>t.removeEventListener("keydown",e,{capture:!0})},[r,t])}(e=>{v===u.layers.size-1&&(n?.(e),!e.defaultPrevented&&a&&(e.preventDefault(),a()))},d),P.useEffect(()=>{if(c)return r&&(0===u.layersWithOutsidePointerEventsDisabled.size&&(j=d.body.style.pointerEvents,d.body.style.pointerEvents="none"),u.layersWithOutsidePointerEventsDisabled.add(c)),u.layers.add(c),ii(),()=>{r&&1===u.layersWithOutsidePointerEventsDisabled.size&&(d.body.style.pointerEvents=j)}},[c,d,r,u]),P.useEffect(()=>()=>{c&&(u.layers.delete(c),u.layersWithOutsidePointerEventsDisabled.delete(c),ii())},[c,u]),P.useEffect(()=>{let e=()=>f({});return document.addEventListener(it,e),()=>document.removeEventListener(it,e)},[]),(0,rA.jsx)(nX.div,{...l,ref:p,style:{pointerEvents:w?b?"auto":"none":void 0,...e.style},onFocusCapture:n9(e.onFocusCapture,k.onFocusCapture),onBlurCapture:n9(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:n9(e.onPointerDownCapture,_.onPointerDownCapture)})});function ii(){let e=new CustomEvent(it);document.dispatchEvent(e)}function io(e,t,r,{discrete:n}){let s=r.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:r});t&&s.addEventListener(e,t,{once:!0}),n?nZ(s,i):s.dispatchEvent(i)}is.displayName="DismissableLayer",P.forwardRef((e,t)=>{let r=P.useContext(ir),n=P.useRef(null),s=nq(t,n);return P.useEffect(()=>{let e=n.current;if(e)return r.branches.add(e),()=>{r.branches.delete(e)}},[r.branches]),(0,rA.jsx)(nX.div,{...e,ref:s})}).displayName="DismissableLayerBranch",e.s(["DismissableLayer",()=>is],26330);var ia=0;function il(){P.useEffect(()=>{let e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??iu()),document.body.insertAdjacentElement("beforeend",e[1]??iu()),ia++,()=>{1===ia&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),ia--}},[])}function iu(){let e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}e.s(["useFocusGuards",()=>il],3536);var ic="focusScope.autoFocusOnMount",ih="focusScope.autoFocusOnUnmount",id={bubbles:!1,cancelable:!0},ip=P.forwardRef((e,t)=>{let{loop:r=!1,trapped:n=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=e,[a,l]=P.useState(null),u=n6(s),c=n6(i),h=P.useRef(null),d=nq(t,e=>l(e)),f=P.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;P.useEffect(()=>{if(n){let e=function(e){if(f.paused||!a)return;let t=e.target;a.contains(t)?h.current=t:iy(h.current,{select:!0})},t=function(e){if(f.paused||!a)return;let t=e.relatedTarget;null!==t&&(a.contains(t)||iy(h.current,{select:!0}))};document.addEventListener("focusin",e),document.addEventListener("focusout",t);let r=new MutationObserver(function(e){if(document.activeElement===document.body)for(let t of e)t.removedNodes.length>0&&iy(a)});return a&&r.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",e),document.removeEventListener("focusout",t),r.disconnect()}}},[n,a,f.paused]),P.useEffect(()=>{if(a){iv.add(f);let e=document.activeElement;if(!a.contains(e)){let t=new CustomEvent(ic,id);a.addEventListener(ic,u),a.dispatchEvent(t),t.defaultPrevented||(function(e,{select:t=!1}={}){let r=document.activeElement;for(let n of e)if(iy(n,{select:t}),document.activeElement!==r)return}(ig(a).filter(e=>"A"!==e.tagName),{select:!0}),document.activeElement===e&&iy(a))}return()=>{a.removeEventListener(ic,u),setTimeout(()=>{let t=new CustomEvent(ih,id);a.addEventListener(ih,c),a.dispatchEvent(t),t.defaultPrevented||iy(e??document.body,{select:!0}),a.removeEventListener(ih,c),iv.remove(f)},0)}}},[a,u,c,f]);let p=P.useCallback(e=>{if(!r&&!n||f.paused)return;let t="Tab"===e.key&&!e.altKey&&!e.ctrlKey&&!e.metaKey,s=document.activeElement;if(t&&s){var i;let t,n=e.currentTarget,[o,a]=[im(t=ig(i=n),i),im(t.reverse(),i)];o&&a?e.shiftKey||s!==a?e.shiftKey&&s===o&&(e.preventDefault(),r&&iy(a,{select:!0})):(e.preventDefault(),r&&iy(o,{select:!0})):s===n&&e.preventDefault()}},[r,n,f.paused]);return(0,rA.jsx)(nX.div,{tabIndex:-1,...o,ref:d,onKeyDown:p})});function ig(e){let t=[],r=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:e=>{let t="INPUT"===e.tagName&&"hidden"===e.type;return e.disabled||e.hidden||t?NodeFilter.FILTER_SKIP:e.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)t.push(r.currentNode);return t}function im(e,t){for(let r of e)if(!function(e,{upTo:t}){if("hidden"===getComputedStyle(e).visibility)return!0;for(;e&&(void 0===t||e!==t);){if("none"===getComputedStyle(e).display)return!0;e=e.parentElement}return!1}(r,{upTo:t}))return r}function iy(e,{select:t=!1}={}){if(e&&e.focus){var r;let n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&(r=e)instanceof HTMLInputElement&&"select"in r&&t&&e.select()}}ip.displayName="FocusScope";var iv=(r=[],{add(e){let t=r[0];e!==t&&t?.pause(),(r=iw(r,e)).unshift(e)},remove(e){r=iw(r,e),r[0]?.resume()}});function iw(e,t){let r=[...e],n=r.indexOf(t);return -1!==n&&r.splice(n,1),r}e.s(["FocusScope",()=>ip],65491);var ib=P[" useId ".trim().toString()]||(()=>void 0),i_=0;function ik(e){let[t,r]=P.useState(ib());return nQ(()=>{e||r(e=>e??String(i_++))},[e]),e||(t?`radix-${t}`:"")}e.s(["useId",()=>ik],10772);let ix=["top","right","bottom","left"],iS=Math.min,iE=Math.max,iT=Math.round,iR=Math.floor,iA=e=>({x:e,y:e}),iO={left:"right",right:"left",bottom:"top",top:"bottom"},ij={start:"end",end:"start"};function iC(e,t){return"function"==typeof e?e(t):e}function iP(e){return e.split("-")[0]}function iI(e){return e.split("-")[1]}function iN(e){return"x"===e?"y":"x"}function i$(e){return"y"===e?"height":"width"}let iL=new Set(["top","bottom"]);function iD(e){return iL.has(iP(e))?"y":"x"}function iU(e){return e.replace(/start|end/g,e=>ij[e])}let iM=["left","right"],iB=["right","left"],iz=["top","bottom"],iF=["bottom","top"];function iW(e){return e.replace(/left|right|bottom|top/g,e=>iO[e])}function iq(e){return"number"!=typeof e?{top:0,right:0,bottom:0,left:0,...e}:{top:e,right:e,bottom:e,left:e}}function iK(e){let{x:t,y:r,width:n,height:s}=e;return{width:n,height:s,top:r,left:t,right:t+n,bottom:r+s,x:t,y:r}}function iH(e,t,r){let n,{reference:s,floating:i}=e,o=iD(t),a=iN(iD(t)),l=i$(a),u=iP(t),c="y"===o,h=s.x+s.width/2-i.width/2,d=s.y+s.height/2-i.height/2,f=s[l]/2-i[l]/2;switch(u){case"top":n={x:h,y:s.y-i.height};break;case"bottom":n={x:h,y:s.y+s.height};break;case"right":n={x:s.x+s.width,y:d};break;case"left":n={x:s.x-i.width,y:d};break;default:n={x:s.x,y:s.y}}switch(iI(t)){case"start":n[a]-=f*(r&&c?-1:1);break;case"end":n[a]+=f*(r&&c?-1:1)}return n}async function iV(e,t){var r;void 0===t&&(t={});let{x:n,y:s,platform:i,rects:o,elements:a,strategy:l}=e,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:h="floating",altBoundary:d=!1,padding:f=0}=iC(t,e),p=iq(f),g=a[d?"floating"===h?"reference":"floating":h],m=iK(await i.getClippingRect({element:null==(r=await (null==i.isElement?void 0:i.isElement(g)))||r?g:g.contextElement||await (null==i.getDocumentElement?void 0:i.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),y="floating"===h?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,v=await (null==i.getOffsetParent?void 0:i.getOffsetParent(a.floating)),w=await (null==i.isElement?void 0:i.isElement(v))&&await (null==i.getScale?void 0:i.getScale(v))||{x:1,y:1},b=iK(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:v,strategy:l}):y);return{top:(m.top-b.top+p.top)/w.y,bottom:(b.bottom-m.bottom+p.bottom)/w.y,left:(m.left-b.left+p.left)/w.x,right:(b.right-m.right+p.right)/w.x}}let iG=async(e,t,r)=>{let{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,a=i.filter(Boolean),l=await (null==o.isRTL?void 0:o.isRTL(t)),u=await o.getElementRects({reference:e,floating:t,strategy:s}),{x:c,y:h}=iH(u,n,l),d=n,f={},p=0;for(let r=0;r<a.length;r++){var g;let{name:i,fn:m}=a[r],{x:y,y:v,data:w,reset:b}=await m({x:c,y:h,initialPlacement:n,placement:d,strategy:s,middlewareData:f,rects:u,platform:{...o,detectOverflow:null!=(g=o.detectOverflow)?g:iV},elements:{reference:e,floating:t}});c=null!=y?y:c,h=null!=v?v:h,f={...f,[i]:{...f[i],...w}},b&&p<=50&&(p++,"object"==typeof b&&(b.placement&&(d=b.placement),b.rects&&(u=!0===b.rects?await o.getElementRects({reference:e,floating:t,strategy:s}):b.rects),{x:c,y:h}=iH(u,d,l)),r=-1)}return{x:c,y:h,placement:d,strategy:s,middlewareData:f}};function iJ(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function iY(e){return ix.some(t=>e[t]>=0)}let iX=new Set(["left","top"]);async function iZ(e,t){let{placement:r,platform:n,elements:s}=e,i=await (null==n.isRTL?void 0:n.isRTL(s.floating)),o=iP(r),a=iI(r),l="y"===iD(r),u=iX.has(o)?-1:1,c=i&&l?-1:1,h=iC(t,e),{mainAxis:d,crossAxis:f,alignmentAxis:p}="number"==typeof h?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&"number"==typeof p&&(f="end"===a?-1*p:p),l?{x:f*c,y:d*u}:{x:d*u,y:f*c}}function iQ(){return"u">typeof window}function i0(e){return i5(e)?(e.nodeName||"").toLowerCase():"#document"}function i1(e){var t;return(null==e||null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function i2(e){var t;return null==(t=(i5(e)?e.ownerDocument:e.document)||window.document)?void 0:t.documentElement}function i5(e){return!!iQ()&&(e instanceof Node||e instanceof i1(e).Node)}function i6(e){return!!iQ()&&(e instanceof Element||e instanceof i1(e).Element)}function i3(e){return!!iQ()&&(e instanceof HTMLElement||e instanceof i1(e).HTMLElement)}function i8(e){return!(!iQ()||"u"<typeof ShadowRoot)&&(e instanceof ShadowRoot||e instanceof i1(e).ShadowRoot)}let i4=new Set(["inline","contents"]);function i9(e){let{overflow:t,overflowX:r,overflowY:n,display:s}=ou(e);return/auto|scroll|overlay|hidden|clip/.test(t+n+r)&&!i4.has(s)}let i7=new Set(["table","td","th"]),oe=[":popover-open",":modal"];function ot(e){return oe.some(t=>{try{return e.matches(t)}catch(e){return!1}})}let or=["transform","translate","scale","rotate","perspective"],on=["transform","translate","scale","rotate","perspective","filter"],os=["paint","layout","strict","content"];function oi(e){let t=oo(),r=i6(e)?ou(e):e;return or.some(e=>!!r[e]&&"none"!==r[e])||!!r.containerType&&"normal"!==r.containerType||!t&&!!r.backdropFilter&&"none"!==r.backdropFilter||!t&&!!r.filter&&"none"!==r.filter||on.some(e=>(r.willChange||"").includes(e))||os.some(e=>(r.contain||"").includes(e))}function oo(){return!("u"<typeof CSS)&&!!CSS.supports&&CSS.supports("-webkit-backdrop-filter","none")}let oa=new Set(["html","body","#document"]);function ol(e){return oa.has(i0(e))}function ou(e){return i1(e).getComputedStyle(e)}function oc(e){return i6(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function oh(e){if("html"===i0(e))return e;let t=e.assignedSlot||e.parentNode||i8(e)&&e.host||i2(e);return i8(t)?t.host:t}function od(e,t,r){var n;void 0===t&&(t=[]),void 0===r&&(r=!0);let s=function e(t){let r=oh(t);return ol(r)?t.ownerDocument?t.ownerDocument.body:t.body:i3(r)&&i9(r)?r:e(r)}(e),i=s===(null==(n=e.ownerDocument)?void 0:n.body),o=i1(s);if(i){let e=of(o);return t.concat(o,o.visualViewport||[],i9(s)?s:[],e&&r?od(e):[])}return t.concat(s,od(s,[],r))}function of(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function op(e){let t=ou(e),r=parseFloat(t.width)||0,n=parseFloat(t.height)||0,s=i3(e),i=s?e.offsetWidth:r,o=s?e.offsetHeight:n,a=iT(r)!==i||iT(n)!==o;return a&&(r=i,n=o),{width:r,height:n,$:a}}function og(e){return i6(e)?e:e.contextElement}function om(e){let t=og(e);if(!i3(t))return iA(1);let r=t.getBoundingClientRect(),{width:n,height:s,$:i}=op(t),o=(i?iT(r.width):r.width)/n,a=(i?iT(r.height):r.height)/s;return o&&Number.isFinite(o)||(o=1),a&&Number.isFinite(a)||(a=1),{x:o,y:a}}let oy=iA(0);function ov(e){let t=i1(e);return oo()&&t.visualViewport?{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}:oy}function ow(e,t,r,n){var s;void 0===t&&(t=!1),void 0===r&&(r=!1);let i=e.getBoundingClientRect(),o=og(e),a=iA(1);t&&(n?i6(n)&&(a=om(n)):a=om(e));let l=(void 0===(s=r)&&(s=!1),n&&(!s||n===i1(o))&&s)?ov(o):iA(0),u=(i.left+l.x)/a.x,c=(i.top+l.y)/a.y,h=i.width/a.x,d=i.height/a.y;if(o){let e=i1(o),t=n&&i6(n)?i1(n):n,r=e,s=of(r);for(;s&&n&&t!==r;){let e=om(s),t=s.getBoundingClientRect(),n=ou(s),i=t.left+(s.clientLeft+parseFloat(n.paddingLeft))*e.x,o=t.top+(s.clientTop+parseFloat(n.paddingTop))*e.y;u*=e.x,c*=e.y,h*=e.x,d*=e.y,u+=i,c+=o,s=of(r=i1(s))}}return iK({width:h,height:d,x:u,y:c})}function ob(e,t){let r=oc(e).scrollLeft;return t?t.left+r:ow(i2(e)).left+r}function o_(e,t){let r=e.getBoundingClientRect();return{x:r.left+t.scrollLeft-ob(e,r),y:r.top+t.scrollTop}}let ok=new Set(["absolute","fixed"]);function ox(e,t,r){var n;let s;if("viewport"===t)s=function(e,t){let r=i1(e),n=i2(e),s=r.visualViewport,i=n.clientWidth,o=n.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;let e=oo();(!e||e&&"fixed"===t)&&(a=s.offsetLeft,l=s.offsetTop)}let u=ob(n);if(u<=0){let e=n.ownerDocument,t=e.body,r=getComputedStyle(t),s="CSS1Compat"===e.compatMode&&parseFloat(r.marginLeft)+parseFloat(r.marginRight)||0,o=Math.abs(n.clientWidth-t.clientWidth-s);o<=25&&(i-=o)}else u<=25&&(i+=u);return{width:i,height:o,x:a,y:l}}(e,r);else if("document"===t){let t,r,i,o,a,l,u;n=i2(e),t=i2(n),r=oc(n),i=n.ownerDocument.body,o=iE(t.scrollWidth,t.clientWidth,i.scrollWidth,i.clientWidth),a=iE(t.scrollHeight,t.clientHeight,i.scrollHeight,i.clientHeight),l=-r.scrollLeft+ob(n),u=-r.scrollTop,"rtl"===ou(i).direction&&(l+=iE(t.clientWidth,i.clientWidth)-o),s={width:o,height:a,x:l,y:u}}else if(i6(t)){let e,n,i,o,a,l;n=(e=ow(t,!0,"fixed"===r)).top+t.clientTop,i=e.left+t.clientLeft,o=i3(t)?om(t):iA(1),a=t.clientWidth*o.x,l=t.clientHeight*o.y,s={width:a,height:l,x:i*o.x,y:n*o.y}}else{let r=ov(e);s={x:t.x-r.x,y:t.y-r.y,width:t.width,height:t.height}}return iK(s)}function oS(e){return"static"===ou(e).position}function oE(e,t){if(!i3(e)||"fixed"===ou(e).position)return null;if(t)return t(e);let r=e.offsetParent;return i2(e)===r&&(r=r.ownerDocument.body),r}function oT(e,t){var r;let n=i1(e);if(ot(e))return n;if(!i3(e)){let t=oh(e);for(;t&&!ol(t);){if(i6(t)&&!oS(t))return t;t=oh(t)}return n}let s=oE(e,t);for(;s&&(r=s,i7.has(i0(r)))&&oS(s);)s=oE(s,t);return s&&ol(s)&&oS(s)&&!oi(s)?n:s||function(e){let t=oh(e);for(;i3(t)&&!ol(t);){if(oi(t))return t;if(ot(t))break;t=oh(t)}return null}(e)||n}let oR=async function(e){let t=this.getOffsetParent||oT,r=this.getDimensions,n=await r(e.floating);return{reference:function(e,t,r){let n=i3(t),s=i2(t),i="fixed"===r,o=ow(e,!0,i,t),a={scrollLeft:0,scrollTop:0},l=iA(0);if(n||!n&&!i)if(("body"!==i0(t)||i9(s))&&(a=oc(t)),n){let e=ow(t,!0,i,t);l.x=e.x+t.clientLeft,l.y=e.y+t.clientTop}else s&&(l.x=ob(s));i&&!n&&s&&(l.x=ob(s));let u=!s||n||i?iA(0):o_(s,a);return{x:o.left+a.scrollLeft-l.x-u.x,y:o.top+a.scrollTop-l.y-u.y,width:o.width,height:o.height}}(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}},oA={convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{elements:t,rect:r,offsetParent:n,strategy:s}=e,i="fixed"===s,o=i2(n),a=!!t&&ot(t.floating);if(n===o||a&&i)return r;let l={scrollLeft:0,scrollTop:0},u=iA(1),c=iA(0),h=i3(n);if((h||!h&&!i)&&(("body"!==i0(n)||i9(o))&&(l=oc(n)),i3(n))){let e=ow(n);u=om(n),c.x=e.x+n.clientLeft,c.y=e.y+n.clientTop}let d=!o||h||i?iA(0):o_(o,l);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+c.x+d.x,y:r.y*u.y-l.scrollTop*u.y+c.y+d.y}},getDocumentElement:i2,getClippingRect:function(e){let{element:t,boundary:r,rootBoundary:n,strategy:s}=e,i=[..."clippingAncestors"===r?ot(t)?[]:function(e,t){let r=t.get(e);if(r)return r;let n=od(e,[],!1).filter(e=>i6(e)&&"body"!==i0(e)),s=null,i="fixed"===ou(e).position,o=i?oh(e):e;for(;i6(o)&&!ol(o);){let t=ou(o),r=oi(o);r||"fixed"!==t.position||(s=null),(i?!r&&!s:!r&&"static"===t.position&&!!s&&ok.has(s.position)||i9(o)&&!r&&function e(t,r){let n=oh(t);return!(n===r||!i6(n)||ol(n))&&("fixed"===ou(n).position||e(n,r))}(e,o))?n=n.filter(e=>e!==o):s=t,o=oh(o)}return t.set(e,n),n}(t,this._c):[].concat(r),n],o=i[0],a=i.reduce((e,r)=>{let n=ox(t,r,s);return e.top=iE(n.top,e.top),e.right=iS(n.right,e.right),e.bottom=iS(n.bottom,e.bottom),e.left=iE(n.left,e.left),e},ox(t,o,s));return{width:a.right-a.left,height:a.bottom-a.top,x:a.left,y:a.top}},getOffsetParent:oT,getElementRects:oR,getClientRects:function(e){return Array.from(e.getClientRects())},getDimensions:function(e){let{width:t,height:r}=op(e);return{width:t,height:r}},getScale:om,isElement:i6,isRTL:function(e){return"rtl"===ou(e).direction}};function oO(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}let oj=e=>({name:"arrow",options:e,async fn(t){let{x:r,y:n,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=t,{element:u,padding:c=0}=iC(e,t)||{};if(null==u)return{};let h=iq(c),d={x:r,y:n},f=iN(iD(s)),p=i$(f),g=await o.getDimensions(u),m="y"===f,y=m?"clientHeight":"clientWidth",v=i.reference[p]+i.reference[f]-d[f]-i.floating[p],w=d[f]-i.reference[f],b=await (null==o.getOffsetParent?void 0:o.getOffsetParent(u)),_=b?b[y]:0;_&&await (null==o.isElement?void 0:o.isElement(b))||(_=a.floating[y]||i.floating[p]);let k=_/2-g[p]/2-1,x=iS(h[m?"top":"left"],k),S=iS(h[m?"bottom":"right"],k),E=_-g[p]-S,T=_/2-g[p]/2+(v/2-w/2),R=iE(x,iS(T,E)),A=!l.arrow&&null!=iI(s)&&T!==R&&i.reference[p]/2-(T<x?x:S)-g[p]/2<0,O=A?T<x?T-x:T-E:0;return{[f]:d[f]+O,data:{[f]:R,centerOffset:T-R-O,...A&&{alignmentOffset:O}},reset:A}}});var oC="u">typeof document?P.useLayoutEffect:function(){};function oP(e,t){let r,n,s;if(e===t)return!0;if(typeof e!=typeof t)return!1;if("function"==typeof e&&e.toString()===t.toString())return!0;if(e&&t&&"object"==typeof e){if(Array.isArray(e)){if((r=e.length)!==t.length)return!1;for(n=r;0!=n--;)if(!oP(e[n],t[n]))return!1;return!0}if((r=(s=Object.keys(e)).length)!==Object.keys(t).length)return!1;for(n=r;0!=n--;)if(!({}).hasOwnProperty.call(t,s[n]))return!1;for(n=r;0!=n--;){let r=s[n];if(("_owner"!==r||!e.$$typeof)&&!oP(e[r],t[r]))return!1}return!0}return e!=e&&t!=t}function oI(e){return"u"<typeof window?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function oN(e,t){let r=oI(e);return Math.round(t*r)/r}function o$(e){let t=P.useRef(e);return oC(()=>{t.current=e}),t}var oL=P.forwardRef((e,t)=>{let{children:r,width:n=10,height:s=5,...i}=e;return(0,rA.jsx)(nX.svg,{...i,ref:t,width:n,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?r:(0,rA.jsx)("polygon",{points:"0,0 30,0 15,10"})})});oL.displayName="Arrow";var oD="Popper",[oU,oM]=n5(oD),[oB,oz]=oU(oD),oF=e=>{let{__scopePopper:t,children:r}=e,[n,s]=P.useState(null);return(0,rA.jsx)(oB,{scope:t,anchor:n,onAnchorChange:s,children:r})};oF.displayName=oD;var oW="PopperAnchor",oq=P.forwardRef((e,t)=>{let{__scopePopper:r,virtualRef:n,...s}=e,i=oz(oW,r),o=P.useRef(null),a=nq(t,o),l=P.useRef(null);return P.useEffect(()=>{let e=l.current;l.current=n?.current||o.current,e!==l.current&&i.onAnchorChange(l.current)}),n?null:(0,rA.jsx)(nX.div,{...s,ref:a})});oq.displayName=oW;var oK="PopperContent",[oH,oV]=oU(oK),oG=P.forwardRef((e,t)=>{var r,n,s,i,o,a,l,u,c,h,d,f,p,g,m,y,v,w,b,_,k;let{__scopePopper:x,side:S="bottom",sideOffset:E=0,align:T="center",alignOffset:R=0,arrowPadding:A=0,avoidCollisions:O=!0,collisionBoundary:j=[],collisionPadding:C=0,sticky:I="partial",hideWhenDetached:N=!1,updatePositionStrategy:$="optimized",onPlaced:L,...D}=e,U=oz(oK,x),[M,B]=P.useState(null),z=nq(t,e=>B(e)),[F,W]=P.useState(null),q=function(e){let[t,r]=P.useState(void 0);return nQ(()=>{if(e){r({width:e.offsetWidth,height:e.offsetHeight});let t=new ResizeObserver(t=>{let n,s;if(!Array.isArray(t)||!t.length)return;let i=t[0];if("borderBoxSize"in i){let e=i.borderBoxSize,t=Array.isArray(e)?e[0]:e;n=t.inlineSize,s=t.blockSize}else n=e.offsetWidth,s=e.offsetHeight;r({width:n,height:s})});return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}r(void 0)},[e]),t}(F),K=q?.width??0,H=q?.height??0,V="number"==typeof C?C:{top:0,right:0,bottom:0,left:0,...C},G=Array.isArray(j)?j:[j],J=G.length>0,Y={padding:V,boundary:G.filter(oZ),altBoundary:J},{refs:X,floatingStyles:Z,placement:Q,isPositioned:ee,middlewareData:et}=function(e){void 0===e&&(e={});let{placement:t="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:u}=e,[c,h]=P.useState({x:0,y:0,strategy:r,placement:t,middlewareData:{},isPositioned:!1}),[d,f]=P.useState(n);oP(d,n)||f(n);let[p,g]=P.useState(null),[m,y]=P.useState(null),v=P.useCallback(e=>{e!==k.current&&(k.current=e,g(e))},[]),w=P.useCallback(e=>{e!==x.current&&(x.current=e,y(e))},[]),b=i||p,_=o||m,k=P.useRef(null),x=P.useRef(null),S=P.useRef(c),E=null!=l,T=o$(l),R=o$(s),A=o$(u),O=P.useCallback(()=>{var e,n;let s,i,o;if(!k.current||!x.current)return;let a={placement:t,strategy:r,middleware:d};R.current&&(a.platform=R.current),(e=k.current,n=x.current,s=new Map,o={...(i={platform:oA,...a}).platform,_c:s},iG(e,n,{...i,platform:o})).then(e=>{let t={...e,isPositioned:!1!==A.current};j.current&&!oP(S.current,t)&&(S.current=t,nz.flushSync(()=>{h(t)}))})},[d,t,r,R,A]);oC(()=>{!1===u&&S.current.isPositioned&&(S.current.isPositioned=!1,h(e=>({...e,isPositioned:!1})))},[u]);let j=P.useRef(!1);oC(()=>(j.current=!0,()=>{j.current=!1}),[]),oC(()=>{if(b&&(k.current=b),_&&(x.current=_),b&&_){if(T.current)return T.current(b,_,O);O()}},[b,_,O,T,E]);let C=P.useMemo(()=>({reference:k,floating:x,setReference:v,setFloating:w}),[v,w]),I=P.useMemo(()=>({reference:b,floating:_}),[b,_]),N=P.useMemo(()=>{let e={position:r,left:0,top:0};if(!I.floating)return e;let t=oN(I.floating,c.x),n=oN(I.floating,c.y);return a?{...e,transform:"translate("+t+"px, "+n+"px)",...oI(I.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:t,top:n}},[r,a,I.floating,c.x,c.y]);return P.useMemo(()=>({...c,update:O,refs:C,elements:I,floatingStyles:N}),[c,O,C,I,N])}({strategy:"fixed",placement:S+("center"!==T?"-"+T:""),whileElementsMounted:(...e)=>(function(e,t,r,n){let s;void 0===n&&(n={});let{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:a="function"==typeof ResizeObserver,layoutShift:l="function"==typeof IntersectionObserver,animationFrame:u=!1}=n,c=og(e),h=i||o?[...c?od(c):[],...od(t)]:[];h.forEach(e=>{i&&e.addEventListener("scroll",r,{passive:!0}),o&&e.addEventListener("resize",r)});let d=c&&l?function(e,t){let r,n=null,s=i2(e);function i(){var e;clearTimeout(r),null==(e=n)||e.disconnect(),n=null}return!function o(a,l){void 0===a&&(a=!1),void 0===l&&(l=1),i();let u=e.getBoundingClientRect(),{left:c,top:h,width:d,height:f}=u;if(a||t(),!d||!f)return;let p={rootMargin:-iR(h)+"px "+-iR(s.clientWidth-(c+d))+"px "+-iR(s.clientHeight-(h+f))+"px "+-iR(c)+"px",threshold:iE(0,iS(1,l))||1},g=!0;function m(t){let n=t[0].intersectionRatio;if(n!==l){if(!g)return o();n?o(!1,n):r=setTimeout(()=>{o(!1,1e-7)},1e3)}1!==n||oO(u,e.getBoundingClientRect())||o(),g=!1}try{n=new IntersectionObserver(m,{...p,root:s.ownerDocument})}catch(e){n=new IntersectionObserver(m,p)}n.observe(e)}(!0),i}(c,r):null,f=-1,p=null;a&&(p=new ResizeObserver(e=>{let[n]=e;n&&n.target===c&&p&&(p.unobserve(t),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var e;null==(e=p)||e.observe(t)})),r()}),c&&!u&&p.observe(c),p.observe(t));let g=u?ow(e):null;return u&&function t(){let n=ow(e);g&&!oO(g,n)&&r(),g=n,s=requestAnimationFrame(t)}(),r(),()=>{var e;h.forEach(e=>{i&&e.removeEventListener("scroll",r),o&&e.removeEventListener("resize",r)}),null==d||d(),null==(e=p)||e.disconnect(),p=null,u&&cancelAnimationFrame(s)}})(...e,{animationFrame:"always"===$}),elements:{reference:U.anchor},middleware:[{...{name:"offset",options:s=r={mainAxis:E+H,alignmentAxis:R},async fn(e){var t,r;let{x:n,y:i,placement:o,middlewareData:a}=e,l=await iZ(e,s);return o===(null==(t=a.offset)?void 0:t.placement)&&null!=(r=a.arrow)&&r.alignmentOffset?{}:{x:n+l.x,y:i+l.y,data:{...l,placement:o}}}},options:[r,n]},O&&{...{name:"shift",options:c=l={mainAxis:!0,crossAxis:!1,limiter:"partial"===I?{...(void 0===(a=i)&&(a={}),{options:a,fn(e){let{x:t,y:r,placement:n,rects:s,middlewareData:i}=e,{offset:o=0,mainAxis:l=!0,crossAxis:u=!0}=iC(a,e),c={x:t,y:r},h=iD(n),d=iN(h),f=c[d],p=c[h],g=iC(o,e),m="number"==typeof g?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){let e="y"===d?"height":"width",t=s.reference[d]-s.floating[e]+m.mainAxis,r=s.reference[d]+s.reference[e]-m.mainAxis;f<t?f=t:f>r&&(f=r)}if(u){var y,v;let e="y"===d?"width":"height",t=iX.has(iP(n)),r=s.reference[h]-s.floating[e]+(t&&(null==(y=i.offset)?void 0:y[h])||0)+(t?0:m.crossAxis),o=s.reference[h]+s.reference[e]+(t?0:(null==(v=i.offset)?void 0:v[h])||0)-(t?m.crossAxis:0);p<r?p=r:p>o&&(p=o)}return{[d]:f,[h]:p}}}),options:[i,o]}:void 0,...Y},async fn(e){let{x:t,y:r,placement:n,platform:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}},...l}=iC(c,e),u={x:t,y:r},h=await s.detectOverflow(e,l),d=iD(iP(n)),f=iN(d),p=u[f],g=u[d];if(i){let e="y"===f?"top":"left",t="y"===f?"bottom":"right",r=p+h[e],n=p-h[t];p=iE(r,iS(p,n))}if(o){let e="y"===d?"top":"left",t="y"===d?"bottom":"right",r=g+h[e],n=g-h[t];g=iE(r,iS(g,n))}let m=a.fn({...e,[f]:p,[d]:g});return{...m,data:{x:m.x-t,y:m.y-r,enabled:{[f]:i,[d]:o}}}}},options:[l,u]},O&&{...{name:"flip",options:f=h={...Y},async fn(e){var t,r,n,s,i,o,a,l;let u,c,h,{placement:d,middlewareData:p,rects:g,initialPlacement:m,platform:y,elements:v}=e,{mainAxis:w=!0,crossAxis:b=!0,fallbackPlacements:_,fallbackStrategy:k="bestFit",fallbackAxisSideDirection:x="none",flipAlignment:S=!0,...E}=iC(f,e);if(null!=(t=p.arrow)&&t.alignmentOffset)return{};let T=iP(d),R=iD(m),A=iP(m)===m,O=await (null==y.isRTL?void 0:y.isRTL(v.floating)),j=_||(A||!S?[iW(m)]:(u=iW(m),[iU(m),u,iU(u)])),C="none"!==x;!_&&C&&j.push(...(c=iI(m),h=function(e,t,r){switch(e){case"top":case"bottom":if(r)return t?iB:iM;return t?iM:iB;case"left":case"right":return t?iz:iF;default:return[]}}(iP(m),"start"===x,O),c&&(h=h.map(e=>e+"-"+c),S&&(h=h.concat(h.map(iU)))),h));let P=[m,...j],I=await y.detectOverflow(e,E),N=[],$=(null==(r=p.flip)?void 0:r.overflows)||[];if(w&&N.push(I[T]),b){let e,t,r,n,s=(o=d,a=g,void 0===(l=O)&&(l=!1),e=iI(o),r=i$(t=iN(iD(o))),n="x"===t?e===(l?"end":"start")?"right":"left":"start"===e?"bottom":"top",a.reference[r]>a.floating[r]&&(n=iW(n)),[n,iW(n)]);N.push(I[s[0]],I[s[1]])}if($=[...$,{placement:d,overflows:N}],!N.every(e=>e<=0)){let e=((null==(n=p.flip)?void 0:n.index)||0)+1,t=P[e];if(t&&("alignment"!==b||R===iD(t)||$.every(e=>iD(e.placement)!==R||e.overflows[0]>0)))return{data:{index:e,overflows:$},reset:{placement:t}};let r=null==(s=$.filter(e=>e.overflows[0]<=0).sort((e,t)=>e.overflows[1]-t.overflows[1])[0])?void 0:s.placement;if(!r)switch(k){case"bestFit":{let e=null==(i=$.filter(e=>{if(C){let t=iD(e.placement);return t===R||"y"===t}return!0}).map(e=>[e.placement,e.overflows.filter(e=>e>0).reduce((e,t)=>e+t,0)]).sort((e,t)=>e[1]-t[1])[0])?void 0:i[0];e&&(r=e);break}case"initialPlacement":r=m}if(d!==r)return{reset:{placement:r}}}return{}}},options:[h,d]},{...{name:"size",options:m=p={...Y,apply:({elements:e,rects:t,availableWidth:r,availableHeight:n})=>{let{width:s,height:i}=t.reference,o=e.floating.style;o.setProperty("--radix-popper-available-width",`${r}px`),o.setProperty("--radix-popper-available-height",`${n}px`),o.setProperty("--radix-popper-anchor-width",`${s}px`),o.setProperty("--radix-popper-anchor-height",`${i}px`)}},async fn(e){var t,r;let n,s,{placement:i,rects:o,platform:a,elements:l}=e,{apply:u=()=>{},...c}=iC(m,e),h=await a.detectOverflow(e,c),d=iP(i),f=iI(i),p="y"===iD(i),{width:g,height:y}=o.floating;"top"===d||"bottom"===d?(n=d,s=f===(await (null==a.isRTL?void 0:a.isRTL(l.floating))?"start":"end")?"left":"right"):(s=d,n="end"===f?"top":"bottom");let v=y-h.top-h.bottom,w=g-h.left-h.right,b=iS(y-h[n],v),_=iS(g-h[s],w),k=!e.middlewareData.shift,x=b,S=_;if(null!=(t=e.middlewareData.shift)&&t.enabled.x&&(S=w),null!=(r=e.middlewareData.shift)&&r.enabled.y&&(x=v),k&&!f){let e=iE(h.left,0),t=iE(h.right,0),r=iE(h.top,0),n=iE(h.bottom,0);p?S=g-2*(0!==e||0!==t?e+t:iE(h.left,h.right)):x=y-2*(0!==r||0!==n?r+n:iE(h.top,h.bottom))}await u({...e,availableWidth:S,availableHeight:x});let E=await a.getDimensions(l.floating);return g!==E.width||y!==E.height?{reset:{rects:!0}}:{}}},options:[p,g]},F&&{...{name:"arrow",options:w=y={element:F,padding:A},fn(e){let{element:t,padding:r}="function"==typeof w?w(e):w;return t&&({}).hasOwnProperty.call(t,"current")?null!=t.current?oj({element:t.current,padding:r}).fn(e):{}:t?oj({element:t,padding:r}).fn(e):{}}},options:[y,v]},oQ({arrowWidth:K,arrowHeight:H}),N&&{...{name:"hide",options:k=b={strategy:"referenceHidden",...Y},async fn(e){let{rects:t,platform:r}=e,{strategy:n="referenceHidden",...s}=iC(k,e);switch(n){case"referenceHidden":{let n=iJ(await r.detectOverflow(e,{...s,elementContext:"reference"}),t.reference);return{data:{referenceHiddenOffsets:n,referenceHidden:iY(n)}}}case"escaped":{let n=iJ(await r.detectOverflow(e,{...s,altBoundary:!0}),t.floating);return{data:{escapedOffsets:n,escaped:iY(n)}}}default:return{}}}},options:[b,_]}]}),[er,en]=o0(Q),es=n6(L);nQ(()=>{ee&&es?.()},[ee,es]);let ei=et.arrow?.x,eo=et.arrow?.y,ea=et.arrow?.centerOffset!==0,[el,eu]=P.useState();return nQ(()=>{M&&eu(window.getComputedStyle(M).zIndex)},[M]),(0,rA.jsx)("div",{ref:X.setFloating,"data-radix-popper-content-wrapper":"",style:{...Z,transform:ee?Z.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:el,"--radix-popper-transform-origin":[et.transformOrigin?.x,et.transformOrigin?.y].join(" "),...et.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:(0,rA.jsx)(oH,{scope:x,placedSide:er,onArrowChange:W,arrowX:ei,arrowY:eo,shouldHideArrow:ea,children:(0,rA.jsx)(nX.div,{"data-side":er,"data-align":en,...D,ref:z,style:{...D.style,animation:ee?void 0:"none"}})})})});oG.displayName=oK;var oJ="PopperArrow",oY={top:"bottom",right:"left",bottom:"top",left:"right"},oX=P.forwardRef(function(e,t){let{__scopePopper:r,...n}=e,s=oV(oJ,r),i=oY[s.placedSide];return(0,rA.jsx)("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:(0,rA.jsx)(oL,{...n,ref:t,style:{...n.style,display:"block"}})})});function oZ(e){return null!==e}oX.displayName=oJ;var oQ=e=>({name:"transformOrigin",options:e,fn(t){let{placement:r,rects:n,middlewareData:s}=t,i=s.arrow?.centerOffset!==0,o=i?0:e.arrowWidth,a=i?0:e.arrowHeight,[l,u]=o0(r),c={start:"0%",center:"50%",end:"100%"}[u],h=(s.arrow?.x??0)+o/2,d=(s.arrow?.y??0)+a/2,f="",p="";return"bottom"===l?(f=i?c:`${h}px`,p=`${-a}px`):"top"===l?(f=i?c:`${h}px`,p=`${n.floating.height+a}px`):"right"===l?(f=`${-a}px`,p=i?c:`${d}px`):"left"===l&&(f=`${n.floating.width+a}px`,p=i?c:`${d}px`),{data:{x:f,y:p}}}});function o0(e){let[t,r="center"]=e.split("-");return[t,r]}e.s(["Anchor",()=>oq,"Arrow",()=>oX,"Content",()=>oG,"Root",()=>oF,"createPopperScope",()=>oM],53660);var o1=P.forwardRef((e,t)=>{let{container:r,...n}=e,[s,i]=P.useState(!1);nQ(()=>i(!0),[]);let o=r||s&&globalThis?.document?.body;return o?nz.default.createPortal((0,rA.jsx)(nX.div,{...n,ref:t}),o):null});o1.displayName="Portal",e.s(["Portal",()=>o1],74606);var o2="rovingFocusGroup.onEntryFocus",o5={bubbles:!1,cancelable:!0},o6="RovingFocusGroup",[o3,o8,o4]=s4(o6),[o9,o7]=n5(o6,[o4]),[ae,at]=o9(o6),ar=P.forwardRef((e,t)=>(0,rA.jsx)(o3.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,rA.jsx)(o3.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,rA.jsx)(an,{...e,ref:t})})}));ar.displayName=o6;var an=P.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,orientation:n,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,preventScrollOnEntryFocus:c=!1,...h}=e,d=P.useRef(null),f=nq(t,d),p=n8(i),[g,m]=s8({prop:o,defaultProp:a??null,onChange:l,caller:o6}),[y,v]=P.useState(!1),w=n6(u),b=o8(r),_=P.useRef(!1),[k,x]=P.useState(0);return P.useEffect(()=>{let e=d.current;if(e)return e.addEventListener(o2,w),()=>e.removeEventListener(o2,w)},[w]),(0,rA.jsx)(ae,{scope:r,orientation:n,dir:p,loop:s,currentTabStopId:g,onItemFocus:P.useCallback(e=>m(e),[m]),onItemShiftTab:P.useCallback(()=>v(!0),[]),onFocusableItemAdd:P.useCallback(()=>x(e=>e+1),[]),onFocusableItemRemove:P.useCallback(()=>x(e=>e-1),[]),children:(0,rA.jsx)(nX.div,{tabIndex:y||0===k?-1:0,"data-orientation":n,...h,ref:f,style:{outline:"none",...e.style},onMouseDown:n9(e.onMouseDown,()=>{_.current=!0}),onFocus:n9(e.onFocus,e=>{let t=!_.current;if(e.target===e.currentTarget&&t&&!y){let t=new CustomEvent(o2,o5);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=b().filter(e=>e.focusable);aa([e.find(e=>e.active),e.find(e=>e.id===g),...e].filter(Boolean).map(e=>e.ref.current),c)}}_.current=!1}),onBlur:n9(e.onBlur,()=>v(!1))})})}),as="RovingFocusGroupItem",ai=P.forwardRef((e,t)=>{let{__scopeRovingFocusGroup:r,focusable:n=!0,active:s=!1,tabStopId:i,children:o,...a}=e,l=ik(),u=i||l,c=at(as,r),h=c.currentTabStopId===u,d=o8(r),{onFocusableItemAdd:f,onFocusableItemRemove:p,currentTabStopId:g}=c;return P.useEffect(()=>{if(n)return f(),()=>p()},[n,f,p]),(0,rA.jsx)(o3.ItemSlot,{scope:r,id:u,focusable:n,active:s,children:(0,rA.jsx)(nX.span,{tabIndex:h?0:-1,"data-orientation":c.orientation,...a,ref:t,onMouseDown:n9(e.onMouseDown,e=>{n?c.onItemFocus(u):e.preventDefault()}),onFocus:n9(e.onFocus,()=>c.onItemFocus(u)),onKeyDown:n9(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void c.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,r){var n;let s=(n=e.key,"rtl"!==r?n:"ArrowLeft"===n?"ArrowRight":"ArrowRight"===n?"ArrowLeft":n);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(s))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(s)))return ao[s]}(e,c.orientation,c.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let s=d().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)s.reverse();else if("prev"===t||"next"===t){var r,n;"prev"===t&&s.reverse();let i=s.indexOf(e.currentTarget);s=c.loop?(r=s,n=i+1,r.map((e,t)=>r[(n+t)%r.length])):s.slice(i+1)}setTimeout(()=>aa(s))}}),children:"function"==typeof o?o({isCurrentTabStop:h,hasTabStop:null!=g}):o})})});ai.displayName=as;var ao={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function aa(e,t=!1){let r=document.activeElement;for(let n of e)if(n===r||(n.focus({preventScroll:t}),document.activeElement!==r))return}var al=new WeakMap,au=new WeakMap,ac={},ah=0,ad=function(e){return e&&(e.host||ad(e.parentNode))},af=function(e,t,r,n){var s=(Array.isArray(e)?e:[e]).map(function(e){if(t.contains(e))return e;var r=ad(e);return r&&t.contains(r)?r:(console.error("aria-hidden",e,"in not contained inside",t,". Doing nothing"),null)}).filter(function(e){return!!e});ac[r]||(ac[r]=new WeakMap);var i=ac[r],o=[],a=new Set,l=new Set(s),u=function(e){!e||a.has(e)||(a.add(e),u(e.parentNode))};s.forEach(u);var c=function(e){!e||l.has(e)||Array.prototype.forEach.call(e.children,function(e){if(a.has(e))c(e);else try{var t=e.getAttribute(n),s=null!==t&&"false"!==t,l=(al.get(e)||0)+1,u=(i.get(e)||0)+1;al.set(e,l),i.set(e,u),o.push(e),1===l&&s&&au.set(e,!0),1===u&&e.setAttribute(r,"true"),s||e.setAttribute(n,"true")}catch(t){console.error("aria-hidden: cannot operate on ",e,t)}})};return c(t),a.clear(),ah++,function(){o.forEach(function(e){var t=al.get(e)-1,s=i.get(e)-1;al.set(e,t),i.set(e,s),t||(au.has(e)||e.removeAttribute(n),au.delete(e)),s||e.removeAttribute(r)}),--ah||(al=new WeakMap,al=new WeakMap,au=new WeakMap,ac={})}},ap=function(e,t,r){void 0===r&&(r="data-aria-hidden");var n=Array.from(Array.isArray(e)?e:[e]),s=t||("u"<typeof document?null:(Array.isArray(e)?e[0]:e).ownerDocument.body);return s?(n.push.apply(n,Array.from(s.querySelectorAll("[aria-live], script"))),af(n,s,r,"aria-hidden")):function(){return null}};e.s(["hideOthers",()=>ap],86312);var ag="right-scroll-bar-position",am="width-before-scroll-bar";function ay(e,t){return"function"==typeof e?e(t):e&&(e.current=t),e}var av="u">typeof window?P.useLayoutEffect:P.useEffect,aw=new WeakMap,ab=(void 0===f&&(f={}),(void 0===p&&(p=function(e){return e}),g=[],m=!1,y={read:function(){if(m)throw Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return g.length?g[g.length-1]:null},useMedium:function(e){var t=p(e,m);return g.push(t),function(){g=g.filter(function(e){return e!==t})}},assignSyncMedium:function(e){for(m=!0;g.length;){var t=g;g=[],t.forEach(e)}g={push:function(t){return e(t)},filter:function(){return g}}},assignMedium:function(e){m=!0;var t=[];if(g.length){var r=g;g=[],r.forEach(e),t=g}var n=function(){var r=t;t=[],r.forEach(e)},s=function(){return Promise.resolve().then(n)};s(),g={push:function(e){t.push(e),s()},filter:function(e){return t=t.filter(e),g}}}}).options=D({async:!0,ssr:!1},f),y),a_=function(){},ak=P.forwardRef(function(e,t){var r,n,s,i,o=P.useRef(null),a=P.useState({onScrollCapture:a_,onWheelCapture:a_,onTouchMoveCapture:a_}),l=a[0],u=a[1],c=e.forwardProps,h=e.children,d=e.className,f=e.removeScrollBar,p=e.enabled,g=e.shards,m=e.sideCar,y=e.noRelative,v=e.noIsolation,w=e.inert,b=e.allowPinchZoom,_=e.as,k=e.gapMode,x=U(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),S=(r=[o,t],n=function(e){return r.forEach(function(t){return ay(t,e)})},(s=(0,P.useState)(function(){return{value:null,callback:n,facade:{get current(){return s.value},set current(value){var e=s.value;e!==value&&(s.value=value,s.callback(value,e))}}}})[0]).callback=n,i=s.facade,av(function(){var e=aw.get(i);if(e){var t=new Set(e),n=new Set(r),s=i.current;t.forEach(function(e){n.has(e)||ay(e,null)}),n.forEach(function(e){t.has(e)||ay(e,s)})}aw.set(i,r)},[r]),i),E=D(D({},x),l);return P.createElement(P.Fragment,null,p&&P.createElement(m,{sideCar:ab,removeScrollBar:f,shards:g,noRelative:y,noIsolation:v,inert:w,setCallbacks:u,allowPinchZoom:!!b,lockRef:o,gapMode:k}),c?P.cloneElement(P.Children.only(h),D(D({},E),{ref:S})):P.createElement(void 0===_?"div":_,D({},E,{className:d,ref:S}),h))});ak.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1},ak.classNames={fullWidth:am,zeroRight:ag};var ax=function(e){var t=e.sideCar,r=U(e,["sideCar"]);if(!t)throw Error("Sidecar: please provide `sideCar` property to import the right car");var n=t.read();if(!n)throw Error("Sidecar medium not found");return P.createElement(n,D({},r))};ax.isSideCarExport=!0;var aS=function(){var e=0,t=null;return{add:function(r){if(0==e&&(t=function(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=C||("u">typeof __webpack_nonce__?__webpack_nonce__:void 0);return t&&e.setAttribute("nonce",t),e}())){var n,s;(n=t).styleSheet?n.styleSheet.cssText=r:n.appendChild(document.createTextNode(r)),s=t,(document.head||document.getElementsByTagName("head")[0]).appendChild(s)}e++},remove:function(){--e||!t||(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},aE=function(){var e=aS();return function(t,r){P.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&r])}},aT=function(){var e=aE();return function(t){return e(t.styles,t.dynamic),null}},aR={left:0,top:0,right:0,gap:0},aA=function(e){return parseInt(e||"",10)||0},aO=function(e){var t=window.getComputedStyle(document.body),r=t["padding"===e?"paddingLeft":"marginLeft"],n=t["padding"===e?"paddingTop":"marginTop"],s=t["padding"===e?"paddingRight":"marginRight"];return[aA(r),aA(n),aA(s)]},aj=function(e){if(void 0===e&&(e="margin"),"u"<typeof window)return aR;var t=aO(e),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,n-r+t[2]-t[0])}},aC=aT(),aP="data-scroll-locked",aI=function(e,t,r,n){var s=e.left,i=e.top,o=e.right,a=e.gap;return void 0===r&&(r="margin"),"\n  .".concat("with-scroll-bars-hidden"," {\n   overflow: hidden ").concat(n,";\n   padding-right: ").concat(a,"px ").concat(n,";\n  }\n  body[").concat(aP,"] {\n    overflow: hidden ").concat(n,";\n    overscroll-behavior: contain;\n    ").concat([t&&"position: relative ".concat(n,";"),"margin"===r&&"\n    padding-left: ".concat(s,"px;\n    padding-top: ").concat(i,"px;\n    padding-right: ").concat(o,"px;\n    margin-left:0;\n    margin-top:0;\n    margin-right: ").concat(a,"px ").concat(n,";\n    "),"padding"===r&&"padding-right: ".concat(a,"px ").concat(n,";")].filter(Boolean).join(""),"\n  }\n  \n  .").concat(ag," {\n    right: ").concat(a,"px ").concat(n,";\n  }\n  \n  .").concat(am," {\n    margin-right: ").concat(a,"px ").concat(n,";\n  }\n  \n  .").concat(ag," .").concat(ag," {\n    right: 0 ").concat(n,";\n  }\n  \n  .").concat(am," .").concat(am," {\n    margin-right: 0 ").concat(n,";\n  }\n  \n  body[").concat(aP,"] {\n    ").concat("--removed-body-scroll-bar-size",": ").concat(a,"px;\n  }\n")},aN=function(){var e=parseInt(document.body.getAttribute(aP)||"0",10);return isFinite(e)?e:0},a$=function(){P.useEffect(function(){return document.body.setAttribute(aP,(aN()+1).toString()),function(){var e=aN()-1;e<=0?document.body.removeAttribute(aP):document.body.setAttribute(aP,e.toString())}},[])},aL=function(e){var t=e.noRelative,r=e.noImportant,n=e.gapMode,s=void 0===n?"margin":n;a$();var i=P.useMemo(function(){return aj(s)},[s]);return P.createElement(aC,{styles:aI(i,!t,s,r?"":"!important")})},aD=!1;if("u">typeof window)try{var aU=Object.defineProperty({},"passive",{get:function(){return aD=!0,!0}});window.addEventListener("test",aU,aU),window.removeEventListener("test",aU,aU)}catch(e){aD=!1}var aM=!!aD&&{passive:!1},aB=function(e,t){if(!(e instanceof Element))return!1;var r=window.getComputedStyle(e);return"hidden"!==r[t]&&(r.overflowY!==r.overflowX||"TEXTAREA"===e.tagName||"visible"!==r[t])},az=function(e,t){var r=t.ownerDocument,n=t;do{if("u">typeof ShadowRoot&&n instanceof ShadowRoot&&(n=n.host),aF(e,n)){var s=aW(e,n);if(s[1]>s[2])return!0}n=n.parentNode}while(n&&n!==r.body)return!1},aF=function(e,t){return"v"===e?aB(t,"overflowY"):aB(t,"overflowX")},aW=function(e,t){return"v"===e?[t.scrollTop,t.scrollHeight,t.clientHeight]:[t.scrollLeft,t.scrollWidth,t.clientWidth]},aq=function(e,t,r,n,s){var i,o=(i=window.getComputedStyle(t).direction,"h"===e&&"rtl"===i?-1:1),a=o*n,l=r.target,u=t.contains(l),c=!1,h=a>0,d=0,f=0;do{if(!l)break;var p=aW(e,l),g=p[0],m=p[1]-p[2]-o*g;(g||m)&&aF(e,l)&&(d+=m,f+=g);var y=l.parentNode;l=y&&y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?y.host:y}while(!u&&l!==document.body||u&&(t.contains(l)||t===l))return h&&(s&&1>Math.abs(d)||!s&&a>d)?c=!0:!h&&(s&&1>Math.abs(f)||!s&&-a>f)&&(c=!0),c},aK=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},aH=function(e){return[e.deltaX,e.deltaY]},aV=function(e){return e&&"current"in e?e.current:e},aG=0,aJ=[];let aY=(v=function(e){var t=P.useRef([]),r=P.useRef([0,0]),n=P.useRef(),s=P.useState(aG++)[0],i=P.useState(aT)[0],o=P.useRef(e);P.useEffect(function(){o.current=e},[e]),P.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var t=(function(e,t,r){if(r||2==arguments.length)for(var n,s=0,i=t.length;s<i;s++)!n&&s in t||(n||(n=Array.prototype.slice.call(t,0,s)),n[s]=t[s]);return e.concat(n||Array.prototype.slice.call(t))})([e.lockRef.current],(e.shards||[]).map(aV),!0).filter(Boolean);return t.forEach(function(e){return e.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),t.forEach(function(e){return e.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=P.useCallback(function(e,t){if("touches"in e&&2===e.touches.length||"wheel"===e.type&&e.ctrlKey)return!o.current.allowPinchZoom;var s,i=aK(e),a=r.current,l="deltaX"in e?e.deltaX:a[0]-i[0],u="deltaY"in e?e.deltaY:a[1]-i[1],c=e.target,h=Math.abs(l)>Math.abs(u)?"h":"v";if("touches"in e&&"h"===h&&"range"===c.type)return!1;var d=window.getSelection(),f=d&&d.anchorNode;if(f&&(f===c||f.contains(c)))return!1;var p=az(h,c);if(!p)return!0;if(p?s=h:(s="v"===h?"h":"v",p=az(h,c)),!p)return!1;if(!n.current&&"changedTouches"in e&&(l||u)&&(n.current=s),!s)return!0;var g=n.current||s;return aq(g,t,e,"h"===g?l:u,!0)},[]),l=P.useCallback(function(e){if(aJ.length&&aJ[aJ.length-1]===i){var r="deltaY"in e?aH(e):aK(e),n=t.current.filter(function(t){var n;return t.name===e.type&&(t.target===e.target||e.target===t.shadowParent)&&(n=t.delta,n[0]===r[0]&&n[1]===r[1])})[0];if(n&&n.should){e.cancelable&&e.preventDefault();return}if(!n){var s=(o.current.shards||[]).map(aV).filter(Boolean).filter(function(t){return t.contains(e.target)});(s.length>0?a(e,s[0]):!o.current.noIsolation)&&e.cancelable&&e.preventDefault()}}},[]),u=P.useCallback(function(e,r,n,s){var i={name:e,delta:r,target:n,should:s,shadowParent:function(e){for(var t=null;null!==e;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}(n)};t.current.push(i),setTimeout(function(){t.current=t.current.filter(function(e){return e!==i})},1)},[]),c=P.useCallback(function(e){r.current=aK(e),n.current=void 0},[]),h=P.useCallback(function(t){u(t.type,aH(t),t.target,a(t,e.lockRef.current))},[]),d=P.useCallback(function(t){u(t.type,aK(t),t.target,a(t,e.lockRef.current))},[]);P.useEffect(function(){return aJ.push(i),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:d}),document.addEventListener("wheel",l,aM),document.addEventListener("touchmove",l,aM),document.addEventListener("touchstart",c,aM),function(){aJ=aJ.filter(function(e){return e!==i}),document.removeEventListener("wheel",l,aM),document.removeEventListener("touchmove",l,aM),document.removeEventListener("touchstart",c,aM)}},[]);var f=e.removeScrollBar,p=e.inert;return P.createElement(P.Fragment,null,p?P.createElement(i,{styles:"\n  .block-interactivity-".concat(s," {pointer-events: none;}\n  .allow-interactivity-").concat(s," {pointer-events: all;}\n")}):null,f?P.createElement(aL,{noRelative:e.noRelative,gapMode:e.gapMode}):null)},ab.useMedium(v),ax);var aX=P.forwardRef(function(e,t){return P.createElement(ak,D({},e,{ref:t,sideCar:aY}))});aX.classNames=ak.classNames,e.s(["RemoveScroll",0,aX],85369);var aZ=["Enter"," "],aQ=["ArrowUp","PageDown","End"],a0=["ArrowDown","PageUp","Home",...aQ],a1={ltr:[...aZ,"ArrowRight"],rtl:[...aZ,"ArrowLeft"]},a2={ltr:["ArrowLeft"],rtl:["ArrowRight"]},a5="Menu",[a6,a3,a8]=s4(a5),[a4,a9]=n5(a5,[a8,oM,o7]),a7=oM(),le=o7(),[lt,lr]=a4(a5),[ln,ls]=a4(a5),li=e=>{let{__scopeMenu:t,open:r=!1,children:n,dir:s,onOpenChange:i,modal:o=!0}=e,a=a7(t),[l,u]=P.useState(null),c=P.useRef(!1),h=n6(i),d=n8(s);return P.useEffect(()=>{let e=()=>{c.current=!0,document.addEventListener("pointerdown",t,{capture:!0,once:!0}),document.addEventListener("pointermove",t,{capture:!0,once:!0})},t=()=>c.current=!1;return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0}),document.removeEventListener("pointerdown",t,{capture:!0}),document.removeEventListener("pointermove",t,{capture:!0})}},[]),(0,rA.jsx)(oF,{...a,children:(0,rA.jsx)(lt,{scope:t,open:r,onOpenChange:h,content:l,onContentChange:u,children:(0,rA.jsx)(ln,{scope:t,onClose:P.useCallback(()=>h(!1),[h]),isUsingKeyboardRef:c,dir:d,modal:o,children:n})})})};li.displayName=a5;var lo=P.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e,s=a7(r);return(0,rA.jsx)(oq,{...s,...n,ref:t})});lo.displayName="MenuAnchor";var la="MenuPortal",[ll,lu]=a4(la,{forceMount:void 0}),lc=e=>{let{__scopeMenu:t,forceMount:r,children:n,container:s}=e,i=lr(la,t);return(0,rA.jsx)(ll,{scope:t,forceMount:r,children:(0,rA.jsx)(n0,{present:r||i.open,children:(0,rA.jsx)(o1,{asChild:!0,container:s,children:n})})})};lc.displayName=la;var lh="MenuContent",[ld,lf]=a4(lh),lp=P.forwardRef((e,t)=>{let r=lu(lh,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=lr(lh,e.__scopeMenu),o=ls(lh,e.__scopeMenu);return(0,rA.jsx)(a6.Provider,{scope:e.__scopeMenu,children:(0,rA.jsx)(n0,{present:n||i.open,children:(0,rA.jsx)(a6.Slot,{scope:e.__scopeMenu,children:o.modal?(0,rA.jsx)(lg,{...s,ref:t}):(0,rA.jsx)(lm,{...s,ref:t})})})})}),lg=P.forwardRef((e,t)=>{let r=lr(lh,e.__scopeMenu),n=P.useRef(null),s=nq(t,n);return P.useEffect(()=>{let e=n.current;if(e)return ap(e)},[]),(0,rA.jsx)(lv,{...e,ref:s,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:n9(e.onFocusOutside,e=>e.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),lm=P.forwardRef((e,t)=>{let r=lr(lh,e.__scopeMenu);return(0,rA.jsx)(lv,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),ly=nK("MenuContent.ScrollLock"),lv=P.forwardRef((e,t)=>{let{__scopeMenu:r,loop:n=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:u,onPointerDownOutside:c,onFocusOutside:h,onInteractOutside:d,onDismiss:f,disableOutsideScroll:p,...g}=e,m=lr(lh,r),y=ls(lh,r),v=a7(r),w=le(r),b=a3(r),[_,k]=P.useState(null),x=P.useRef(null),S=nq(t,x,m.onContentChange),E=P.useRef(0),T=P.useRef(""),R=P.useRef(0),A=P.useRef(null),O=P.useRef("right"),j=P.useRef(0),C=p?aX:P.Fragment;P.useEffect(()=>()=>window.clearTimeout(E.current),[]),il();let I=P.useCallback(e=>{var t,r;return O.current===A.current?.side&&(t=e,!!(r=A.current?.area)&&function(e,t){let{x:r,y:n}=e,s=!1;for(let e=0,i=t.length-1;e<t.length;i=e++){let o=t[e],a=t[i],l=o.x,u=o.y,c=a.x,h=a.y;u>n!=h>n&&r<(c-l)*(n-u)/(h-u)+l&&(s=!s)}return s}({x:t.clientX,y:t.clientY},r))},[]);return(0,rA.jsx)(ld,{scope:r,searchRef:T,onItemEnter:P.useCallback(e=>{I(e)&&e.preventDefault()},[I]),onItemLeave:P.useCallback(e=>{I(e)||(x.current?.focus(),k(null))},[I]),onTriggerLeave:P.useCallback(e=>{I(e)&&e.preventDefault()},[I]),pointerGraceTimerRef:R,onPointerGraceIntentChange:P.useCallback(e=>{A.current=e},[]),children:(0,rA.jsx)(C,{...p?{as:ly,allowPinchZoom:!0}:void 0,children:(0,rA.jsx)(ip,{asChild:!0,trapped:s,onMountAutoFocus:n9(i,e=>{e.preventDefault(),x.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:(0,rA.jsx)(is,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:u,onPointerDownOutside:c,onFocusOutside:h,onInteractOutside:d,onDismiss:f,children:(0,rA.jsx)(ar,{asChild:!0,...w,dir:y.dir,orientation:"vertical",loop:n,currentTabStopId:_,onCurrentTabStopIdChange:k,onEntryFocus:n9(l,e=>{y.isUsingKeyboardRef.current||e.preventDefault()}),preventScrollOnEntryFocus:!0,children:(0,rA.jsx)(oG,{role:"menu","aria-orientation":"vertical","data-state":lH(m.open),"data-radix-menu-content":"",dir:y.dir,...v,...g,ref:S,style:{outline:"none",...g.style},onKeyDown:n9(g.onKeyDown,e=>{let t=e.target.closest("[data-radix-menu-content]")===e.currentTarget,r=e.ctrlKey||e.altKey||e.metaKey,n=1===e.key.length;if(t){var s;let t,i,o,a,l,u;"Tab"===e.key&&e.preventDefault(),!r&&n&&(s=e.key,t=T.current+s,i=b().filter(e=>!e.disabled),o=document.activeElement,a=i.find(e=>e.ref.current===o)?.textValue,l=function(e,t,r){var n;let s=t.length>1&&Array.from(t).every(e=>e===t[0])?t[0]:t,i=r?e.indexOf(r):-1,o=(n=Math.max(i,0),e.map((t,r)=>e[(n+r)%e.length]));1===s.length&&(o=o.filter(e=>e!==r));let a=o.find(e=>e.toLowerCase().startsWith(s.toLowerCase()));return a!==r?a:void 0}(i.map(e=>e.textValue),t,a),u=i.find(e=>e.textValue===l)?.ref.current,function e(t){T.current=t,window.clearTimeout(E.current),""!==t&&(E.current=window.setTimeout(()=>e(""),1e3))}(t),u&&setTimeout(()=>u.focus()))}let i=x.current;if(e.target!==i||!a0.includes(e.key))return;e.preventDefault();let o=b().filter(e=>!e.disabled).map(e=>e.ref.current);aQ.includes(e.key)&&o.reverse(),function(e){let t=document.activeElement;for(let r of e)if(r===t||(r.focus(),document.activeElement!==t))return}(o)}),onBlur:n9(e.onBlur,e=>{e.currentTarget.contains(e.target)||(window.clearTimeout(E.current),T.current="")}),onPointerMove:n9(e.onPointerMove,lJ(e=>{let t=e.target,r=j.current!==e.clientX;e.currentTarget.contains(t)&&r&&(O.current=e.clientX>j.current?"right":"left",j.current=e.clientX)}))})})})})})})});lp.displayName=lh;var lw=P.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e;return(0,rA.jsx)(nX.div,{role:"group",...n,ref:t})});lw.displayName="MenuGroup";var lb=P.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e;return(0,rA.jsx)(nX.div,{...n,ref:t})});lb.displayName="MenuLabel";var l_="MenuItem",lk="menu.itemSelect",lx=P.forwardRef((e,t)=>{let{disabled:r=!1,onSelect:n,...s}=e,i=P.useRef(null),o=ls(l_,e.__scopeMenu),a=lf(l_,e.__scopeMenu),l=nq(t,i),u=P.useRef(!1);return(0,rA.jsx)(lS,{...s,ref:l,disabled:r,onClick:n9(e.onClick,()=>{let e=i.current;if(!r&&e){let t=new CustomEvent(lk,{bubbles:!0,cancelable:!0});e.addEventListener(lk,e=>n?.(e),{once:!0}),nZ(e,t),t.defaultPrevented?u.current=!1:o.onClose()}}),onPointerDown:t=>{e.onPointerDown?.(t),u.current=!0},onPointerUp:n9(e.onPointerUp,e=>{u.current||e.currentTarget?.click()}),onKeyDown:n9(e.onKeyDown,e=>{let t=""!==a.searchRef.current;r||t&&" "===e.key||aZ.includes(e.key)&&(e.currentTarget.click(),e.preventDefault())})})});lx.displayName=l_;var lS=P.forwardRef((e,t)=>{let{__scopeMenu:r,disabled:n=!1,textValue:s,...i}=e,o=lf(l_,r),a=le(r),l=P.useRef(null),u=nq(t,l),[c,h]=P.useState(!1),[d,f]=P.useState("");return P.useEffect(()=>{let e=l.current;e&&f((e.textContent??"").trim())},[i.children]),(0,rA.jsx)(a6.ItemSlot,{scope:r,disabled:n,textValue:s??d,children:(0,rA.jsx)(ai,{asChild:!0,...a,focusable:!n,children:(0,rA.jsx)(nX.div,{role:"menuitem","data-highlighted":c?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:u,onPointerMove:n9(e.onPointerMove,lJ(e=>{n?o.onItemLeave(e):(o.onItemEnter(e),e.defaultPrevented||e.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:n9(e.onPointerLeave,lJ(e=>o.onItemLeave(e))),onFocus:n9(e.onFocus,()=>h(!0)),onBlur:n9(e.onBlur,()=>h(!1))})})})}),lE=P.forwardRef((e,t)=>{let{checked:r=!1,onCheckedChange:n,...s}=e;return(0,rA.jsx)(lI,{scope:e.__scopeMenu,checked:r,children:(0,rA.jsx)(lx,{role:"menuitemcheckbox","aria-checked":lV(r)?"mixed":r,...s,ref:t,"data-state":lG(r),onSelect:n9(s.onSelect,()=>n?.(!!lV(r)||!r),{checkForDefaultPrevented:!1})})})});lE.displayName="MenuCheckboxItem";var lT="MenuRadioGroup",[lR,lA]=a4(lT,{value:void 0,onValueChange:()=>{}}),lO=P.forwardRef((e,t)=>{let{value:r,onValueChange:n,...s}=e,i=n6(n);return(0,rA.jsx)(lR,{scope:e.__scopeMenu,value:r,onValueChange:i,children:(0,rA.jsx)(lw,{...s,ref:t})})});lO.displayName=lT;var lj="MenuRadioItem",lC=P.forwardRef((e,t)=>{let{value:r,...n}=e,s=lA(lj,e.__scopeMenu),i=r===s.value;return(0,rA.jsx)(lI,{scope:e.__scopeMenu,checked:i,children:(0,rA.jsx)(lx,{role:"menuitemradio","aria-checked":i,...n,ref:t,"data-state":lG(i),onSelect:n9(n.onSelect,()=>s.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});lC.displayName=lj;var lP="MenuItemIndicator",[lI,lN]=a4(lP,{checked:!1}),l$=P.forwardRef((e,t)=>{let{__scopeMenu:r,forceMount:n,...s}=e,i=lN(lP,r);return(0,rA.jsx)(n0,{present:n||lV(i.checked)||!0===i.checked,children:(0,rA.jsx)(nX.span,{...s,ref:t,"data-state":lG(i.checked)})})});l$.displayName=lP;var lL=P.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e;return(0,rA.jsx)(nX.div,{role:"separator","aria-orientation":"horizontal",...n,ref:t})});lL.displayName="MenuSeparator";var lD=P.forwardRef((e,t)=>{let{__scopeMenu:r,...n}=e,s=a7(r);return(0,rA.jsx)(oX,{...s,...n,ref:t})});lD.displayName="MenuArrow";var lU="MenuSub",[lM,lB]=a4(lU),lz=e=>{let{__scopeMenu:t,children:r,open:n=!1,onOpenChange:s}=e,i=lr(lU,t),o=a7(t),[a,l]=P.useState(null),[u,c]=P.useState(null),h=n6(s);return P.useEffect(()=>(!1===i.open&&h(!1),()=>h(!1)),[i.open,h]),(0,rA.jsx)(oF,{...o,children:(0,rA.jsx)(lt,{scope:t,open:n,onOpenChange:h,content:u,onContentChange:c,children:(0,rA.jsx)(lM,{scope:t,contentId:ik(),triggerId:ik(),trigger:a,onTriggerChange:l,children:r})})})};lz.displayName=lU;var lF="MenuSubTrigger",lW=P.forwardRef((e,t)=>{let r=lr(lF,e.__scopeMenu),n=ls(lF,e.__scopeMenu),s=lB(lF,e.__scopeMenu),i=lf(lF,e.__scopeMenu),o=P.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,u={__scopeMenu:e.__scopeMenu},c=P.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return P.useEffect(()=>c,[c]),P.useEffect(()=>{let e=a.current;return()=>{window.clearTimeout(e),l(null)}},[a,l]),(0,rA.jsx)(lo,{asChild:!0,...u,children:(0,rA.jsx)(lS,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":s.contentId,"data-state":lH(r.open),...e,ref:nW(t,s.onTriggerChange),onClick:t=>{e.onClick?.(t),e.disabled||t.defaultPrevented||(t.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:n9(e.onPointerMove,lJ(t=>{i.onItemEnter(t),!t.defaultPrevented&&(e.disabled||r.open||o.current||(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),c()},100)))})),onPointerLeave:n9(e.onPointerLeave,lJ(e=>{c();let t=r.content?.getBoundingClientRect();if(t){let n=r.content?.dataset.side,s="right"===n,o=t[s?"left":"right"],l=t[s?"right":"left"];i.onPointerGraceIntentChange({area:[{x:e.clientX+(s?-5:5),y:e.clientY},{x:o,y:t.top},{x:l,y:t.top},{x:l,y:t.bottom},{x:o,y:t.bottom}],side:n}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(e),e.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:n9(e.onKeyDown,t=>{let s=""!==i.searchRef.current;e.disabled||s&&" "===t.key||a1[n.dir].includes(t.key)&&(r.onOpenChange(!0),r.content?.focus(),t.preventDefault())})})})});lW.displayName=lF;var lq="MenuSubContent",lK=P.forwardRef((e,t)=>{let r=lu(lh,e.__scopeMenu),{forceMount:n=r.forceMount,...s}=e,i=lr(lh,e.__scopeMenu),o=ls(lh,e.__scopeMenu),a=lB(lq,e.__scopeMenu),l=P.useRef(null),u=nq(t,l);return(0,rA.jsx)(a6.Provider,{scope:e.__scopeMenu,children:(0,rA.jsx)(n0,{present:n||i.open,children:(0,rA.jsx)(a6.Slot,{scope:e.__scopeMenu,children:(0,rA.jsx)(lv,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:u,align:"start",side:"rtl"===o.dir?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:e=>{o.isUsingKeyboardRef.current&&l.current?.focus(),e.preventDefault()},onCloseAutoFocus:e=>e.preventDefault(),onFocusOutside:n9(e.onFocusOutside,e=>{e.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:n9(e.onEscapeKeyDown,e=>{o.onClose(),e.preventDefault()}),onKeyDown:n9(e.onKeyDown,e=>{let t=e.currentTarget.contains(e.target),r=a2[o.dir].includes(e.key);t&&r&&(i.onOpenChange(!1),a.trigger?.focus(),e.preventDefault())})})})})})});function lH(e){return e?"open":"closed"}function lV(e){return"indeterminate"===e}function lG(e){return lV(e)?"indeterminate":e?"checked":"unchecked"}function lJ(e){return t=>"mouse"===t.pointerType?e(t):void 0}lK.displayName=lq;var lY="DropdownMenu",[lX,lZ]=n5(lY,[a9]),lQ=a9(),[l0,l1]=lX(lY),l2=e=>{let{__scopeDropdownMenu:t,children:r,dir:n,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=e,l=lQ(t),u=P.useRef(null),[c,h]=s8({prop:s,defaultProp:i??!1,onChange:o,caller:lY});return(0,rA.jsx)(l0,{scope:t,triggerId:ik(),triggerRef:u,contentId:ik(),open:c,onOpenChange:h,onOpenToggle:P.useCallback(()=>h(e=>!e),[h]),modal:a,children:(0,rA.jsx)(li,{...l,open:c,onOpenChange:h,dir:n,modal:a,children:r})})};l2.displayName=lY;var l5="DropdownMenuTrigger",l6=P.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,disabled:n=!1,...s}=e,i=l1(l5,r),o=lQ(r);return(0,rA.jsx)(lo,{asChild:!0,...o,children:(0,rA.jsx)(nX.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...s,ref:nW(t,i.triggerRef),onPointerDown:n9(e.onPointerDown,e=>{!n&&0===e.button&&!1===e.ctrlKey&&(i.onOpenToggle(),i.open||e.preventDefault())}),onKeyDown:n9(e.onKeyDown,e=>{!n&&(["Enter"," "].includes(e.key)&&i.onOpenToggle(),"ArrowDown"===e.key&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(e.key)&&e.preventDefault())})})})});l6.displayName=l5;var l3=e=>{let{__scopeDropdownMenu:t,...r}=e,n=lQ(t);return(0,rA.jsx)(lc,{...n,...r})};l3.displayName="DropdownMenuPortal";var l8="DropdownMenuContent",l4=P.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=l1(l8,r),i=lQ(r),o=P.useRef(!1);return(0,rA.jsx)(lp,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...n,ref:t,onCloseAutoFocus:n9(e.onCloseAutoFocus,e=>{o.current||s.triggerRef.current?.focus(),o.current=!1,e.preventDefault()}),onInteractOutside:n9(e.onInteractOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey,n=2===t.button||r;(!s.modal||n)&&(o.current=!0)}),style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});l4.displayName=l8;var l9=P.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=lQ(r);return(0,rA.jsx)(lw,{...s,...n,ref:t})});l9.displayName="DropdownMenuGroup";var l7=P.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=lQ(r);return(0,rA.jsx)(lb,{...s,...n,ref:t})});l7.displayName="DropdownMenuLabel";var ue=P.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=lQ(r);return(0,rA.jsx)(lx,{...s,...n,ref:t})});ue.displayName="DropdownMenuItem";var ut=P.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=lQ(r);return(0,rA.jsx)(lE,{...s,...n,ref:t})});ut.displayName="DropdownMenuCheckboxItem";var ur=P.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=lQ(r);return(0,rA.jsx)(lO,{...s,...n,ref:t})});ur.displayName="DropdownMenuRadioGroup";var un=P.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=lQ(r);return(0,rA.jsx)(lC,{...s,...n,ref:t})});un.displayName="DropdownMenuRadioItem";var us=P.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=lQ(r);return(0,rA.jsx)(l$,{...s,...n,ref:t})});us.displayName="DropdownMenuItemIndicator";var ui=P.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=lQ(r);return(0,rA.jsx)(lL,{...s,...n,ref:t})});ui.displayName="DropdownMenuSeparator";var uo=P.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=lQ(r);return(0,rA.jsx)(lD,{...s,...n,ref:t})});uo.displayName="DropdownMenuArrow";var ua=e=>{let{__scopeDropdownMenu:t,children:r,open:n,onOpenChange:s,defaultOpen:i}=e,o=lQ(t),[a,l]=s8({prop:n,defaultProp:i??!1,onChange:s,caller:"DropdownMenuSub"});return(0,rA.jsx)(lz,{...o,open:a,onOpenChange:l,children:r})},ul=P.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=lQ(r);return(0,rA.jsx)(lW,{...s,...n,ref:t})});ul.displayName="DropdownMenuSubTrigger";var uu=P.forwardRef((e,t)=>{let{__scopeDropdownMenu:r,...n}=e,s=lQ(r);return(0,rA.jsx)(lK,{...s,...n,ref:t,style:{...e.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});uu.displayName="DropdownMenuSubContent",e.s(["Arrow",()=>uo,"CheckboxItem",()=>ut,"Content",()=>l4,"DropdownMenu",()=>l2,"DropdownMenuArrow",()=>uo,"DropdownMenuCheckboxItem",()=>ut,"DropdownMenuContent",()=>l4,"DropdownMenuGroup",()=>l9,"DropdownMenuItem",()=>ue,"DropdownMenuItemIndicator",()=>us,"DropdownMenuLabel",()=>l7,"DropdownMenuPortal",()=>l3,"DropdownMenuRadioGroup",()=>ur,"DropdownMenuRadioItem",()=>un,"DropdownMenuSeparator",()=>ui,"DropdownMenuSub",()=>ua,"DropdownMenuSubContent",()=>uu,"DropdownMenuSubTrigger",()=>ul,"DropdownMenuTrigger",()=>l6,"Group",()=>l9,"Item",()=>ue,"ItemIndicator",()=>us,"Label",()=>l7,"Portal",()=>l3,"RadioGroup",()=>ur,"RadioItem",()=>un,"Root",()=>l2,"Separator",()=>ui,"Sub",()=>ua,"SubContent",()=>uu,"SubTrigger",()=>ul,"Trigger",()=>l6,"createDropdownMenuScope",()=>lZ],40666);var uc=e.i(40666),uc=uc;function uh({...e}){return(0,rA.jsx)(uc.Root,{"data-slot":"dropdown-menu",...e})}function ud({...e}){return(0,rA.jsx)(uc.Trigger,{"data-slot":"dropdown-menu-trigger",...e})}function uf({className:e,sideOffset:t=4,...r}){return(0,rA.jsx)(uc.Portal,{children:(0,rA.jsx)(uc.Content,{"data-slot":"dropdown-menu-content",sideOffset:t,className:nA("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border p-1 shadow-md",e),...r})})}function up({className:e,inset:t,variant:r="default",...n}){return(0,rA.jsx)(uc.Item,{"data-slot":"dropdown-menu-item","data-inset":t,"data-variant":r,className:nA("focus:bg-accent focus:text-accent-foreground data-[variant=destructive]:text-destructive data-[variant=destructive]:focus:bg-destructive/10 dark:data-[variant=destructive]:focus:bg-destructive/20 data-[variant=destructive]:focus:text-destructive data-[variant=destructive]:*:[svg]:!text-destructive [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 data-[inset]:pl-8 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...n})}function ug({className:e,...t}){return(0,rA.jsx)(uc.Separator,{"data-slot":"dropdown-menu-separator",className:nA("bg-border -mx-1 my-1 h-px",e),...t})}let um=nI("bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]]),uy=nI("chevron-down",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["default",()=>uy],31171);let uv=nI("user",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),uw=nI("log-out",[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]]);function ub(){return(0,rA.jsxs)("header",{className:"flex h-16 items-center justify-between border-b bg-white px-4 lg:px-6",children:[(0,rA.jsx)("div",{className:"w-10 lg:hidden"}),(0,rA.jsx)("div",{className:"flex items-center gap-4"}),(0,rA.jsxs)("div",{className:"flex items-center gap-2 sm:gap-4",children:[(0,rA.jsxs)(sM,{variant:"ghost",size:"icon",className:"relative",children:[(0,rA.jsx)(um,{className:"h-5 w-5 text-gray-600"}),(0,rA.jsx)("span",{className:"absolute -right-0.5 -top-0.5 flex h-4 w-4 items-center justify-center rounded-full bg-red-500 text-[10px] font-medium text-white",children:"3"})]}),(0,rA.jsxs)(uh,{children:[(0,rA.jsx)(ud,{asChild:!0,children:(0,rA.jsxs)(sM,{variant:"ghost",className:"flex items-center gap-2 px-2 hover:bg-gray-100",children:[(0,rA.jsx)(s2,{className:"h-8 w-8",children:(0,rA.jsx)(s5,{className:"bg-blue-100 text-blue-600",children:"AD"})}),(0,rA.jsxs)("div",{className:"hidden flex-col items-start text-sm sm:flex",children:[(0,rA.jsx)("span",{className:"font-medium text-gray-900",children:"Administrador"}),(0,rA.jsx)("span",{className:"text-xs text-gray-500",children:"Administrador"})]}),(0,rA.jsx)(uy,{className:"hidden h-4 w-4 text-gray-400 sm:block"})]})}),(0,rA.jsxs)(uf,{align:"end",className:"w-48",children:[(0,rA.jsxs)(up,{children:[(0,rA.jsx)(uv,{className:"mr-2 h-4 w-4"}),"Meu Perfil"]}),(0,rA.jsxs)(up,{children:[(0,rA.jsx)(nD,{className:"mr-2 h-4 w-4"}),"Configuraes"]}),(0,rA.jsx)(ug,{}),(0,rA.jsxs)(up,{className:"text-red-600",children:[(0,rA.jsx)(uw,{className:"mr-2 h-4 w-4"}),"Sair"]})]})]})]})]})}function u_({className:e,...t}){return(0,rA.jsx)("div",{"data-slot":"card",className:nA("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...t})}function uk({className:e,...t}){return(0,rA.jsx)("div",{"data-slot":"card-header",className:nA("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...t})}function ux({className:e,...t}){return(0,rA.jsx)("div",{"data-slot":"card-title",className:nA("leading-none font-semibold",e),...t})}function uS({className:e,...t}){return(0,rA.jsx)("div",{"data-slot":"card-content",className:nA("px-6",e),...t})}e.s(["Header",()=>ub],93963),e.s(["Card",()=>u_,"CardContent",()=>uS,"CardHeader",()=>uk,"CardTitle",()=>ux],15288);let uE=nI("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>uE],31278)}]);